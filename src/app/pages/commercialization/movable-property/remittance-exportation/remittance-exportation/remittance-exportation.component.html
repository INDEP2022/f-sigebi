<app-card [header]="true">
  <div header>
    <div class="ch-content">
      <h5 class="title">REPORTE DE BIENES EN EVENTOS</h5>
    </div>
  </div>
  <div body>
    <form class="form-material" [formGroup]="form">
      <div class="row">
        <div class="col-md-2">
          <form-field [control]="form.get('f_ini')" label="Fecha Inicio">
            <input
              class="form-control"
              formControlName="f_ini"
              bsDatepicker
              [bsConfig]="{
                dateInputFormat: 'DD/MM/YYYY'
              }"
              [(ngModel)]="fechaInicio"
              (ngModelChange)="ajustarFechas()" />
          </form-field>
        </div>
        <div class="col-md-2">
          <form-field [control]="form.get('f_fin')" label="Fecha Final">
            <input
              class="form-control"
              formControlName="f_fin"
              bsDatepicker
              [bsConfig]="{
                dateInputFormat: 'DD/MM/YYYY'
              }"
              [(ngModel)]="fechaFinal" />
          </form-field>
        </div>
        <div class="col-md-3" style="margin-top: -4px">
          <ng-custom-select-loading
            [form]="form"
            formControlName="coordination"
            [multiple]="false"
            label="Coordinación Regional"
            value="id"
            bindLabel="description"
            paramSearch="search"
            path="catalog/api/v1/delegation/get-all">
          </ng-custom-select-loading>
        </div>
        <div class="col-md-3">
          <form-field [control]="form.get('opcion')" label="Opción">
            <ng-select
              formControlName="opcion"
              [searchable]="false"
              class="form-control"
              [clearable]="false">
              <ng-option value="1">Resumen</ng-option>
              <ng-option value="2">Bienes del Resumen</ng-option>
              <ng-option value="3">Resumen Remesa</ng-option>
              <ng-option value="4">Bienes en Remesa</ng-option>
              <ng-option value="5">Resumen por Tipo de Evento</ng-option>
              <ng-option value="6">Bienes por Tipo de Evento</ng-option>
              <ng-option value="7">Resumen ADM y VXR</ng-option>
            </ng-select>
          </form-field>
        </div>

        <div class="col-md-2">
          <form-field [control]="form.get('goods')" label="Bienes">
            <ng-select
              formControlName="goods"
              [searchable]="false"
              class="form-control"
              (change)="event()"
              [clearable]="false">
              <ng-option value="B">Bienes no Registrados</ng-option>
              <ng-option value="R">Bienes en Remesa</ng-option>
              <ng-option value="A">Ambos</ng-option>
              <ng-option value="T">Bienes Retirados</ng-option>
            </ng-select>
          </form-field>
        </div>
      </div>

      <div class="row pt-3">
        <div class="col-md-2">
          <ng-custom-select-loading
            [form]="form"
            formControlName="typeEvent"
            [multiple]="false"
            label="Tipo de Evento"
            value="id"
            bindLabel="description"
            paramSearch="search"
            path="event/api/v1/comer-tevents">
          </ng-custom-select-loading>
          <!-- <app-event-type-shared
            [form]="form"
            formControlName="event"
            (onEventsChange)="event()"
            [bindLabel]="'id'"></app-event-type-shared> -->
        </div>
        <div class="col-md-2">
          <form-field [control]="form.get('idEvent')" label="ID Evento">
            <input
              class="form-control"
              type="number"
              formControlName="idEvent" />
          </form-field>
        </div>
        <div class="col-md-3">
          <form-check label="Revalidar Bienes Universo" for="label1">
            <input id="label1" type="checkbox" formControlName="universe" />
          </form-check>
        </div>
        <div class="col-md-3">
          <form-check label="Revalidar Bienes Evento" for="label2">
            <input id="label2" type="checkbox" formControlName="event" />
          </form-check>
        </div>
      </div>
      <div class="row justify-content-center">
        <div class="col-md-3">
          <button
            type="button"
            class="btn btn-sm btn-success active"
            (click)="exportExcel()"
            [disabled]="!form.valid">
            Exportar Excel
          </button>
        </div>
      </div>
    </form>
  </div>
</app-card>
