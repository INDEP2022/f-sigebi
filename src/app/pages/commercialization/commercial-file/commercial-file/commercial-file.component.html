<app-card [header]="true" [footer]="true">
  <div header>
    <div class="ch-content">
      <h5 class="title">
        GENERACIÓN DE FICHA COMERCIAL, FICHA TÉCNICA Y FICHA DE INGRESOS Y
        EGRESOS
      </h5>
    </div>
  </div>
  <div body>
    <div class="row">
      <form class="form-material" [formGroup]="form">
        <div class="row justify-content-center">
          <div class="col-md-4">
            <div class="form-group">
              <form-field [control]="form.get('noGood')">
                <ngx-select
                  (fetchItems)="getGoodsSheard($event)"
                  [data]="goods"
                  [form]="form"
                  value="id"
                  bindLabel="description"
                  label="Bien"
                  control="noGood"
                  (change)="onChangeGood($event)"
                  [labelTemplate]="userLabel"
                  [optionTemplate]="userOption">
                </ngx-select>
              </form-field>
              <ng-template #userLabel let-item="item"
                >{{ item.id }} - {{ item.description }}</ng-template
              >
              <ng-template #userOption let-item="item"
                >{{ item.id }} - {{ item.description }}</ng-template
              >
            </div>

            <!-- <form-field [control]="form.get('noGood')" label="No. Bien">
              <input
                type="text"
                class="form-control"
                formControlName="noGood" />
            </form-field> -->

            <!-- <app-goods-table-shared [form]="form" [disabled]="statusActaValue !== 'ABIERTA'"></app-goods-table-shared> -->
          </div>
          <div class="col-md-2">
            <button
              class="btn btn-danger btn-sm active mr-3"
              (click)="cleanBtn()">
              Limpiar <i class="fas fa-eraser"> </i>
            </button>
          </div>
        </div>
      </form>
    </div>

    <div class="row">
      <div class="d-flex justify-content-center">
        <div class="m-3">
          <confirm-button
            text="Ficha Comercial"
            [loadingText]="loadingText"
            [disabled]="!form.valid"
            [loading]="loading"
            (confirm)="fcom()"></confirm-button>
        </div>
        <div class="m-3">
          <confirm-button
            text="Ficha T&eacute;cnica"
            [loadingText]="loadingText"
            [disabled]="!form.valid"
            [loading]="loading2"
            (confirm)="ftec()"></confirm-button>
        </div>
        <div class="m-3">
          <confirm-button
            text="Ingresos y Egresos"
            [loadingText]="loadingText"
            [disabled]="!form.valid"
            [loading]="loading3"
            (confirm)="fie()"></confirm-button>
        </div>
      </div>
    </div>

    <div class="row" *ngIf="viewPhoto">
      <app-photos-list-commercial
        [disabled]="disabled"
        [goodNumber]="goodNumber"></app-photos-list-commercial>
      <div class="row">
        <div class="d-flex justify-content-center">
          <div class="m-3">
            <button class="btn btn-danger btn-sm active mr-3" (click)="clean()">
              Limpiar Fotos <i class="fas fa-eraser"> </i>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</app-card>
