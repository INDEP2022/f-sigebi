<app-modal>
  <div header>
    <h5 class="modal-title">Nuevo {{ title }}</h5>
  </div>
  <div body>
    <form class="form-material" [formGroup]="controlForm">
      <div class="row">
        <div class="col-md-9">
          <form-field [control]="controlForm.get('key')" label="Clave">
            <input type="text" class="form-control" formControlName="key" />
          </form-field>
        </div>
        <div class="col-sm-3 col-md-3">
          <div>
            <button
              [ngClass]="{ loading: btnLoading }"
              [disabled]="btnLoading"
              class="btn btn-sm btn-block btn-primary active font-size-14"
              (click)="search()">
              Buscar Eventos
              <i
                *ngIf="!btnLoading"
                class="bx bx-search-alt bx-sm float-icon"></i>
            </button>
          </div>
        </div>
        <div class="col-md-12">
          <div class="row justify-content-center">
            <div class="col-md-4 justify-content-center text-center">
              <h6>Direcci&oacute;n</h6>
              <div class="row justify-content-center">
                <form-radio label="Muebles" class="col-6">
                  <input type="radio" formControlName="direction" value="M" />
                </form-radio>
                <form-radio label="Inmuebles" class="col-6">
                  <input type="radio" formControlName="direction" value="I" />
                </form-radio>
              </div>
            </div>
            <div class="col-md-4 justify-content-center text-center">
              <h6>Tipo de Disperci&oacute;n</h6>
              <div class="row justify-content-center">
                <form-radio label="Cliente" class="col-6">
                  <input
                    type="radio"
                    formControlName="dispersionType"
                    value="1" />
                </form-radio>
                <form-radio label="Lote" class="col-6">
                  <input
                    type="radio"
                    formControlName="dispersionType"
                    value="2" />
                </form-radio>
              </div>
            </div>
            <div class="col-md-4 justify-content-center text-center">
              <h6>Origen</h6>
              <div class="row justify-content-center">
                <form-radio label="No Ganadores" class="col-7">
                  <input type="radio" formControlName="origin" value="1" />
                </form-radio>
                <form-radio label="Ganadores" class="col-5">
                  <input type="radio" formControlName="origin" value="2" />
                </form-radio>
              </div>
            </div>
          </div>
        </div>
      </div>
    </form>
    <div class="row mt-3">
      <div class="col-sm-12 col-md-12">
        <h5 class="title">Eventos</h5>
      </div>
      <div class="col-12">
        <form-loader *ngIf="loadingControl"></form-loader>
        <ng-scrollbar
          [track]="'all'"
          [ngStyle]="{ height: loadingControl ? '0px' : '200px' }">
          <ng2-smart-table
            id="eventTable"
            [settings]="controlSettings"
            [source]="dataTableControl"
            (userRowSelect)="select($event)">
          </ng2-smart-table>
        </ng-scrollbar>
        <app-pagination
          [params]="dataTableParamsControl"
          [totalItems]="totalControl">
        </app-pagination>
      </div>
    </div>
  </div>
  <div footer>
    <div class="d-flex justify-content-center">
      <div class="m-3">
        <button
          class="btn btn-primary btn-sm active"
          [disabled]="controlForm.invalid"
          type="button"
          (click)="confirm()">
          Generar Control
          <i class="fa fa-save"></i>
        </button>
      </div>
      <div class="m-3">
        <button
          type="button"
          class="btn btn-danger btn-sm active"
          (click)="close()">
          Cancelar
        </button>
      </div>
    </div>
  </div>
</app-modal>
