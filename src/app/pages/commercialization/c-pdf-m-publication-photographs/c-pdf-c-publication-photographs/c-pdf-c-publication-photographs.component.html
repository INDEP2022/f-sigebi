<app-card [header]="true">
  <div header>
    <div class="ch-content">
      <h5 class="title">Publicación de fotografías</h5>
    </div>
  </div>
  <div body>
    <form class="form-material" [formGroup]="form">
      <div class="row">
        <div class="col-md-3">
          <h5 class="font-size-14 d-inline">Seleccione Cve Proceso</h5>
          <ngx-select
            [form]="form"
            [data]="cveItems"
            value="id"
            bindLabel="description"
            (fetchItems)="getCve($event)"
            (change)="selectCve($event)"
            control="id">
          </ngx-select>
        </div>
        <div class="col-md-3" *ngIf="selectedCve != null">
          <h5 class="font-size-14 d-inline">ID de Proceso</h5>
          <p class="mt-2 font-size-28 text-muted">{{ selectedCve.id }}</p>
        </div>
        <div class="col-md-3" *ngIf="selectedCve != null">
          <h5 class="font-size-14 d-inline">Tipo</h5>
          <p class="mt-2 font-size-28 text-muted">{{ selectedCve.type }}</p>
        </div>
        <div class="col-md-3" *ngIf="selectedCve != null">
          <h5 class="font-size-14 d-inline">Estatus</h5>
          <p class="mt-2 font-size-28 text-muted">{{ selectedCve.status }}</p>
        </div>
      </div>
    </form>
  </div>
</app-card>

<app-card [header]="true" *ngIf="selectedCve != null">
  <div header>
    <div class="ch-content">
      <h5 class="title">Lotes</h5>
    </div>
  </div>
  <div body>
    <div class="col-md-2">
      <div class="w-100 m-1 img-container">
        <img
          src="https://samyak.co.in/wp-content/uploads/2021/04/image.jpg"
          alt=""
          class="w-50" />
      </div>
    </div>
    <div class="col-md-10">
      <div class="table-responsive">
        <ng2-smart-table
          [settings]="settings1"
          [source]="data1"
          (userRowSelect)="selectRow($event.data)"></ng2-smart-table>
      </div>
    </div>
  </div>
</app-card>

<app-card [header]="true" *ngIf="rowSelected">
  <div header>
    <div class="ch-content">
      <h5 class="title">Bienes del lote {{ rowAllotment }}</h5>
    </div>
  </div>
  <div body>
    <div class="table-responsive">
      <ng2-smart-table
        [settings]="settings2"
        [source]="data2"
        (userRowSelect)="selectRowGood()">
      </ng2-smart-table>
    </div>
  </div>
</app-card>

<app-card [header]="true" *ngIf="rowSelectedGood">
  <div header>
    <div class="ch-content">
      <h5 class="title">Fotografías</h5>
    </div>
  </div>
  <div body>
    <form class="form-material" [formGroup]="form">
      <div class="row">
        <div class="col-md-4">
          <button
            type="button"
            class="btn btn-primary btn-sm active"
            [disabled]="!form.valid">
            Publicar como favorito
          </button>
        </div>
      </div>
      <div class="row pt-5">
        <carousel
          [itemsPerSlide]="itemsPerSlide"
          [singleSlideOffset]="singleSlideOffset"
          [startFromIndex]="6"
          [interval]="0">
          <slide *ngFor="let slide of slides; let index = index">
            <img
              [src]="slide.image"
              alt="image slide"
              style="
                display: block;
                height: 250px;
                width: 300px;
                object-fit: cover;
              " />
            <form-check for="keep-{{ index }}" class="float-check">
              <input
                type="checkbox"
                id="keep-{{ index }}"
                formControlName="favorite"
                class="form-control" />
            </form-check>
            <div class="carousel-caption">
              <h4>Fotografía {{ index }}</h4>
            </div>
          </slide>
        </carousel>
      </div>
    </form>
  </div>
</app-card>
