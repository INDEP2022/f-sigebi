<app-card [header]="true" [footer]="true">
  <div class="ch-content" header>
    <div class="col-md-12">
      <h5 class="title">REPORTES DE CARTAS DE RESPONSABILIDAD</h5>
    </div>
  </div>

  <div body>
    <form [formGroup]="comerLibsForm" class="form-material">
      <div class="row">
        <!-- <div class="d-flex justify-content-end">
          <div class="d-inline mr-2">
            Fecha:
            <span class="ml-3 mr-3" style="display: initial !important">
              {{ carta | date:'dd \'de\' MMMM \'del año\' yyyy' }}
              {{ carta || '00/00/0000' }}
            </span>
            <button class="btn btn-primary active btn-sm m-2" (click)="goBack()">
              Regresar
              <i class="fas fa-arrow-circle-left"></i>
            </button>
            <button (click)="searchComer()" class="btn btn-primary btn-sm active m-1" tooltip="Cartas de Liberación"
              containerClass="tooltip-style">
              <i class="bx bx-list-plus bx-sm float-icon"></i>
            </button>
          </div>
        </div> -->
        <div class="col-md-12">
          <div class="row">
            <div class="col-md-12">
              <div class="card">
                <div class="card-body">
                  <div class="row p-3">
                    <div class="col-md-3">
                      <div>
                        <label for="">Área: </label>
                        {{ department || '' }}
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div>
                        <label for="">Delegación: </label>
                        {{ delegationName || '' }}
                      </div>
                    </div>

                    <div class="col-md-3">
                      <div style="display: flex; gap: 10px">
                        <label style="display: flex; align-items: center">
                          <input type="checkbox" [checked]="read" />
                          <span style="margin-left: 5px">Lectura</span>
                        </label>
                        <label style="display: flex; align-items: center">
                          <input type="checkbox" [checked]="insert" />
                          <span style="margin-left: 5px">Escritura</span>
                        </label>
                      </div>
                    </div>
                  </div>
                  <div class="row p-3">
                    <div class="col-md-3">
                      <div>
                        <label for="">Usuario: </label>
                        {{ userName || '' }}
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div>
                        <label for="">SubDelegación: </label>
                        {{ subDelegation || '' }}
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12">
          <div class="row">
            <div class="col-md-12">
              <div class="row m-3">
                <div class="col-4"></div>
                <div class="col-md-8 text-end">
                  <!-- <button [disabled]="!letterDefault" (click)="actualizarLetter()" type="button"
                            class="btn btn-info active btn-sm mr-3">
                            Guardar
                            <i aria-hidden="true" class="fa fa-save"></i>
                          </button> -->
                  <!-- <button (click)="searchComer()" type="button" class="btn btn-info active btn-sm mr-3">
                            Buscar carta
                            <i class="bx bx-plus bx-sm float-icon"></i>
                          </button> -->
                  <button
                    type="button"
                    class="btn btn-primary active btn-sm mr-3"
                    (click)="searchEvent()">
                    Buscar Evento
                    <i class="bx bx-search bx-sm float-icon"></i>
                  </button>
                  <button
                    type="button"
                    class="btn btn-info active btn-sm mr-3"
                    (click)="searchComer()">
                    Buscar Oficio
                    <i class="bx bx-search bx-sm float-icon"></i>
                  </button>
                  <button
                    (click)="cleanForm()"
                    type="button"
                    class="btn btn-danger active btn-sm mr-3">
                    Limpiar
                    <i class="fa fa-eraser" aria-hidden="true"></i>
                  </button>
                </div>
              </div>
              <div class="card">
                <div class="card-body">
                  <div class="col-md-4 mt-3">
                    <div>
                      <!-- <form-field
                        [control]="bienesLotesForm.get('evento')"
                        label="Evento">
                        <input
                          [readonly]="!validPermisos"
                          type="text"
                          maxlength="50"
                          class="form-control"
                          formControlName="evento" />
                      </form-field> -->
                      <ngx-select
                        [data]="selectDataEvent"
                        bindLabel="observations"
                        label="Evento"
                        value="eventTpId"
                        (fetchItems)="getDepositaryType($event)"
                        [form]="bienesLotesForm"
                        [showTooltip]="true"
                        [searchOnInit]="true"
                        termMaxLength="100"
                        control="evento"></ngx-select>
                    </div>
                  </div>
                  <!-- <div class="col-md-4 mt-3">
                    <div>
                      <form-field
                        [control]="bienesLotesForm.get('descEvento')"
                        label="Descripción de Evento">
                        <input
                          [readonly]="!validPermisos"
                          type="text"
                          maxlength="50"
                          class="form-control"
                          formControlName="descEvento" />
                      </form-field>
                    </div>
                  </div> -->
                  <div class="col-md-4 mt-3">
                    <div>
                      <form-field
                        [control]="bienesLotesForm.get('lote')"
                        label="Lote">
                        <input
                          [disabled]="!validPermisos"
                          type="text"
                          maxlength="50"
                          class="form-control"
                          formControlName="lote" />
                      </form-field>
                    </div>
                  </div>
                  <div class="col-md-4 mt-3">
                    <div>
                      <form-field
                        [control]="bienesLotesForm.get('description')"
                        label="Descripción de Lote">
                        <input
                          [disabled]="!validPermisos"
                          type="text"
                          maxlength="50"
                          class="form-control"
                          formControlName="description" />
                      </form-field>
                    </div>
                  </div>
                  <div class="col-md-4 mt-3">
                    <div>
                      <form-field
                        [control]="comerLibsForm.get('oficio')"
                        label="Oficio">
                        <input
                          type="text"
                          maxlength="50"
                          [disabled]="!validPermisos"
                          class="form-control"
                          formControlName="oficio" />
                      </form-field>
                    </div>
                  </div>
                  <div class="col-md-4 mt-3">
                    <div>
                      <form-field
                        [control]="comerLibsForm.get('factura')"
                        label="No. Factura">
                        <input
                          type="text"
                          maxlength="20"
                          [disabled]="!validPermisos"
                          class="form-control"
                          formControlName="factura" />
                      </form-field>
                    </div>
                  </div>
                  <div class="col-md-4 mt-3">
                    <div>
                      <form-field
                        [control]="comerLibsForm.get('fechaFactura')"
                        label="Fecha Factura">
                        <input
                          bsDatepicker
                          class="form-control"
                          [disabled]="!validPermisos"
                          formControlName="fechaFactura" />
                      </form-field>
                    </div>
                  </div>
                </div>
              </div>
              <div class="card">
                <div class="card-body">
                  <!-- <div class="col-md-4 mt-3">
                    <div>
                      <form-field [control]="comerLibsForm.get('diridoA')" label="Dirigido a:">
                        <input #inputValue type="text" [disabled]="!validPermisos" class="form-control"
                          formControlName="diridoA" maxlength="50" />
                      </form-field>
                    </div>
                  </div>
                  <div class="col-md-4 mt-3">
                    <div>
                      <form-field [control]="comerLibsForm.get('puesto')" label="Puesto">
                        <input type="text" [disabled]="!validPermisos" class="form-control" formControlName="puesto"
                          maxlength="50" />
                      </form-field>
                    </div>
                  </div> 
                  <div class="card-body">
                    <form-field class="col-md-12 col-sm-12 col-12 p-2" [control]="comerLibsForm.get('parrafo1')"
                      label="P&aacute;rrafo 1">
                      <textarea maxlength="500" class="form-control text-justify" [disabled]="!validPermisos"
                        formControlName="parrafo1" rows="5"></textarea>
                    </form-field>
                  </div>-->
                  <div class="col-md-4 mt-2">
                    <div>
                      <form-field
                        [control]="comerLibsForm.get('adjudicatorio')"
                        label="Adjudicatorio">
                        <input
                          type="text"
                          class="form-control"
                          formControlName="adjudicatorio"
                          readonly />
                      </form-field>
                    </div>
                  </div>
                </div>
              </div>

              <div class="card">
                <div class="card-body">
                  <div class="col-md-12 justify-content-center">
                    <h6>BIENES</h6>
                    <div class="row">
                      <form-loader *ngIf="bienesLoading"></form-loader>
                      <div class="col-md-12">
                        <!-- <div [class]="loading ? 'table-loading' : ''"> -->
                        <ng-scrollbar
                          [track]="'all'"
                          [ngStyle]="{
                            height: bienesLoading ? '0px' : '400px'
                          }">
                          <ng2-smart-table
                            [attr.class]="'table-bordered table-responsive'"
                            [settings]="settings"
                            [source]="dataTableGood">
                          </ng2-smart-table>
                        </ng-scrollbar>
                        <!-- </div> -->
                      </div>
                      <app-pagination
                        [params]="paramsBienes"
                        [totalItems]="totalItems"></app-pagination>
                    </div>
                  </div>
                </div>
              </div>
              <div class="card">
                <div class="card-body">
                  <div class="card-body">
                    <form-field
                      class="col-md-12 col-sm-12 col-12 p-2"
                      [control]="comerLibsForm.get('parrafo2')"
                      label="P&aacute;rrafo 2">
                      <textarea
                        maxlength="500"
                        class="form-control text-justify"
                        [disabled]="!validPermisos"
                        formControlName="parrafo2"
                        rows="5"></textarea>
                    </form-field>
                  </div>
                  <div class="card-body">
                    <form-field
                      class="col-md-12 col-sm-12 col-12 p-2"
                      [control]="comerLibsForm.get('firmante')"
                      label="Firmante">
                      <textarea
                        maxlength="500"
                        class="form-control"
                        [disabled]="!validPermisos"
                        formControlName="firmante"
                        rows="5"></textarea>
                    </form-field>
                  </div>
                  <div class="col-md-4 mt-3">
                    <div>
                      <form-field
                        [control]="comerLibsForm.get('ccp1')"
                        label="CCP1">
                        <input
                          type="text"
                          [disabled]="!validPermisos"
                          maxlength="50"
                          class="form-control"
                          formControlName="ccp1" />
                      </form-field>
                    </div>
                  </div>
                  <div class="col-md-4 mt-3">
                    <div>
                      <form-field
                        [control]="comerLibsForm.get('ccp2')"
                        label="CCP2">
                        <input
                          [disabled]="!validPermisos"
                          type="text"
                          maxlength="50"
                          class="form-control"
                          formControlName="ccp2" />
                      </form-field>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </form>

    <form [formGroup]="bienesLotesForm" class="form-material">
      <div class="row">
        <div class="col-md-12">
          <div class="row">
            <div class="col-md-12">
              <div class="card">
                <div class="card-body">
                  <div class="col-md-12 mt-3">
                    <div>
                      <form-field
                        [control]="bienesLotesForm.get('description')"
                        label="Descripción">
                        <input
                          type="text"
                          [readonly]="!validPermisos"
                          class="form-control"
                          formControlName="description"
                          maxlength="100" />
                      </form-field>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </form>
    <div footer>
      <div
        class="d-flex flex-row justify-content-center align-items-center"></div>
      <div class="d-flex flex-row justify-content-center align-items-center">
        <div class="m-3">
          <button
            type="button"
            class="btn btn-primary active btn-sm"
            (click)="confirm()">
            Imprimir
            <i class="bx bx-printer bx-sm float-icon"></i>
          </button>
        </div>
      </div>
    </div>
  </div>
</app-card>
