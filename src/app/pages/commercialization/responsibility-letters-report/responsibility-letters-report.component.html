<app-card [header]="true" [footer]="true">
  <div class="ch-content" header>
    <div class="col-md-12">
      <h5 class="title">REPORTES DE CARTAS DE RESPONSABILIDAD</h5>
    </div>
  </div>

  <div body>
    <form [formGroup]="comerLibsForm" class="form-material">
      <div class="row m-3">
        <div class="col-md-2 mt-3">
          <ngx-select
            [data]="selectDataEvent"
            bindLabel="id"
            label="Evento"
            value="id"
            (fetchItems)="getEventData($event)"
            (change)="changeEvent($event)"
            [form]="comerLibsForm"
            [showTooltip]="true"
            [searchOnInit]="true"
            termMaxLength="100"
            control="evento"></ngx-select>
        </div>
        <div class="col-md-4 mt-3">
          <div>
            <form-field
              [control]="comerLibsForm.get('evento_descripcion')"
              label="Descripción del Evento">
              <input
                type="text"
                class="form-control"
                formControlName="evento_descripcion"
                readonly />
            </form-field>
          </div>
        </div>
        <div class="col-md-2 mt-3">
          <ngx-select
            [data]="selectDataLote"
            bindLabel="idLot"
            label="Lote"
            value="idLot"
            (fetchItems)="getLoteData($event)"
            (change)="changeLote($event)"
            [form]="comerLibsForm"
            [showTooltip]="true"
            [searchOnInit]="true"
            termMaxLength="100"
            control="lote"></ngx-select>
        </div>
        <div class="col-md-4 mt-3">
          <div>
            <form-field
              [control]="comerLibsForm.get('lote_descripcion')"
              label="Descripción del Lote">
              <input
                type="text"
                class="form-control"
                formControlName="lote_descripcion"
                readonly />
            </form-field>
          </div>
        </div>
      </div>
      <div class="row m-3">
        <div class="col-md-12 text-center">
          <button
            type="button"
            class="btn btn-primary active btn-sm mr-3"
            (click)="searchComer()">
            Consultar
            <i class="bx bx-search-alt bx-sm float-icon"></i>
          </button>
          <button
            (click)="cleanForm()"
            type="button"
            class="btn btn-danger active btn-sm mr-3">
            Limpiar
            <i class="fa fa-eraser" aria-hidden="true"></i>
          </button>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12">
          <div class="card">
            <div class="card-body row">
              <div class="col-md-6 mt-3">
                <div>
                  <form-field
                    [control]="comerLibsForm.get('oficio')"
                    label="Oficio de Carta de Liberaci&oacute;n">
                    <input
                      type="text"
                      maxlength="50"
                      class="form-control"
                      formControlName="oficio"
                      readonly />
                  </form-field>
                </div>
              </div>
              <div class="col-md-3 mt-3">
                <div>
                  <form-field
                    [control]="comerLibsForm.get('factura')"
                    label="No. Factura">
                    <input
                      type="text"
                      maxlength="20"
                      class="form-control"
                      formControlName="factura"
                      readonly />
                  </form-field>
                </div>
              </div>
              <div class="col-md-3 mt-3">
                <div>
                  <form-field
                    [control]="comerLibsForm.get('fechaFactura')"
                    label="Fecha Factura">
                    <input
                      bsDatepicker
                      class="form-control"
                      formControlName="fechaFactura"
                      readonly />
                  </form-field>
                </div>
              </div>
              <div class="col-md-4 mt-2">
                <div>
                  <form-field
                    [control]="comerLibsForm.get('adjudicatorio')"
                    label="Adjudicatario">
                    <input
                      type="text"
                      class="form-control"
                      formControlName="adjudicatorio"
                      readonly />
                  </form-field>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </form>

    <form [formGroup]="clientForm" class="form-material">
      <div class="row">
        <div class="col-md-12">
          <div class="row">
            <div class="col-md-12">
              <div class="card">
                <div class="card-body row">
                  <div class="col-md-4 mt-3">
                    <div>
                      <form-field [control]="clientForm.get('rfc')" label="RFC">
                        <input
                          #inputValue
                          type="text"
                          class="form-control"
                          formControlName="rfc"
                          maxlength="50"
                          readonly />
                      </form-field>
                    </div>
                  </div>
                  <div class="col-md-8 mt-3">
                    <div></div>
                  </div>
                  <div class="col-md-8 mt-3">
                    <div>
                      <form-field
                        [control]="clientForm.get('calle')"
                        label="Calle">
                        <input
                          type="text"
                          class="form-control"
                          formControlName="calle"
                          maxlength="50"
                          readonly />
                      </form-field>
                    </div>
                  </div>
                  <div class="col-md-4 mt-3">
                    <div>
                      <form-field
                        [control]="clientForm.get('colonia')"
                        label="Colonia">
                        <input
                          type="text"
                          class="form-control"
                          formControlName="colonia"
                          maxlength="50"
                          readonly />
                      </form-field>
                    </div>
                  </div>
                  <!-- <div class="col-md-4 mt-3">
                    <div>
                      <form-field
                        [control]="clientForm.get('ciudad')"
                        label="Ciudad">
                        <input
                          type="text"
                          class="form-control"
                          formControlName="ciudad"
                          maxlength="50"
                          readonly />
                      </form-field>
                    </div>
                  </div> -->
                  <div class="col-md-5 mt-3">
                    <div>
                      <form-field
                        [control]="clientForm.get('delegacion')"
                        label="Delegaci&oacute;n">
                        <input
                          type="text"
                          class="form-control"
                          formControlName="delegacion"
                          maxlength="50"
                          readonly />
                      </form-field>
                    </div>
                  </div>
                  <div class="col-md-5 mt-3">
                    <div>
                      <form-field
                        [control]="clientForm.get('estado')"
                        label="Estado">
                        <input
                          type="text"
                          class="form-control"
                          formControlName="estado"
                          maxlength="50"
                          readonly />
                      </form-field>
                    </div>
                  </div>
                  <div class="col-md-2 mt-3">
                    <div>
                      <form-field [control]="clientForm.get('cp')" label="CP">
                        <input
                          type="text"
                          class="form-control"
                          formControlName="cp"
                          maxlength="50"
                          readonly />
                      </form-field>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </form>
    <form [formGroup]="respForm" class="form-material">
      <div class="row">
        <div class="col-md-12">
          <div class="row">
            <div class="col-md-12">
              <div class="card">
                <div class="card-body">
                  <form-field
                    class="col-md-12 col-sm-12 col-12 p-2"
                    [control]="respForm.get('paragraph1')"
                    label="P&aacute;rrafo 1">
                    <textarea
                      maxlength="500"
                      class="form-control text-justify"
                      formControlName="paragraph1"
                      rows="5"
                      readonly></textarea>
                  </form-field>
                </div>
              </div>

              <div class="card">
                <div class="card-body">
                  <div class="col-md-12 justify-content-center">
                    <h6>BIENES</h6>
                    <div class="row">
                      <form-loader *ngIf="bienesLoading"></form-loader>
                      <div class="col-md-12">
                        <!-- <div [class]="loading ? 'table-loading' : ''"> -->
                        <ng-scrollbar
                          [track]="'all'"
                          [ngStyle]="{
                            height: bienesLoading ? '0px' : '400px'
                          }">
                          <ng2-smart-table
                            [attr.class]="'table-bordered table-responsive'"
                            [settings]="settings"
                            [source]="dataTableGood">
                          </ng2-smart-table>
                        </ng-scrollbar>
                        <!-- </div> -->
                      </div>
                      <app-pagination
                        [params]="paramsBienes"
                        [totalItems]="totalItems"></app-pagination>
                    </div>
                  </div>
                </div>
              </div>

              <div class="card-body">
                <form-field
                  class="col-md-12 col-sm-12 col-12 p-2"
                  [control]="respForm.get('paragraph2')"
                  label="P&aacute;rrafo 2">
                  <textarea
                    maxlength="500"
                    class="form-control text-justify"
                    formControlName="paragraph2"
                    rows="5"
                    readonly></textarea>
                </form-field>
              </div>
              <div class="card-body">
                <form-field
                  class="col-md-12 col-sm-12 col-12 p-2"
                  [control]="respForm.get('paragraph3')"
                  label="P&aacute;rrafo 3">
                  <textarea
                    maxlength="500"
                    class="form-control text-justify"
                    formControlName="paragraph3"
                    rows="5"
                    readonly></textarea>
                </form-field>
              </div>
            </div>
          </div>
        </div>
      </div>
    </form>

    <!-- <form [formGroup]="bienesLotesForm" class="form-material">
      <div class="row">
        <div class="col-md-12">
          <div class="row">
            <div class="col-md-12">
              <div class="card">
                <div class="card-body">
                  <div class="col-md-12 mt-3">
                    <div>
                      <form-field
                        [control]="bienesLotesForm.get('description')"
                        label="Descripción">
                        <input
                          type="text"
                          class="form-control"
                          formControlName="description"
                          maxlength="100"
                          readonly />
                      </form-field>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </form> -->
    <div footer>
      <!-- <div
        class="d-flex flex-row justify-content-center align-items-center"></div> -->
      <div class="d-flex flex-row justify-content-center align-items-center">
        <div class="m-3">
          <button
            type="button"
            class="btn btn-primary active btn-sm"
            (click)="confirm()">
            Imprimir
            <i class="bx bx-printer bx-sm float-icon"></i>
          </button>
        </div>
      </div>
    </div>
  </div>
</app-card>
