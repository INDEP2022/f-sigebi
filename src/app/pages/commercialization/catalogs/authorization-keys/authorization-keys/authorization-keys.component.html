<app-card [header]="true">
  <div class="ch-content" header>
    <h5 class="title">CLAVES DE AUTORIZACIÓN PARA ENVÍO EXTEMPORÁNEO DE OIS</h5>
  </div>
  <div body>
    <form class="form-material" [formGroup]="eventForm">
      <div class="row">
        <div class="col-md-2">
          <form-field [control]="eventForm.get('id')" label="ID">
            <!--(blur)="getByIdTwo(eventForm.controls['id'].value)"-->
            <input
              type="text"
              formControlName="id"
              class="form-control"
              [maxLength]="7" />
          </form-field>
        </div>
        <div class="col-md-4">
          <form-field [control]="eventForm.get('processKey')" label="Evento">
            <input
              type="text"
              class="form-control"
              formControlName="processKey"
              readOnly />
          </form-field>
        </div>
      </div>
      <div class="row mb-2 mt-2">
        <div class="col-md-12">
          <form-field
            [control]="eventForm.get('observations')"
            label="Descripción">
            <input
              type="text"
              class="form-control"
              formControlName="observations"
              readOnly />
          </form-field>
        </div>
      </div>
    </form>

    <div class="d-flex justify-content-center mb-2">
      <div>
        <button
          type="button"
          class="btn btn-primary btn-sm active mr-3"
          [disabled]="!eventForm.valid"
          (click)="search()">
          Buscar <i class="bx bx-search-alt bx-sm float-icon"></i>
        </button>
        <!--[disabled]="!form3.valid"-->
        <button
          class="btn btn-danger btn-sm active mr-3"
          [disabled]="!eventForm.valid"
          (click)="clean()">
          Limpiar <i class="fas fa-eraser"></i>
        </button>
        <button
          class="btn btn-sm btn-primary active mr-3"
          [disabled]="!keyAuth"
          (click)="generateKey()">
          Generar Clave de Autorización
        </button>
      </div>
    </div>

    <div class="row pt-4">
      <form class="form-material" [formGroup]="form">
        <div>
          <div class="">
            <form-field [control]="form.get('txtEncrip')" label="">
              <input
                type="hidden"
                class="form-control"
                formControlName="txtEncrip"
                readonly />
            </form-field>
          </div>
        </div>
        <div class="d-flex justify-content-center mb-5">
          <div class="col-md-5">
            <form-field
              [control]="form.get('encrip')"
              label="Clave de Autorización">
              <input
                type="text"
                class="form-control"
                formControlName="encrip"
                readonly />
            </form-field>
          </div>
          <div class="col-md-1 mt-3">
            <button
              class="btn btn-sm btn-inline btn-success mt-n2 py-2 px-3"
              (click)="copy()"
              [disabled]="!form.valid">
              <i class="bx bx-copy-alt mt-2"></i>
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
</app-card>
