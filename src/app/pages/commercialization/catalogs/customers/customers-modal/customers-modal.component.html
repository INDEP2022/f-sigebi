<app-modal>
  <div header>
    <h5 class="modal-title">{{ edit ? 'Editar' : 'Nuevo' }} {{ title }}</h5>
  </div>
  <div body>
    <form class="form-material" [formGroup]="customerForm">
      <div class="row mt-3">
        <div class="col-md-6">
          <form-field
            label="Nombre o Razón Social"
            [control]="customerForm.get('reasonName')">
            <input
              type="text"
              class="form-control"
              formControlName="reasonName"
              maxlength="70" />
          </form-field>
        </div>

        <div class="col-md-3">
          <form-field
            label="Apellido Paterno"
            [control]="customerForm.get('paternalSurname')">
            <input
              type="text"
              class="form-control"
              formControlName="paternalSurname"
              maxlength="60" />
          </form-field>
        </div>

        <div class="col-md-3">
          <form-field
            label="Apellido Materno"
            [control]="customerForm.get('maternalSurname')">
            <input
              type="text"
              class="form-control"
              formControlName="maternalSurname"
              maxlength="60" />
          </form-field>
        </div>
      </div>

      <div class="row mt-3">
        <div class="col-md-3">
          <form-field
            label="Tipo de Persona"
            [control]="customerForm.get('personType')">
            <ng-select
              formControlName="personType"
              [searchable]="false"
              class="form-control"
              [clearable]="false">
              <ng-option value="M">Hombre</ng-option>
              <ng-option value="F">Mujer</ng-option>
            </ng-select>
          </form-field>
        </div>

        <div class="col-md-3">
          <form-field label="RFC" [control]="customerForm.get('rfc')">
            <input
              type="text"
              class="form-control"
              formControlName="rfc"
              maxlength="20" />
          </form-field>
        </div>

        <div class="col-md-3">
          <form-field label="CURP" [control]="customerForm.get('curp')">
            <input
              type="text"
              class="form-control"
              formControlName="curp"
              maxlength="20" />
          </form-field>
        </div>

        <div class="col-md-3">
          <form-field label="País" [control]="customerForm.get('country')">
            <input
              type="text"
              class="form-control"
              formControlName="country"
              maxlength="30" />
          </form-field>
        </div>
      </div>

      <div class="row mt-3">
        <div class="col-md-4">
          <form-field label="Estado" [control]="customerForm.get('state')">
            <input
              type="text"
              class="form-control"
              formControlName="state"
              maxlength="31" />
          </form-field>
        </div>

        <div class="col-md-2">
          <form-field
            label="Clave Estatal"
            [control]="customerForm.get('stateId')">
            <input
              type="number"
              class="form-control"
              formControlName="stateId"
              min="0"
              oninput="if(this.value.length > 5) this.value = this.value.slice(0, 5);" />
          </form-field>
        </div>

        <div class="col-md-4">
          <form-field label="Ciudad" [control]="customerForm.get('city')">
            <input
              type="text"
              class="form-control"
              formControlName="city"
              maxlength="60" />
          </form-field>
        </div>

        <div class="col-md-2">
          <form-field
            label="Clave Municipal"
            [control]="customerForm.get('municipalityId')">
            <input
              type="number"
              class="form-control"
              formControlName="municipalityId"
              min="0"
              oninput="if(this.value.length > 5) this.value = this.value.slice(0, 5);" />
          </form-field>
        </div>
      </div>

      <div class="row mt-3">
        <div class="col-md-3">
          <form-field
            label="Código Postal"
            [control]="customerForm.get('zipCode')">
            <input
              type="text"
              class="form-control"
              formControlName="zipCode"
              maxlength="6" />
          </form-field>
        </div>

        <div class="col-md-3">
          <form-field label="Calle" [control]="customerForm.get('street')">
            <input
              type="text"
              class="form-control"
              formControlName="street"
              maxlength="80" />
          </form-field>
        </div>

        <div class="col-md-3">
          <form-field label="Colonia" [control]="customerForm.get('colony')">
            <input
              type="text"
              class="form-control"
              formControlName="colony"
              maxlength="60" />
          </form-field>
        </div>

        <div class="col-md-3">
          <form-field
            label="Delegación"
            [control]="customerForm.get('delegation')">
            <input
              type="text"
              class="form-control"
              formControlName="delegation"
              maxlength="49" />
          </form-field>
        </div>
      </div>

      <div class="row mt-3">
        <div class="col-md-3">
          <form-field label="Fax" [control]="customerForm.get('fax')">
            <input
              type="text"
              class="form-control"
              formControlName="fax"
              maxlength="20" />
          </form-field>
        </div>

        <div class="col-md-3">
          <form-field label="Teléfono" [control]="customerForm.get('phone')">
            <input
              type="number"
              class="form-control"
              formControlName="phone"
              min="0"
              oninput="if(this.value.length > 10) this.value = this.value.slice(0, 10);" />
          </form-field>
        </div>

        <div class="col-md-6">
          <form-field label="E-mail" [control]="customerForm.get('mailWeb')">
            <input
              type="email"
              class="form-control"
              formControlName="mailWeb"
              maxlength="60" />
          </form-field>
        </div>
      </div>

      <div class="row mt-3">
        <div class="col-md-4">
          <form-field label="Usuario" [control]="customerForm.get('user')">
            <input
              type="text"
              class="form-control"
              formControlName="user"
              maxlength="50" />
          </form-field>
        </div>

        <div class="col-md-4">
          <form-field
            label="Contraseña"
            [control]="customerForm.get('password')">
            <input
              type="text"
              class="form-control"
              formControlName="password"
              maxlength="50" />
          </form-field>
        </div>
      </div>

      <div class="row mt-3">
        <div class="col-md-4">
          <form-field
            label="¿En Lista Negra?"
            [control]="customerForm.get('blackList')">
            <ng-select
              formControlName="blackList"
              [searchable]="false"
              class="form-control"
              [clearable]="false">
              <ng-option value="S">Si</ng-option>
              <ng-option value="N">No</ng-option>
            </ng-select>
          </form-field>
        </div>

        <div class="col-md-4">
          <form-field
            label="Fecha Lista Negra"
            [control]="customerForm.get('blackListDate')">
            <input
              type="text"
              style="position: relative"
              class="form-control"
              formControlName="blackListDate"
              bsDatepicker
              [maxDate]="today"
              [bsConfig]="{
                dateInputFormat: 'DD/MM/YYYY'
              }" />
          </form-field>
        </div>

        <div class="col-md-4">
          <form-field
            label="Fecha de Liberación"
            [control]="customerForm.get('releaseDate')">
            <input
              type="text"
              style="position: relative"
              class="form-control"
              formControlName="releaseDate"
              bsDatepicker
              [maxDate]="today"
              [bsConfig]="{
                dateInputFormat: 'DD/MM/YYYY'
              }" />
          </form-field>
        </div>
      </div>

      <div class="row mt-3">
        <div class="col-md-4">
          <form-field
            label="Clave Penalización"
            [control]="customerForm.get('penaltyId')">
            <input
              type="number"
              class="form-control"
              formControlName="penaltyId"
              min="0"
              oninput="if(this.value.length > 20) this.value = this.value.slice(0, 20);" />
          </form-field>
        </div>

        <div class="col-md-4">
          <form-field
            label="Clave Vendedor"
            [control]="customerForm.get('sellerId')">
            <input
              type="number"
              class="form-control"
              formControlName="sellerId"
              min="0"
              oninput="if(this.value.length > 4) this.value = this.value.slice(0, 4);" />
          </form-field>
        </div>

        <div class="col-md-4">
          <form-field
            label="RFC Aprobado"
            [control]="customerForm.get('approvedRfc')">
            <input
              type="text"
              class="form-control"
              formControlName="approvedRfc"
              maxlength="15" />
          </form-field>
        </div>
      </div>

      <div class="row mt-3">
        <div class="col-md-4">
          <form-field
            label="Usuario Liberado"
            [control]="customerForm.get('userFree')">
            <input
              type="text"
              class="form-control"
              formControlName="userFree"
              maxlength="30" />
          </form-field>
        </div>

        <div class="col-md-4">
          <form-field
            label="Fecha Liberado"
            [control]="customerForm.get('freeDate')">
            <input
              style="position: relative"
              type="text"
              class="form-control"
              formControlName="freeDate"
              bsDatepicker
              [maxDate]="today"
              [isDisabled]="false"
              [bsConfig]="{
                dateInputFormat: 'DD/MM/YYYY'
              }" />
          </form-field>
        </div>

        <div class="col-md-4">
          <form-field
            label="Cve. de Actividad Económica"
            [control]="customerForm.get('economicAgreementKey')">
            <input
              type="text"
              class="form-control"
              formControlName="economicAgreementKey"
              maxlength="20" />
          </form-field>
        </div>
      </div>

      <div class="row mt-3">
        <div class="col-md-4">
          <form-field
            label="Tipo de Identificación"
            [control]="customerForm.get('identificationType')">
            <input
              type="number"
              class="form-control"
              formControlName="identificationType"
              min="0"
              oninput="if(this.value.length > 2) this.value = this.value.slice(0, 2);" />
          </form-field>
        </div>

        <div class="col-md-4">
          <form-field
            label="No. Identificación"
            [control]="customerForm.get('identificationNumber')">
            <input
              type="number"
              class="form-control"
              formControlName="identificationNumber"
              min="0"
              oninput="if(this.value.length > 50) this.value = this.value.slice(0, 50);" />
          </form-field>
        </div>

        <div class="col-md-4">
          <form-field
            label="Cve. Representante"
            [control]="customerForm.get('agentId')">
            <input
              type="number"
              class="form-control"
              formControlName="agentId"
              min="0"
              oninput="if(this.value.length > 5) this.value = this.value.slice(0, 5);" />
          </form-field>
        </div>
      </div>

      <div class="row mt-3">
        <div class="col-md-4">
          <form-field
            label="No. Exterior"
            [control]="customerForm.get('outsideNumber')">
            <input
              type="text"
              class="form-control"
              formControlName="outsideNumber"
              maxlength="40" />
          </form-field>
        </div>

        <div class="col-md-4">
          <form-field
            label="No. Interior"
            [control]="customerForm.get('insideNumber')">
            <input
              type="text"
              class="form-control"
              formControlName="insideNumber"
              maxlength="40" />
          </form-field>
        </div>
      </div>

      <div class="row mt-3">
        <div class="col-md-4">
          <form-field
            label="CLABE Interbancaria"
            [control]="customerForm.get('interbankKey')">
            <input
              type="text"
              class="form-control"
              formControlName="interbankKey"
              maxlength="18" />
          </form-field>
        </div>

        <div class="col-md-4">
          <form-field
            label="Código de Banco"
            [control]="customerForm.get('bank')">
            <input
              type="text"
              class="form-control"
              formControlName="bank"
              maxlength="3" />
          </form-field>
        </div>

        <div class="col-md-4">
          <form-field
            label="Código de Sucursal"
            [control]="customerForm.get('branch')">
            <input
              type="text"
              class="form-control"
              formControlName="branch"
              maxlength="10" />
          </form-field>
        </div>
      </div>

      <div class="row mt-3">
        <div class="col-md-4">
          <form-field
            label="Cta. de Cheques"
            [control]="customerForm.get('checksAccount')">
            <input
              type="text"
              class="form-control"
              formControlName="checksAccount"
              maxlength="11" />
          </form-field>
        </div>
        <div class="col-md-4">
          <form-field
            label="Fecha Inicial de Penalización"
            [control]="customerForm.get('penaltyInitDate')">
            <input
              type="text"
              style="position: relative"
              class="form-control"
              formControlName="penaltyInitDate"
              bsDatepicker
              [maxDate]="today"
              [bsConfig]="{
                dateInputFormat: 'DD/MM/YYYY',
                adaptivePosition: true
              }" />
          </form-field>
        </div>

        <div class="col-md-4">
          <form-field
            label="Fecha Final de Penalización"
            [control]="customerForm.get('penaltyEndDate')">
            <input
              type="text"
              style="position: relative"
              class="form-control"
              formControlName="penaltyEndDate"
              bsDatepicker
              [maxDate]="today"
              [bsConfig]="{
                dateInputFormat: 'DD/MM/YYYY',
                adaptivePosition: true
              }" />
          </form-field>
        </div>
      </div>

      <div class="row mt-3">
        <div class="col-md-4">
          <form-field
            label="Usuario Penalizado"
            [control]="customerForm.get('penalizeUser')">
            <input
              type="text"
              class="form-control"
              formControlName="penalizeUser"
              maxlength="30" />
          </form-field>
        </div>

        <div class="col-md-4">
          <form-field
            label="No. Registro"
            [control]="customerForm.get('registryNumber')">
            <input
              type="number"
              class="form-control"
              formControlName="registryNumber"
              min="0"
              oninput="if(this.value.length > 20) this.value = this.value.slice(0, 20);" />
          </form-field>
        </div>
      </div>
    </form>
  </div>

  <div footer>
    <div class="d-flex justify-content-center">
      <div class="m-3">
        <confirm-button
          [type]="'button'"
          (confirm)="confirm()"></confirm-button>
      </div>
      <div class="m-3">
        <button type="button" class="btn btn-danger active" (click)="close()">
          Cancelar
        </button>
      </div>
    </div>
  </div>
</app-modal>
