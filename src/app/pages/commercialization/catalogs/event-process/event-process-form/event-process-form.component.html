<app-modal>
  <div header>
    <h5 class="modal-title">{{ edit ? 'Editar' : 'Nuevo' }} {{ title }}</h5>
  </div>
  <div body>
    <form class="form-material" [formGroup]="comerEventForm">
      <div class="row">
        <div class="col-md-2">
          <form-field label="ID" [control]="comerEventForm.get('id')">
            <input type="number" class="form-control" formControlName="id" />
          </form-field>
        </div>
        <div class="col-md-3">
          <form-field [control]="comerEventForm.get('tpeventoId')">
            <ngx-select
              [searchOnInit]="true"
              [form]="comerEventForm"
              control="tpeventoId"
              [data]="typeEvent"
              value="id"
              bindLabel="description"
              label="Tipo de Event"
              (fetchItems)="getTypeEvent($event)">
            </ngx-select>
            <!-- <input type="number" class="form-control" formControlName="tpeventoId">  -->
          </form-field>
        </div>
        <div class="col-md-3">
          <form-field
            label="Estatus"
            [control]="comerEventForm.get('StatusvtaId')">
            <input
              type="text"
              class="form-control"
              formControlName="StatusvtaId" />
          </form-field>
        </div>
        <div class="col-md-4">
          <form-field
            label="Cve Proceso"
            [control]="comerEventForm.get('processKey')">
            <input
              type="text"
              class="form-control"
              formControlName="processKey" />
          </form-field>
        </div>
      </div>
      <div class="row pt-5">
        <div class="col-md-3">
          <form-field
            label="Observaciones"
            [control]="comerEventForm.get('observations')">
            <input
              type="text"
              class="form-control"
              formControlName="observations" />
          </form-field>
        </div>
        <div class="col-md-3">
          <form-field
            label="Dirección"
            [control]="comerEventForm.get('address')">
            <ng-select
              formControlName="address"
              [searchable]="false"
              class="form-control"
              [clearable]="false">
              <ng-option value="M">Mueble</ng-option>
              <ng-option value="I">Inmueble</ng-option>
            </ng-select>
          </form-field>
        </div>
        <div class="col-md-3">
          <form-field
            label="Fecha fallo"
            [control]="comerEventForm.get('failedDate')">
            <input
              type="text"
              class="form-control"
              formControlName="failedDate"
              bsDatepicker
              [maxDate]="today"
              [bsConfig]="{
                dateInputFormat: 'YYYY-MM-DD'
              }" />
          </form-field>
        </div>
        <div class="col-md-3">
          <form-field label="Lugar" [control]="comerEventForm.get('place')">
            <input type="text" class="form-control" formControlName="place" />
          </form-field>
        </div>
      </div>
      <div class="row pt-5">
        <div class="col-md-2">
          <form-field
            label="Fecha Evento"
            [control]="comerEventForm.get('eventDate')">
            <input
              type="text"
              class="form-control"
              formControlName="eventDate"
              bsDatepicker
              [maxDate]="today"
              [bsConfig]="{
                dateInputFormat: 'YYYY-MM-DD'
              }" />
          </form-field>
        </div>
        <div class="col-md-5">
          <form-field label="Texto 01" [control]="comerEventForm.get('text1')">
            <textarea
              type="text"
              class="form-control"
              formControlName="text1"></textarea>
          </form-field>
        </div>
        <div class="col-md-5">
          <form-field label="Texto02" [control]="comerEventForm.get('text2')">
            <textarea
              type="text"
              class="form-control"
              formControlName="text2"></textarea>
          </form-field>
        </div>
      </div>
      <div class="row pt-5">
        <div class="col-md-4">
          <form-field
            label="Firmante"
            [control]="comerEventForm.get('signatory')">
            <input
              type="text"
              class="form-control"
              formControlName="signatory" />
          </form-field>
        </div>
        <div class="col-md-4">
          <form-field
            label="Firmante Cargo"
            [control]="comerEventForm.get('signatoryPost')">
            <input
              type="text"
              class="form-control"
              formControlName="signatoryPost" />
          </form-field>
        </div>
        <div class="col-md-4">
          <form-field label="Notas" [control]="comerEventForm.get('notes')">
            <textarea
              type="text"
              class="form-control"
              formControlName="notes"></textarea>
          </form-field>
        </div>
      </div>
      <div class="row pt-5">
        <div class="col-md-5">
          <form-field
            label="Texto final 3"
            [control]="comerEventForm.get('textEnd3')">
            <textarea
              type="text"
              class="form-control"
              formControlName="textEnd3"></textarea>
          </form-field>
        </div>
        <div class="col-md-5">
          <form-field
            label="Texto final 4"
            [control]="comerEventForm.get('textEnd4')">
            <textarea
              type="text"
              class="form-control"
              formControlName="textEnd4"></textarea>
          </form-field>
        </div>
        <div class="col-md-2">
          <form-field
            label="Costo Base"
            [control]="comerEventForm.get('basisCost')">
            <input
              type="number"
              class="form-control"
              formControlName="basisCost" />
          </form-field>
        </div>
      </div>
      <div class="row pt-5">
        <div class="col-md-3">
          <form-field
            label="Nun Base Vend"
            [control]="comerEventForm.get('basisVendNumber')">
            <input
              type="number"
              class="form-control"
              formControlName="basisVendNumber" />
          </form-field>
        </div>
        <div class="col-md-4">
          <form-field
            label="Usuario"
            [control]="comerEventForm.get('username')">
            <input
              type="text"
              class="form-control"
              formControlName="username" />
          </form-field>
        </div>
        <div class="col-md-3">
          <form-field label="Mes" [control]="comerEventForm.get('month')">
            <ng-select
              formControlName="month"
              [searchable]="false"
              class="form-control"
              [clearable]="false">
              <ng-option value="1">Enero</ng-option>
              <ng-option value="2">Febrero</ng-option>
              <ng-option value="3">Marzo</ng-option>
              <ng-option value="4">Abril</ng-option>
              <ng-option value="5">Mayo</ng-option>
              <ng-option value="6">Junio</ng-option>
              <ng-option value="7">Julio</ng-option>
              <ng-option value="8">Agosto</ng-option>
              <ng-option value="9">Septiembre</ng-option>
              <ng-option value="10">Octubre</ng-option>
              <ng-option value="11">Noviembre</ng-option>
              <ng-option value="12">Diciembre</ng-option>
            </ng-select>
          </form-field>
        </div>
        <div class="col-md-2">
          <form-field label="Año" [control]="comerEventForm.get('year')">
            <input
              type="number"
              class="form-control"
              formControlName="year"
              bsDatepicker
              [maxDate]="today"
              [bsConfig]="{
                minMode: 'year',
                dateInputFormat: 'YYYY'
              }" />
          </form-field>
        </div>
      </div>
      <div class="row pt-5">
        <div class="col-md-4">
          <form-field [control]="comerEventForm.get('delegationNumber')">
            <!-- <input type="number" class="form-control" formControlName="delegationNumber"> -->
            <ngx-select
              [searchOnInit]="true"
              [form]="comerEventForm"
              control="delegationNumber"
              [data]="delegations"
              value="id"
              bindLabel="description"
              label="No&#46; Delegaci&oacute;n"
              (fetchItems)="getDelegations($event)">
            </ngx-select>
          </form-field>
        </div>
        <div class="col-md-3">
          <form-field
            label="Fase Inmu"
            [control]="comerEventForm.get('phaseInmu')">
            <input
              type="number"
              class="form-control"
              formControlName="phaseInmu" />
          </form-field>
        </div>
        <div class="col-md-2">
          <form-field
            label="ID 3ro comer"
            [control]="comerEventForm.get('thirdEatId')">
            <input
              type="number"
              class="form-control"
              formControlName="thirdEatId" />
          </form-field>
        </div>
        <div class="col-md-3">
          <form-field
            label="Fecha notificación"
            [control]="comerEventForm.get('notificationDate')">
            <input
              type="text"
              class="form-control"
              formControlName="notificationDate"
              bsDatepicker
              [maxDate]="today"
              [bsConfig]="{
                dateInputFormat: 'YYYY-MM-DD'
              }" />
          </form-field>
        </div>
      </div>
      <div class="row pt-5">
        <div class="col-md-3">
          <form-field
            label="Fecha cierre venta"
            [control]="comerEventForm.get('closingEventDate')">
            <input
              type="text"
              class="form-control"
              formControlName="closingEventDate"
              bsDatepicker
              [maxDate]="today"
              [bsConfig]="{
                dateInputFormat: 'YYYY-MM-DD'
              }" />
          </form-field>
        </div>
        <div class="col-md-3">
          <form-field
            label="ID tpsolaval"
            [control]="comerEventForm.get('tpsolavalId')">
            <input
              type="number"
              class="form-control"
              formControlName="tpsolavalId" />
          </form-field>
        </div>
        <div class="col-md-3">
          <form-field
            label="Aplica IVA"
            [control]="comerEventForm.get('applyIva')">
            <input
              type="text"
              class="form-control"
              formControlName="applyIva" />
          </form-field>
        </div>
      </div>
    </form>
  </div>
  <div footer>
    <div class="d-flex justify-content-center">
      <div class="m-3">
        <confirm-button
          [disabled]="!comerEventForm.valid"
          [loading]="loading"
          (confirm)="confirm()"></confirm-button>
      </div>
      <div class="m-3">
        <button type="button" class="btn btn-danger active" (click)="close()">
          Cancelar
        </button>
      </div>
    </div>
  </div>
</app-modal>
