<form class="form-material" [formGroup]="form">
  <div class="row pt-3">
    <div class="col-md-12">
      <app-select-modal-table-shared
        *ngIf="address"
        [form]="form"
        [maxlengthInput]="12"
        [disabled]="false"
        [widthDescription]="false"
        [haveSelectColumns]="true"
        [haveColumnFilters]="true"
        [ilikeFilters]="ilikeFilters"
        [dateFilters]="dateFilters"
        label="Evento"
        formField="idEvent"
        [service]="eventService"
        [columnsType]="eventColumns"
        id="id"
        title="Evento"
        (selectRow)="selectEvent($event)"></app-select-modal-table-shared>
    </div>
    <div class="col-md-3" *ngIf="selectedEvent != null">
      <h5 class="font-size-14 d-inline">Nombre de Evento</h5>
      <p class="mt-2 font-size-28 text-muted">{{ nameEvent }}</p>
    </div>
    <div class="col-md-3" *ngIf="selectedEvent != null">
      <h5 class="font-size-14 d-inline">Clave de Evento</h5>
      <p class="mt-2 font-size-28 text-muted">{{ selectedEvent.processKey }}</p>
    </div>
    <div class="col-md-3" *ngIf="selectedEvent != null">
      <h5 class="font-size-14 d-inline">Estatus de Evento</h5>
      <p class="mt-2 font-size-28 text-muted">
        {{ selectedEvent.statusVtaId }}
      </p>
    </div>
    <div class="col-md-3" *ngIf="selectedEvent != null">
      <h5 class="font-size-14 d-inline">Fecha de Evento</h5>
      <p class="mt-2 font-size-28 text-muted">{{ selectedEvent.eventDate }}</p>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6" *ngIf="selectedEvent != null">
      <h5 class="font-size-14 d-inline">Observaciones</h5>
      <p class="mt-2 font-size-28 text-muted">
        {{ selectedEvent.observations }}
      </p>
    </div>
    <div class="col-md-3" *ngIf="selectedEvent != null">
      <h5 class="font-size-14 d-inline">Lugar</h5>
      <p class="mt-2 font-size-28 text-muted">{{ selectedEvent.place }}</p>
    </div>
    <div class="col-md-3" *ngIf="selectedEvent != null">
      <h5 class="font-size-14 d-inline">Fecha de Fallo</h5>
      <p class="mt-2 font-size-28 text-muted">
        {{ selectedEvent.failureDate }}
      </p>
    </div>
  </div>
</form>

<div *ngIf="selectedEvent != null">
  <hr />
  <div class="row pt-5">
    <app-numeraire-expenses
      [event]="selectedEvent"
      [reload]="reloadExpenses"
      (selectedRow)="selectedExpenseData = $event"></app-numeraire-expenses>
  </div>
  <div class="row pt-5" *ngIf="selectedExpenseData">
    <app-numeraire-dispersion
      [idEvento]="selectedEvent.id"
      [selectedExpenseData]="selectedExpenseData"
      [updateAllowed]="updateAllowed"></app-numeraire-dispersion>
  </div>
  <div class="row">
    <div class="md-tabs">
      <tabset>
        <tab heading="Conversión Parcial" id="tab1">
          <tr>
            <td colspan="5" align="center">
              <button
                type="button"
                class="btn btn-secondary btn-sm active mr-3"
                [disabled]="disabledParcial"
                (click)="calculaParc()">
                Calcular
              </button>
              <button
                type="button"
                class="btn btn-secondary btn-sm active mr-3"
                [disabled]="disabledParcial"
                (click)="convierteParcial()">
                Convertir
              </button>
              <button
                type="button"
                class="btn btn-secondary btn-sm active mr-3"
                (click)="reporte()">
                Reporte
              </button>
            </td>
          </tr>
        </tab>
        <tab heading="Conversión Total" id="tab1">
          <tr>
            <td colspan="5" align="center">
              <button
                type="button"
                class="btn btn-secondary btn-sm active mr-3"
                (click)="calcula()">
                Calcular
              </button>
              <button
                type="button"
                class="btn btn-secondary btn-sm active mr-3"
                (click)="convierte()">
                Convertir
              </button>
              <button
                type="button"
                class="btn btn-secondary btn-sm active mr-3"
                (click)="reporte()">
                Reporte
              </button>
            </td>
          </tr>
        </tab>
      </tabset>
    </div>
  </div>
</div>
