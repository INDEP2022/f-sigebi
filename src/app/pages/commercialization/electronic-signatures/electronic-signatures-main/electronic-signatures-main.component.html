<app-card [header]="true">
  <div class="ch-content" header>
    <h5 class="title">gesti&oacute;n de firmas electr&oacute;nicas</h5>
  </div>
  <div body>
    <div class="row">
      <div class="md-tabs mt-n3">
        <tabset #signatureTabs>
          <tab heading="Pendientes" id="pendingTab">
            <div
              class="row rounded-3 bk-danger py-2"
              *ngIf="alertMsg1"
              @OnInOut>
              <div class="col-11">
                <div class="d-flex justify-content-center text-light ms-3">
                  {{ messageText }}
                  <i class="bx bx-error text-light float-icon me-2 ml-2"></i>
                </div>
              </div>
            </div>
            <div *ngIf="alertMsg2" class="row rounded-3 bg-success py-2">
              <div class="col-11">
                <div class="d-flex justify-content-center text-light ms-3">
                  {{ messageText }}
                  <i
                    class="fa fa-check text-light float-icon me-2 ml-2"
                    aria-hidden="true"></i>
                </div>
              </div>
            </div>
            <div class="row mt-5">
              <div class="col-md-8"></div>
              <div class="col-md-4 text-end d-flex flex-row-reverse mt-3 mb-3">
                <div>
                  <app-columns-select
                    [(settings)]="pendingSettings"
                    [leftList]="true"></app-columns-select>
                </div>
                <div>
                  <button
                    class="btn btn-sm btn-primary active me-2"
                    (click)="openSignWindow()">
                    Firmar Documento
                    <i class="bx bx-pen text-light float-icon"></i>
                  </button>
                </div>
                <div>
                  <button
                    class="btn btn-sm btn-primary active me-2"
                    (click)="viewDocument()">
                    Ver Documento
                    <i class="bx bx-show-alt text-light float-icon"></i>
                  </button>
                </div>
                <div>
                  <button
                    class="btn btn-sm btn-primary active me-2"
                    (click)="refresh()">
                    Refrescar
                    <i class="fas fa-sync-alt"> </i>
                  </button>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-12">
                <form-loader *ngIf="loadingPending"></form-loader>
                <ng-scrollbar
                  [track]="'all'"
                  [ngStyle]="{ height: loadingPending ? '0px' : '400px' }">
                  <ng2-smart-table
                    id="rfcTable"
                    [settings]="pendingSettings"
                    [source]="dataTablePending"
                    (userRowSelect)="selectPending($event)">
                  </ng2-smart-table>
                </ng-scrollbar>
                <app-pagination
                  [params]="dataTableParamsPending"
                  [totalItems]="totalPending">
                </app-pagination>
              </div>
            </div>
            <!-- <div class="table-responsive">
              <div [class]="loadingPending ? 'table-loading' : ''">
                <ng2-smart-table
                  id="rfcTable"
                  [settings]="pendingSettings"
                  [source]="dataTablePending"
                  (userRowSelect)="selectPending($event)">
                </ng2-smart-table>
              </div>
            </div> -->
            <!-- <app-pagination
              [params]="dataTableParamsPending"
              [totalItems]="totalPending">
            </app-pagination> -->
          </tab>
          <!-- <tab heading="Histórico" id="historyTab">
            <div class="row">
              <div
                class="col-sm-12 col-12 col-md-12 col-lg-12 p-2 mb-5 p-5"
                *ngIf="loadingHistorical">
                <div class="d-flex justify-content-center">
                  <div class="d-flex justify-content-center">
                    <div class="loader"></div>
                    <h6 class="loader-msg pt-3">
                      Cargando... por favor espere...
                    </h6>
                  </div>
                </div>
              </div>
              <div class="col-md-8"></div>
              <div class="col-md-4 text-end d-flex flex-row-reverse mt-3 mb-3">
                <div>
                  <app-columns-select
                    [(settings)]="historySettings"
                    [leftList]="true"></app-columns-select>
                </div>
                <div>
                  <button
                    class="btn btn-sm btn-primary active me-2 "
                    (click)="openSignWindow()">
                    <i class="bx bx-pen text-light float-icon"></i>
                    Firmar Documento
                  </button>
                </div>
                <div>
                  <button
                    class="btn btn-sm btn-success active me-2 "
                    (click)="viewDocument()">
                    <i class="bx bx-show-alt text-light float-icon"></i>
                    Ver Documento
                  </button>
                </div>
              </div>
            </div>
            <div class="table-responsive">
              <div [class]="loadingPending ? 'table-loading' : ''">
                <ng2-smart-table
                  id="rfcTable"
                  [settings]="pendingSettings"
                  [source]="dataTablePending"
                  (userRowSelect)="selectPending($event)">
                </ng2-smart-table>
              </div>
            </div>
            <app-pagination
              [params]="dataTableParamsPending"
              [totalItems]="totalPending">
            </app-pagination>
          </tab> -->
          <tab heading="Histórico" id="historyTab">
            <div class="row">
              <!-- <div
                class="col-sm-12 col-12 col-md-12 col-lg-12 p-2 mb-5 p-5"
                *ngIf="loadingHistorical">
                <div class="d-flex justify-content-center">
                  <div class="d-flex justify-content-center">
                    <div class="loader"></div>
                    <h6 class="loader-msg pt-3">
                      Cargando... por favor espere...
                    </h6>
                  </div>
                </div>
              </div> -->
              <div class="col-md-8"></div>
              <div class="col-md-4 text-end d-flex flex-row-reverse mt-3 mb-3">
                <div>
                  <app-columns-select
                    [(settings)]="historySettings"
                    [leftList]="true"></app-columns-select>
                </div>
                <div>
                  <button
                    class="btn btn-sm btn-primary active me-2"
                    (click)="viewDocument()">
                    Ver Documento
                    <i class="bx bx-show-alt text-light float-icon"></i>
                  </button>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-12">
                <form-loader *ngIf="loadingHistorical"></form-loader>
                <ng-scrollbar
                  [track]="'all'"
                  [ngStyle]="{ height: loadingHistorical ? '0px' : '400px' }">
                  <ng2-smart-table
                    id="rfcTable"
                    [settings]="historySettings"
                    [source]="dataTableHistorical"
                    (userRowSelect)="selectHistory($event)">
                  </ng2-smart-table>
                </ng-scrollbar>
                <app-pagination
                  [params]="dataTableParamsHistorical"
                  [totalItems]="totalHistorical">
                </app-pagination>
              </div>
            </div>

            <!-- <ng-scrollbar
              [track]="'horizontal'"
              [autoHeightDisabled]="false"
              class="table-scrollbar">
              <div [class]="loadingHistorical ? 'table-loading' : ''">
                <ng2-smart-table
                  id="rfcTable"
                  [settings]="historySettings"
                  [source]="dataTableHistorical"
                  (userRowSelect)="selectHistory($event)">
                </ng2-smart-table>
              </div>
              <div class="table-padding"></div>
            </ng-scrollbar> -->
          </tab>
        </tabset>
      </div>
    </div>
  </div>
</app-card>
