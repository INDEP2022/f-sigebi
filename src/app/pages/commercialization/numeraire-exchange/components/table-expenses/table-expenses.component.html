<div class="d-flex flex-row-reverse mb-4 mt-0">
  <div class="">
    <button
      class="btn btn-sm btn-info active font-size-14"
      (click)="openCreateOrEditExpense()">
      Agregar Registro <i class="bx bx-plus bx-sm float-icon"></i>
    </button>
  </div>
</div>
<table class="table form-material">
  <thead>
    <tr>
      <th>Registro</th>
      <th class="w-50">Descripción</th>
      <th>Importe</th>
      <th>Acciones</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let expense of expenses">
      <td>
        {{ expense.id }}
      </td>
      <td class="w-50">
        {{ expense.description }}
      </td>
      <td>
        {{ expense.import }}
      </td>
      <td>
        <button
          (click)="openCreateOrEditExpense(expense.id)"
          class="bg-transparent border-0 btn-sm text-warning">
          <i class="fas fa-pen"></i>
        </button>
        <button
          (click)="removeExpense(expense.register)"
          class="bg-transparent border-0 btn-sm ml-2 text-danger">
          <i class="fas fa-times"></i>
        </button>
      </td>
    </tr>
  </tbody>
</table>
<ng-template #dialogExpense>
  <div class="modal-header">
    <h4 class="modal-title pull-left font-size-16">
      {{ idExpense ? 'Editando Gasto' : 'Agregando Gasto' }}
    </h4>
  </div>
  <div class="modal-body form-material" [formGroup]="form">
    <!-- <form-field class="form-group" [control]="form.get('id')" label="Id Gasto">
      <input readonly type="text" formControlName="id" class="form-control" />
    </form-field> -->
    <form-field class="form-group" [control]="form.get('id')">
      <ngx-select
        (fetchItems)="getExpenseConcept($event)"
        [data]="expenseData"
        [form]="form"
        value="id"
        bindLabel="description"
        label="Id Gasto - Descripción"
        control="id"
        [labelTemplate]="expenLabel"
        [optionTemplate]="expenOption"
        (change)="selectedExpenseType($event)">
      </ngx-select>
      <ng-template #expenLabel let-item="item"
        >{{ item.id }} - {{ item.description }}</ng-template
      >
      <ng-template #expenOption let-item="item"
        >{{ item.id }} - {{ item.description }}</ng-template
      >
      <!-- <ng-custom-select
        class="form-control"
        path="spent/api/v1/expense-concept"
        value="id"
        paramSearch="filter.id"
        formControlName="id"
        [initOption]="initOptionExpenseConcept"
        (valueChange)="selectedExpenseType($event)">
        <ng-template let-item>
          {{ item.id }} - {{ item.description }}
        </ng-template>
      </ng-custom-select> -->
    </form-field>
    <form-field [control]="form.get('import')" label="Importe">
      <input type="number" formControlName="import" class="form-control" />
    </form-field>
  </div>
  <div class="modal-footer">
    <button
      type="button"
      class="btn btn-sm btn-info active"
      (click)="addExpense()">
      Agregar
      <i class="bx bx-plus bx-sm float-icon"></i>
    </button>
    <button
      type="button"
      class="btn btn-sm btn-danger active ml-2"
      (click)="closeDialogExpense()">
      Cerrar
      <!-- <i class="fas fa-times"></i> -->
    </button>
  </div>
</ng-template>
