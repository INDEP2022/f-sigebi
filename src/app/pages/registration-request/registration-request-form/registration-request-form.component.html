<app-card [header]="true">
  <div class="ch-content" header>
    <h5 class="title">Registro solicitud - carátula INAI</h5>
  </div>
  <div body>
    <div class="md-tabs">
      <tabset>
        <tab heading="Registro de solicitud"> Registro de solicitud </tab>

        <tab heading="Bienes"> Bienes </tab>

        <tab heading="Domicilio de la transferente">
          Domicilio de la transferente
        </tab>

        <tab heading="Asociar expediente">
          <h5 class="title">Asociar expediente</h5>
          <div class="md-tabls">
            <tabset>
              <tab heading="Documentos generales">
                <div>
                  <h5 class="title">Búsqueda expedientes</h5>
                  <form [formGroup]="searchFileForm" class="form-material">
                    <div class="row pt-3">
                      <div class="col-md-4">
                        <form-field
                          [control]="searchFileForm.get('requestNumber')"
                          label="No. solicitud">
                          <input
                            type="text"
                            class="form-control"
                            formControlName="requestNumber" />
                        </form-field>
                      </div>

                      <div class="col-md-4">
                        <form-field [control]="searchFileForm.get('authority')">
                          <ngx-select
                            [form]="searchFileForm"
                            control="authority"
                            [data]="authorities"
                            value="id"
                            bindLabel="id"
                            label="Autoridad"
                            (fetchItems)="getAuthoritySelect($event)">
                          </ngx-select>
                        </form-field>
                      </div>

                      <div class="col-md-4">
                        <form-field
                          [control]="searchFileForm.get('typeTransference')"
                          label="Tipo transferencía">
                          <input
                            type="text"
                            class="form-control"
                            formControlName="typeTransference" />
                        </form-field>
                      </div>
                    </div>

                    <div class="row pt-4">
                      <div class="col-md-4">
                        <form-field
                          [control]="searchFileForm.get('expedientNumber')"
                          label="No. expediente">
                          <input
                            type="number"
                            class="form-control"
                            formControlName="expedientNumber" />
                        </form-field>
                      </div>
                      <div class="col-md-4">
                        <form-field
                          [control]="searchFileForm.get('indicated')"
                          label="Contribuyente y/o indiciado">
                          <input
                            type="text"
                            class="form-control"
                            formControlName="indicated" />
                        </form-field>
                      </div>
                      <div class="col-md-4">
                        <form-field
                          [control]="searchFileForm.get('domainExtinction')"
                          label="Extinción de dominio">
                          <input
                            type="text"
                            class="form-control"
                            formControlName="domainExtinction" />
                        </form-field>
                      </div>
                    </div>

                    <div class="row pt-4">
                      <div class="col-md-4">
                        <form-field
                          [control]="searchFileForm.get('regionalDelegation')">
                          <ngx-select
                            [form]="searchFileForm"
                            control="regionalDelegation"
                            [data]="regionalsDelegations"
                            value="id"
                            bindLabel="id"
                            label="Delegación regional"
                            (fetchItems)="getRegionalDelegationSelect($event)">
                          </ngx-select>
                        </form-field>
                      </div>

                      <div class="col-md-4">
                        <form-field
                          [control]="searchFileForm.get('transferFile')"
                          label="Expediente transferente / PAMA">
                          <input
                            type="text"
                            class="form-control"
                            formControlName="transferFile" />
                        </form-field>
                      </div>

                      <div class="col-md-4">
                        <form-field
                          [control]="searchFileForm.get('judgmentType')"
                          label="Tipo juicio">
                          <input
                            type="text"
                            class="form-control"
                            formControlName="judgmentType" />
                        </form-field>
                      </div>
                    </div>

                    <div class="row pt-4">
                      <div class="col-md-4">
                        <form-field [control]="searchFileForm.get('state')">
                          <ngx-select
                            [form]="searchFileForm"
                            control="state"
                            [data]="states"
                            value="id"
                            bindLabel="id"
                            label="Estado"
                            (fetchItems)="getStateSelect($event)">
                          </ngx-select>
                        </form-field>
                      </div>

                      <div class="col-md-4">
                        <form-field
                          [control]="searchFileForm.get('judment')"
                          label="Juicio">
                          <input
                            type="text"
                            class="form-control"
                            formControlName="judment" />
                        </form-field>
                      </div>

                      <div class="col-md-4">
                        <form-field
                          [control]="searchFileForm.get('inquiryPreliminary')"
                          label="Averiguación prevía">
                          <input
                            type="text"
                            class="form-control"
                            formControlName="inquiryPreliminary" />
                        </form-field>
                      </div>
                    </div>

                    <div class="row pt-4">
                      <div class="col-md-4">
                        <form-field
                          [control]="searchFileForm.get('transferent')">
                          <ngx-select
                            [form]="searchFileForm"
                            control="transferent"
                            [data]="transferents"
                            value="id"
                            bindLabel="id"
                            label="Transferente"
                            (fetchItems)="getTransferentSelect($event)">
                          </ngx-select>
                        </form-field>
                      </div>

                      <div class="col-md-4">
                        <form-field
                          [control]="searchFileForm.get('casePenal')"
                          label="Caso penal">
                          <input
                            type="text"
                            class="form-control"
                            formControlName="casePenal" />
                        </form-field>
                      </div>
                    </div>

                    <div class="row pt-4">
                      <div class="col-md-4">
                        <form-field [control]="searchFileForm.get('station')">
                          <ngx-select
                            [form]="searchFileForm"
                            control="station"
                            [data]="stations"
                            value="id"
                            bindLabel="id"
                            label="Emisora"
                            (fetchItems)="getStationSelect($event)">
                          </ngx-select>
                        </form-field>
                      </div>

                      <div class="col-md-4">
                        <form-field
                          [control]="searchFileForm.get('protectionNumber')"
                          label="No° Amparo">
                          <input
                            type="text"
                            class="form-control"
                            formControlName="protectionNumber" />
                        </form-field>
                      </div>
                    </div>
                    <div class="form-inline justify-content-end btn-toolbar">
                      <button class="btn btn-primary btn-sm active">
                        <i class="fa fa-search"></i> Buscar
                      </button>
                    </div>
                  </form>
                </div>

                <div class="btn-toolbar">
                  <button
                    (click)="showDocsEst()"
                    class="btn btn-primary btn-sm active">
                    <i class="fa fa-file-archive"></i> Ver documentos
                  </button>
                  <button
                    (click)="newExpedient()"
                    class="btn btn-success btn-sm active">
                    <i class="fa fa-file"></i> Nuevo expediente
                  </button>

                  <button
                    (click)="electronicSign()"
                    class="btn btn-pink btn-sm active">
                    <i class="fa fa-key"></i> Firma electrónica
                  </button>

                  <!-- <button
                    *ngIf="!showForm"
                    (click)="showForm = !showForm"
                    class="btn btn-info btn-sm active">
                    <i class="fa fa-search"></i> Buscar
                  </button> -->

                  <button
                    *ngIf="showForm"
                    (click)="showForm = !showForm"
                    class="btn btn-info btn-sm active">
                    <i class="fa fa-times"></i> cancelar
                  </button>
                </div>
                <div class="d-flex justify-content-end">
                  <app-columns-select
                    [(settings)]="settingsDocGen"></app-columns-select>
                </div>

                <ng2-smart-table
                  [attr.class]="'table-bordered'"
                  [settings]="settingsDocGen"
                  [source]="documentsGenData">
                </ng2-smart-table>
                <app-pagination
                  [params]="params"
                  [totalItems]="totalItems"></app-pagination>
              </tab>

              <tab heading="Documentos de solicitud">
                <h5 class="title">Búsqueda solicitud</h5>

                <form [formGroup]="searchFileForm" class="form-material">
                  <div class="row pt-3">
                    <div class="col-md-6">
                      <form-field
                        [control]="searchFileForm.get('requestNumber')"
                        label="Número de solicitud">
                        <input
                          type="text"
                          class="form-control"
                          formControlName="requestNumber" />
                      </form-field>
                    </div>
                    <div class="col-md-6">
                      <form-field
                        [control]="searchFileForm.get('regionalDelegation')">
                        <ngx-select
                          [form]="searchFileForm"
                          control="regionalDelegation"
                          [data]="regionalsDelegations"
                          value="id"
                          bindLabel="id"
                          label="Delegación regional"
                          (fetchItems)="getRegionalDelegationSelect($event)">
                        </ngx-select>
                      </form-field>
                    </div>
                  </div>

                  <div class="row pt-3">
                    <div class="col-md-6">
                      <form-field
                        [control]="searchFileForm.get('expedientNumber')"
                        label="Número de expediente">
                        <input
                          type="text"
                          class="form-control"
                          formControlName="expedientNumber" />
                      </form-field>
                    </div>
                    <div class="col-md-6">
                      <form-field [control]="searchFileForm.get('state')">
                        <ngx-select
                          [form]="searchFileForm"
                          control="state"
                          [data]="states"
                          value="id"
                          bindLabel="id"
                          label="Estado"
                          (fetchItems)="getStateSelect($event)">
                        </ngx-select>
                      </form-field>
                    </div>
                  </div>

                  <div class="row pt-3">
                    <form-field
                      [control]="searchFileForm.get('casePenal')"
                      label="Causa penal">
                      <input
                        type="text"
                        class="form-control"
                        formControlName="casePenal" />
                    </form-field>
                  </div>

                  <div class="form-inline justify-content-end btn-toolbar">
                    <button class="btn btn-primary btn-sm active">
                      <i class="fa fa-search"></i> Buscar
                    </button>
                  </div>
                </form>

                <div class="row">
                  <div class="btn-toolbar pt-5">
                    <app-columns-select
                      [(settings)]="settingsDocReq"></app-columns-select>
                    <button
                      (click)="showDocsEst()"
                      class="btn btn-primary btn-sm active">
                      <i class="fa fa-file-archive"></i> Ver documentos
                    </button>
                  </div>

                  <ng2-smart-table
                    [attr.class]="'table-bordered'"
                    [settings]="settingsDocReq"
                    [source]="documentsReqData">
                  </ng2-smart-table>
                  <app-pagination
                    [params]="params"
                    [totalItems]="totalItems"></app-pagination>
                </div>
              </tab>

              <tab heading="Documentos de bienes">
                <h5 class="title">Búsqueda bienes</h5>
                <form [formGroup]="searchFileForm" class="form-material">
                  <div class="row pt-3">
                    <div class="col-md-6">
                      <form-field
                        [control]="searchFileForm.get('gestionNumber')"
                        label="Número de gestión">
                        <input
                          type="text"
                          class="form-control"
                          formControlName="gestionNumber" />
                      </form-field>
                    </div>

                    <div class="col-md-6">
                      <form-field [control]="searchFileForm.get('goodType')">
                        <ngx-select
                          [form]="searchFileForm"
                          control="goodType"
                          [data]="goodTypes"
                          value="id"
                          bindLabel="id"
                          label="Tipo Bien"
                          (fetchItems)="getGoodTypeSelect($event)">
                        </ngx-select>
                      </form-field>
                    </div>
                  </div>

                  <div class="row pt-3">
                    <div class="col-md-6">
                      <form-field
                        [control]="searchFileForm.get('requestNumber')"
                        label="Número de solicitud">
                        <input
                          type="text"
                          class="form-control"
                          formControlName="requestNumber" />
                      </form-field>
                    </div>

                    <div class="col-md-6">
                      <form-field
                        [control]="
                          searchFileForm.get('descriptionGoodTransferent')
                        "
                        label="Descripción de bien transferente">
                        <input
                          type="text"
                          class="form-control"
                          formControlName="descriptionGoodTransferent" />
                      </form-field>
                    </div>
                  </div>

                  <div class="form-inline justify-content-end btn-toolbar">
                    <button class="btn btn-primary btn-sm active">
                      <i class="fa fa-search"></i> Buscar
                    </button>
                  </div>
                </form>

                <div class="row">
                  <div class="btn-toolbar pt-5">
                    <app-columns-select
                      [(settings)]="settingsDocEst"></app-columns-select>
                    <button
                      (click)="showDocsEstValidate()"
                      class="btn btn-primary btn-sm active">
                      <i class="fa fa-file-archive"></i> Ver documentos
                    </button>
                  </div>

                  <ng2-smart-table
                    [attr.class]="'table-bordered'"
                    [settings]="settingsDocEst"
                    [source]="documentsEstData"
                    (userRowSelect)="selectDocument($event)">
                  </ng2-smart-table>
                  <app-pagination
                    [params]="params"
                    [totalItems]="totalItems"></app-pagination>
                </div>
              </tab>

              <tab heading="Busqueda de documentos">
                <h5 class="title">Búsqueda documentos</h5>
                <form [formGroup]="searchFileForm" class="form-material">
                  <div class="row pt-3">
                    <form-field
                      [control]="searchFileForm.get('text')"
                      label="Texto">
                      <input
                        type="text"
                        class="form-control"
                        formControlName="text" />
                    </form-field>
                  </div>

                  <div class="row pt-3">
                    <form-field [control]="searchFileForm.get('typeDocument')">
                      <ngx-select
                        [form]="searchFileForm"
                        control="typeDocument"
                        [data]="typeDocuments"
                        value="id"
                        bindLabel="id"
                        label="Tipo de documento"
                        (fetchItems)="getTypeDocumentSelect($event)">
                      </ngx-select>
                    </form-field>
                  </div>

                  <div class="row pt-3">
                    <div class="col-md-4">
                      <form-field
                        [control]="searchFileForm.get('titleDocument')"
                        label="Titulo del docuemnto">
                        <input
                          type="text"
                          class="form-control"
                          formControlName="titleDocument" />
                      </form-field>
                    </div>
                    <div class="col-md-4">
                      <form-field
                        [control]="searchFileForm.get('siabNumber')"
                        label="No°. siab">
                        <input
                          type="text"
                          class="form-control"
                          formControlName="siabNumber" />
                      </form-field>
                    </div>
                    <div class="col-md-4">
                      <form-field
                        [control]="searchFileForm.get('senderCharge')"
                        label="Cargo remitente">
                        <input
                          type="text"
                          class="form-control"
                          formControlName="senderCharge" />
                      </form-field>
                    </div>
                  </div>

                  <div class="row pt-3">
                    <div class="col-md-4">
                      <form-field
                        [control]="searchFileForm.get('author')"
                        label="Autor">
                        <input
                          type="text"
                          class="form-control"
                          formControlName="author" />
                      </form-field>
                    </div>
                    <div class="col-md-4">
                      <form-field
                        [control]="searchFileForm.get('typeTransference')"
                        label="Tipo transferencia">
                        <input
                          type="text"
                          class="form-control"
                          formControlName="typeTransference" />
                      </form-field>
                    </div>
                    <div class="col-md-4">
                      <form-field
                        [control]="searchFileForm.get('responsible')"
                        label="Responsable">
                        <input
                          type="text"
                          class="form-control"
                          formControlName="responsible" />
                      </form-field>
                    </div>
                  </div>

                  <div class="row pt-3">
                    <div class="col-md-4">
                      <form-field
                        [control]="searchFileForm.get('documentNumber')"
                        label="No°. documento">
                        <input
                          type="text"
                          class="form-control"
                          formControlName="documentNumber" />
                      </form-field>
                    </div>
                    <div class="col-md-4">
                      <form-field
                        [control]="searchFileForm.get('regionalDelegation')">
                        <ngx-select
                          [form]="searchFileForm"
                          control="regionalDelegation"
                          [data]="regionalsDelegations"
                          value="id"
                          bindLabel="id"
                          label="Delegación regional"
                          (fetchItems)="getRegionalDelegationSelect($event)">
                        </ngx-select>
                      </form-field>
                    </div>
                    <div class="col-md-4">
                      <form-field
                        [control]="searchFileForm.get('contributor')"
                        label="Contribuyente">
                        <input
                          type="text"
                          class="form-control"
                          formControlName="contributor" />
                      </form-field>
                    </div>
                  </div>

                  <div class="row pt-3">
                    <div class="col-md-4">
                      <form-field
                        [control]="searchFileForm.get('expedientNumber')"
                        label="No°. expediente">
                        <input
                          type="text"
                          class="form-control"
                          formControlName="expedientNumber" />
                      </form-field>
                    </div>
                    <div class="col-md-4">
                      <form-field [control]="searchFileForm.get('state')">
                        <ngx-select
                          [form]="searchFileForm"
                          control="state"
                          [data]="states"
                          value="id"
                          bindLabel="id"
                          label="Estado"
                          (fetchItems)="getStateSelect($event)">
                        </ngx-select>
                      </form-field>
                    </div>
                    <div class="col-md-4">
                      <form-field
                        [control]="searchFileForm.get('officeNumber')"
                        label="No°. oficio">
                        <input
                          type="text"
                          class="form-control"
                          formControlName="officeNumber" />
                      </form-field>
                    </div>
                  </div>

                  <div class="row pt-3">
                    <div class="col-md-4">
                      <form-field
                        [control]="searchFileForm.get('requestNumber')"
                        label="No°. solicitud">
                        <input
                          type="text"
                          class="form-control"
                          formControlName="requestNumber" />
                      </form-field>
                    </div>
                    <div class="col-md-4">
                      <form-field [control]="searchFileForm.get('transferent')">
                        <ngx-select
                          [form]="searchFileForm"
                          control="transferent"
                          [data]="transferents"
                          value="id"
                          bindLabel="id"
                          label="Transferente"
                          (fetchItems)="getTransferentSelect($event)">
                        </ngx-select>
                      </form-field>
                    </div>
                    <div class="col-md-4">
                      <form-field
                        [control]="searchFileForm.get('comments')"
                        label="Comentarios">
                        <input
                          type="text"
                          class="form-control"
                          formControlName="comments" />
                      </form-field>
                    </div>
                  </div>

                  <div class="row pt-3">
                    <div class="col-md-4">
                      <form-field
                        [control]="searchFileForm.get('goodNumber')"
                        label="No°. bien">
                        <input
                          type="text"
                          class="form-control"
                          formControlName="goodNumber" />
                      </form-field>
                    </div>
                    <div class="col-md-4">
                      <form-field
                        [control]="searchFileForm.get('sender')"
                        label="Remitente">
                        <input
                          type="text"
                          class="form-control"
                          formControlName="sender" />
                      </form-field>
                    </div>
                  </div>

                  <div class="form-inline justify-content-end btn-toolbar">
                    <button class="btn btn-primary btn-sm active">
                      <i class="fa fa-search"></i> Buscar
                    </button>
                  </div>
                </form>

                <div class="row">
                  <div class="btn-toolbar pt-5">
                    <app-columns-select
                      [(settings)]="settingsDocSea"></app-columns-select>
                    <button
                      (click)="showDocsEst()"
                      class="btn btn-primary btn-sm active">
                      <i class="fa fa-file-archive"></i> Ver documentos
                    </button>
                  </div>

                  <ng2-smart-table
                    [attr.class]="'table-bordered'"
                    [settings]="settingsDocSea"
                    [source]="documentsSeaData"
                    (edit)="showDocument()"
                    (delete)="deleteDocument()">
                  </ng2-smart-table>
                  <app-pagination
                    [params]="params"
                    [totalItems]="totalItems"></app-pagination>
                </div>
              </tab>
            </tabset>
          </div>
        </tab>

        <tab heading="Expediente"> Expediente </tab>
      </tabset>
    </div>
  </div>
</app-card>
