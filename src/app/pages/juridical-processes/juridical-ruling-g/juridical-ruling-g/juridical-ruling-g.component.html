<!-- FIXME:  -->
<app-card [header]="true" [footer]="true">
  <div class="ch-content" header>
    <h5 class="title">DICTAMINACIONES JUR&Iacute;DICAS - G</h5>
  </div>

  <div body>
    <div>
      <div class="row">
        <!-- INICIA FORM #1 -->
        <form
          [formGroup]="expedientesForm"
          class="container-fluid form-material col-6 p-4">
          <div class="row p-4">
            <!-- No. Expediente -->
            <!-- <div class="col-sm-12 col-12 col-md-6 p-2">
              <form-field
                [control]="expedientesForm.get('noDictaminacion')"
                label="No. Dictaminación">
                <input class="form-control" formControlName="noDictaminacion" />
              </form-field>
            </div> -->

            <div class="col-12 p-2">
              <form-field [control]="expedientesForm.get('tipoDictaminacion')">
                <ngx-select
                  [searchOnInit]="true"
                  [data]="typesDict"
                  [form]="expedientesForm"
                  label="Tipo Dictaminación"
                  bindLabel="typeDict"
                  control="tipoDictaminacion"
                  (change)="onTypeDictChange($event)"></ngx-select>
              </form-field>
            </div>

            <div class="col-12 p-2">
              <form-field
                [control]="expedientesForm.get('noExpediente')"
                label="No. Expediente">
                <input
                  type="number"
                  class="form-control"
                  (blur)="changeNumExpediente()"
                  (keypress)="onKeyPress($event)"
                  formControlName="noExpediente" />
              </form-field>
            </div>
            <!-- Averiguación Previa -->
            <!-- <div class="col-sm-12 col-12 col-md-6 p-2">
              <form-field
                [control]="expedientesForm.get('averiguacionPrevia')"
                label="Averiguaci&oacute;n Previa">
                <input
                  class="form-control"
                  formControlName="averiguacionPrevia" />
              </form-field>
            </div> -->
            <!-- Causa Penal -->
            <!-- <div class="col-sm-12 col-12 col-md-6 p-2">
              <form-field
                [control]="expedientesForm.get('causaPenal')"
                label="Causa Penal">
                <input class="form-control" formControlName="causaPenal" />
              </form-field>
            </div> -->

            <!-- Check Delito -->
            <!-- <div class="col-sm-12 col-12 col-md-12 p-2">
              <form-field [control]="expedientesForm.get('delito')">
                <form-check label="¿Es delito?" for="delito">
                  <input
                    id="delito"
                    type="checkbox"
                    class="form-control"
                    formControlName="delito" />
                </form-check>
              </form-field>
            </div> -->
            <!-- Observaciones -->
            <!-- <div class="col-12 text-danger p-2">
              <b>Observaciones</b>
              {{ expedientesForm.get('observaciones').value }}
            </div> -->
          </div>
        </form>
        <!-- INICIA FORM #2 -->
        <form
          [formGroup]="dictaminacionesForm"
          class="container-fluid form-material col-6 p-4">
          <div class="row p-4">
            <!-- Fecha Instructora -->
            <!-- <div class="col-sm-12 col-12 col-md-4 p-2">
              <form-field
                [control]="dictaminacionesForm.get('fechaInstructora')"
                label="Fecha Instructora">
                <input
                  class="form-control"
                  formControlName="fechaInstructora"
                  bsDatepicker />
              </form-field>
            </div> -->

            <div class="col-sm-12 col-12 col-md-4 p-2">
              <form-field
                [control]="dictaminacionesForm.get('fechaPPFF')"
                label="Fecha P.P.F.F">
                <input
                  class="form-control"
                  formControlName="fechaPPFF"
                  bsDatepicker />
              </form-field>
            </div>

            <div class="col-sm-12 col-12 col-md-4 p-2">
              <form-field
                [control]="dictaminacionesForm.get('wheelNumber')"
                label="Volante">
                <input class="form-control" formControlName="wheelNumber" />
              </form-field>
            </div>

            <div class="col-sm-12 col-12 col-md-4 p-2">
              <form-field
                [control]="dictaminacionesForm.get('fechaDictaminacion')"
                label="Fecha Dictaminación">
                <input
                  class="form-control"
                  formControlName="fechaDictaminacion"
                  bsDatepicker />
              </form-field>
            </div>

            <!-- Fecha Resolución -->
            <!-- <div class="col-md-offset-8 col-md-4 p-2">
              <form-field
                [control]="dictaminacionesForm.get('fechaResolucion')"
                label="Fecha Resolución">
                <input
                  class="form-control"
                  formControlName="fechaResolucion"
                  bsDatepicker />
              </form-field>
            </div> -->
            <!-- <div class="col-md-offset-4 col-md-4 p-2">
              <form-field
                [control]="dictaminacionesForm.get('fechaNotificacionAseg')"
                label="Fecha Notificaci&oacute;n Aseg.">
                <input
                  class="form-control"
                  formControlName="fechaNotificacionAseg"
                  bsDatepicker />
              </form-field>
            </div> -->

            <!-- <div class="col-md-4 p-2">
              <form-field
                [control]="dictaminacionesForm.get('fechaNotificacion')"
                label="Fecha Notificación">
                <input
                  class="form-control"
                  formControlName="fechaNotificacion"
                  bsDatepicker />
              </form-field>
            </div> -->
            <!--  -->
            <div class="col-md-4 p-2">
              <form-field
                [control]="dictaminacionesForm.get('autoriza_remitente')"
                label="Autoriza Dict.">
                <input
                  class="form-control"
                  formControlName="autoriza_remitente" />
              </form-field>
            </div>
            <div class="col-md-8 p-2">
              <form-field
                [control]="dictaminacionesForm.get('autoriza_nombre')"
                label="">
                <input class="form-control" formControlName="autoriza_nombre" />
              </form-field>
            </div>

            <div class="col-12 p-2">
              <form-field
                [control]="dictaminacionesForm.get('cveOficio')"
                label="Cve. Oficio">
                <input
                  class="form-control"
                  #cveOficio
                  formControlName="cveOficio" />
              </form-field>
            </div>
            <div class="col-12 p-2">
              <div class="col-md-12 text-danger text-center">
                <b>Estatus </b>
                <b> {{ statusDict }}</b>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>

    <hr class="row" />

    <!-- INICIA FORM #3 TODO: -->
    <form
      [formGroup]="subtipoForm"
      class="container-fluid form-material col-12 px-2 pt-4">
      <div class="row">
        <div class="col-md-4">
          <form-field
            [control]="subtipoForm.get('tipoDictaminacion')"
            label="Ident&#46;">
            <select class="form-control" formControlName="tipoDictaminacion">
              <option [value]="null"></option>
              <option [value]="'Alta'">Alta</option>
              <option [value]="'Normal'">Normal</option>
            </select>
          </form-field>
        </div>

        <div class="col-md-8">
          <form-field [control]="subtipoForm.get('type')">
            <ngx-select
              class="form-control"
              [searchOnInit]="true"
              (fetchItems)="getTypes($event)"
              [data]="types"
              [form]="subtipoForm"
              value="id"
              label="Subtipo - Ssubtipo - Sssubtipo"
              bindLabel="nameGoodType"
              control="type"
              (change)="onTypesChange($event)">
            </ngx-select>
          </form-field>
        </div>
      </div>
    </form>

    <div class="row pt-2">
      <div class="col-md-12 mt-4 mb-4">
        <h5 class="title">BIENES</h5>
        <br />
        <ng2-smart-table
          (rowSelect)="onSelectedRow($event)"
          [attr.class]="'table-bordered'"
          [settings]="settings1"
          [source]="goods"></ng2-smart-table>
      </div>
    </div>
    <div class="row pt-2">
      <div class="col-md-12 text-center mt-4 mb-4">
        <button
          class="btn btn-secondary btn-sm active m-3 p-3 pointer"
          type="button"
          (click)="addSelect()">
          <!-- Mover uno -->
          <i class="bx bx-chevron-down bx-md"></i>
        </button>
        <button
          class="btn btn-secondary btn-sm active m-3 p-3 pointer"
          type="button"
          (click)="addAll()">
          <!-- Mover todos -->
          <i class="bx bx-chevrons-down bx-md"></i>
        </button>
        <button
          class="btn btn-secondary btn-sm active m-3 p-3 pointer"
          type="button"
          (click)="removeAll()">
          <!-- Quitar todos -->
          <i class="bx bx-chevrons-up bx-md"></i>
        </button>
        <button
          class="btn btn-secondary btn-sm active m-3 p-3 pointer"
          type="button"
          (click)="removeSelect()">
          <!-- Quitar uno -->
          <i class="bx bx-chevron-up bx-md"></i>
        </button>
      </div>
    </div>
    <div class="row pt-2">
      <div class="col-md-12 mt-4 mb-4">
        <ng2-smart-table
          [attr.class]="'table-bordered'"
          [settings]="settings2"
          (rowSelect)="rowSelected($event)"
          [source]="goodsValid"></ng2-smart-table>
      </div>
    </div>
  </div>

  <!-- 
    --
   -->
  <div footer>
    <div class="row w-100">
      <!--  -->
      <!-- <form
        [formGroup]="gestionDestinoForm"
        class="container-fluid form-material col-7">
        <div class="row">
          <div class="col-sm-12 col-12 col-md-6 p-2">
            <form-field
              [control]="gestionDestinoForm.get('estatus')"
              label="Estatus">
              <input class="form-control" formControlName="estatus" />
            </form-field>
          </div>
        </div>
      </form> -->
      <!--  -->

      <!--  -->
      <div class="col-8 pt-2">
        <div class="col-md-12">
          <hr class="row" />
        </div>
        <div class="col-md-12">
          <h5 class="title">DOCUMENTOS</h5>
          <div class="row">
            <div class="col-md-10">
              <ng2-smart-table
                [attr.class]="'table-bordered'"
                [settings]="settings3"
                [source]="documents"></ng2-smart-table>
            </div>
            <div class="col-md-2">
              <p class="text-info h5">No&#46; bien</p>
              <p class="text-info h5">{{ idGoodSelected }}</p>
            </div>
          </div>
        </div>
      </div>
      <!--  -->

      <div class="col-4 custom-grid">
        <button
          class="btn btn-info btn-sm active m-3 text-wrap"
          (click)="btnDocumentos()">
          Documentos
        </button>
        <button
          class="btn btn-primary btn-sm active m-3 text-wrap"
          (click)="btnApprove()">
          <!-- [routerLink]="rutaAprobado" -->
          Aprobar
        </button>
        <button
          class="btn btn-danger btn-sm active m-3 text-wrap"
          (click)="btnBorrarDictamen()">
          Borrar Dictamen
        </button>
        <button
          class="btn btn-primary btn-sm active m-3 text-wrap"
          (click)="btnImprimeOficio()"
          [routerLink]="rutaAprobado">
          Imprime Oficio
        </button>
        <button
          class="btn btn-info btn-sm active m-3 text-wrap"
          (click)="btnParcializar()">
          Parcializar
        </button>
      </div>
      <!-- <button
          class="btn btn-danger btn-sm active m-3 text-wrap"
          (click)="btnRechazar()">
          Rechazar
        </button> -->

      <!-- <div class="col-sm-12 col-12 col-md-8 p-2 text-center">
        <button
          class="btn btn-info btn-sm active m-3 text-wrap"
          (click)="btnOficioSubstanciacion()">
          Oficio Substanciaci&oacute;n
        </button>
        <button
          class="btn btn-info btn-sm active m-3 text-wrap"
          (click)="btnOficioRelacionado()">
          Oficio Relacionado
        </button>
      </div> -->
    </div>
  </div>
</app-card>

<app-card [header]="true" *ngIf="listadoDocumentos == true">
  <div class="ch-content" header>
    <h5 class="title">Fecha de Documentos Asociados al Tr&aacute;mite</h5>
  </div>

  <div body>
    <div class="row w-100">
      <div class="col-sm-12 col-12 col-md-12 p-2">
        <ng2-smart-table
          [attr.class]="'table-bordered'"
          [settings]="settings4"
          [source]="data4"></ng2-smart-table>
      </div>
      <!-- <div class="col-sm-12 col-12 col-md-12 text-right p-2">
        <div class="form-group">
          <button class="btn btn-danger btn-sm active m-3" (click)="btnSalir()">
            Cerrar Ventana
          </button>
        </div>
      </div> -->
      <div class="col-12 flex p-2">
        <div class="form-group text-right">
          <button
            class="btn btn-danger active btn-sm m-3"
            (click)="btnCloseDocs()">
            Cerrar Ventana
          </button>
          <button
            class="btn btn-primary active btn-sm m-3"
            (click)="btnSalir()">
            Cargar documentos
          </button>
        </div>
      </div>
    </div>
  </div>
</app-card>
