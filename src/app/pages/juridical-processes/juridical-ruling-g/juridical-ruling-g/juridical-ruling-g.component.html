<app-card [header]="true" [footer]="true">
  <div class="ch-content" header>
    <h5 class="title">DICTAMINACIONES JUR&Iacute;DICAS - G</h5>
  </div>

  <div body>
    <form [formGroup]="expedientesForm" class="container-fluid form-material">
      <div class="row">
        <div class="col-sm-12 col-12 col-md-12 col-lg-12 p-2">
          <h6>Expedientes</h6>
        </div>
        <div class="col-sm-12 col-12 col-md-12 col-lg-12 p-2">
          <div class="row">
            <div *ngIf="origin" class="col-sm-12 col-12 col-md-2 p-2">
              <form-field
                [control]="expedientesForm.get('noExpediente')"
                label="No Expediente">
                <input class="form-control" formControlName="noExpediente" />
              </form-field>
            </div>
            <div *ngIf="origin" class="col-sm-12 col-12 col-md-4 p-2">
              <form-field
                [control]="expedientesForm.get('tipoDictaminacion')"
                label="Tipo de dictaminaci&oacute;n">
                <select
                  class="form-control"
                  formControlName="tipoDictaminacion">
                  <option [value]="null">Seleccione un valor</option>
                  <option [value]="'DONACIÓN'">DONACIÓN</option>
                  <option [value]="'DESTRUCCIÓN'">DESTRUCCIÓN</option>
                  <option [value]="'ENAJENACIÓN'">ENAJENACIÓN</option>
                  <option [value]="'TRANSFERENTE'">TRANSFERENTE</option>
                  <option [value]="'PROCEDENCIA'">PROCEDENCIA</option>
                  <option [value]="'DEVOLUCIÓN'">DEVOLUCIÓN</option>
                  <option [value]="'ABANDONO'">ABANDONO</option>
                  <option [value]="'RESARCIMIENTO'">RESARCIMIENTO</option>
                </select>
              </form-field>
            </div>
            <div *ngIf="!origin" class="col-sm-12 col-12 col-md-3 p-2">
              <form-field
                [control]="expedientesForm.get('averiguacionPrevia')"
                label="Averiguaci&oacute;n Previa">
                <input
                  class="form-control"
                  formControlName="averiguacionPrevia" />
              </form-field>
            </div>
            <div *ngIf="!origin" class="col-sm-12 col-12 col-md-3 p-2">
              <form-field
                [control]="expedientesForm.get('causaPenal')"
                label="Causa Penal">
                <input class="form-control" formControlName="causaPenal" />
              </form-field>
            </div>
            <div *ngIf="!origin" class="col-sm-12 col-12 col-md-2 p-2">
              <form-check label="Delito" for="delito">
                <input id="delito" type="checkbox" formControlName="delito" />
              </form-check>
            </div>
            <div *ngIf="!origin" class="col-sm-12 col-12 col-md-4 p-2">
              <form-field
                [control]="expedientesForm.get('observaciones')"
                label="Observaciones">
                <textarea
                  class="form-control"
                  formControlName="observaciones"></textarea>
              </form-field>
            </div>
            <div *ngIf="!origin" class="col-sm-12 col-12 col-md-4 p-2">
              <div class="col-md-12 text-center text-danger">
                <b>Observaciones</b>
              </div>
            </div>
          </div>
        </div>
      </div>
    </form>

    <form
      [formGroup]="dictaminacionesForm"
      class="container-fluid form-material">
      <div class="row">
        <div class="col-sm-12 col-12 col-md-12 col-lg-12 p-2">
          <h6>Dictaminaciones</h6>
        </div>
        <div class="col-sm-12 col-12 col-md-12 col-lg-12 p-2">
          <div class="row">
            <div *ngIf="origin" class="col-sm-12 col-12 col-md-3 p-2 mt-3">
              <form-field
                [control]="dictaminacionesForm.get('fechaPPFF')"
                label="Fecha P.P.F.F">
                <input
                  class="form-control"
                  formControlName="fechaPPFF"
                  bsDatepicker />
              </form-field>
            </div>
            <div *ngIf="origin" class="col-sm-12 col-12 col-md-3 p-2 mt-3">
              <form-field
                [control]="dictaminacionesForm.get('volante')"
                label="Voalnte">
                <input class="form-control" formControlName="volante" />
              </form-field>
            </div>
            <div *ngIf="origin" class="col-sm-12 col-12 col-md-3 p-2 mt-3">
              <form-field
                [control]="dictaminacionesForm.get('fechaDictamen')"
                label="Fecha Dictaminación">
                <input
                  class="form-control"
                  formControlName="fechaDictamen"
                  bsDatepicker />
              </form-field>
            </div>
          </div>
          <div class="row">
            <!-- <div class="col-sm-12 col-12 col-md-3 p-2">
              <form-field
                [control]="dictaminacionesForm.get('etiqueta')"
                label="Etiqueta">
                <input class="form-control" formControlName="etiqueta" />
              </form-field>
            </div>
            <div class="col-sm-12 col-12 col-md-2 p-2">
              <form-field
                [control]="dictaminacionesForm.get('fechaResolucion')"
                label="Fecha Resoluci&oacute;n">
                <input
                  class="form-control"
                  formControlName="fechaResolucion"
                  bsDatepicker />
              </form-field>
            </div>
            <div class="col-sm-12 col-12 col-md-2 p-2">
              <form-field
                [control]="dictaminacionesForm.get('fechaNotificacion')"
                label="Fecha Notificaci&oacute;n">
                <input
                  class="form-control"
                  formControlName="fechaNotificacion"
                  bsDatepicker />
              </form-field>
            </div>
            <div class="col-sm-12 col-12 col-md-2 p-2">
              <form-field
                [control]="dictaminacionesForm.get('fechaNotificacionAseg')"
                label="Fecha Notificaci&oacute;n Aseg">
                <input
                  class="form-control"
                  formControlName="fechaNotificacionAseg"
                  bsDatepicker />
              </form-field>
            </div> -->
            <div *ngIf="origin" class="col-sm-12 col-12 col-md-3 p-2">
              <app-user-shared
                [form]="dictaminacionesForm"
                [userField]="'issuingUser'"
                [label]="'Autoriza Dictamen'"></app-user-shared>
            </div>
            <div *ngIf="origin" class="col-sm-12 col-12 col-md-3 p-2 mt-3">
              <form-field
                [control]="dictaminacionesForm.get('cveOficio')"
                label="Clave Oficio">
                <input class="form-control" formControlName="cveOficio" />
              </form-field>
            </div>
            <div *ngIf="!origin" class="col-sm-12 col-12 col-md-3 p-2 mt-3">
              <form-field
                [control]="dictaminacionesForm.get('estatus')"
                label="Estatus">
                <input class="form-control" formControlName="estatus" />
              </form-field>
            </div>
            <div class="col-sm-12 col-12 col-md-3 p-2">
              <div class="col-md-12 text-center text-danger">
                <b>Estatus</b>
              </div>
            </div>
          </div>
        </div>
      </div>
    </form>

    <form [formGroup]="subtipoForm" class="container-fluid form-material">
      <div class="row">
        <div class="col-sm-12 col-12 col-md-12 col-lg-12 p-2">
          <div class="row">
            <div class="col-md-4">
              <form-field
                [control]="subtipoForm.get('tipoDictaminacion')"
                label="Ident&#46;">
                <select
                  class="form-control"
                  formControlName="tipoDictaminacion">
                  <option [value]="null">Seleccione un valor</option>
                  <option [value]="'Alta'">Alta</option>
                  <option [value]="'Normal'">Normal</option>
                </select>
              </form-field>
            </div>
            <div class="col-md-8" *ngIf="objComponent !== null">
              <app-classification-type-ssubtype-of-goods-shared
                (clasification)="filterGood($event)"
                [form]="subtipoForm"
                [obj]="
                  objComponent
                "></app-classification-type-ssubtype-of-goods-shared>
            </div>
          </div>
        </div>
      </div>
    </form>
    <div class="row pt-2">
      <div class="col-md-12 mt-4 mb-4">
        <hr class="row" />
        <h5 class="title">BIENES</h5>
        <br />
        <ng2-smart-table
          [attr.class]="'table-bordered'"
          [settings]="settings1"
          [source]="goods"></ng2-smart-table>
      </div>
    </div>
    <div class="row pt-2">
      <div class="col-md-12 text-center mt-4 mb-4">
        <button
          class="btn btn-secondary btn-sm active m-3 p-3"
          type="button"
          (click)="addSelect()">
          <!-- Mover uno -->
          <i class="bx bxs-down-arrow-circle bx-md"></i>
        </button>
        <button
          class="btn btn-secondary btn-sm active m-3 p-3"
          type="button"
          (click)="addAll()">
          <!-- Mover todos -->
          <i class="bx bx-chevrons-down bx-md"></i>
        </button>
        <button
          class="btn btn-secondary btn-sm active m-3 p-3"
          type="button"
          (click)="removeAll()">
          <!-- Quitar todos -->
          <i class="bx bx-chevrons-up bx-md"></i>
        </button>
        <button
          class="btn btn-secondary btn-sm active m-3 p-3"
          type="button"
          (click)="removeSelect()">
          <!-- Quitar uno -->
          <i class="bx bxs-up-arrow-circle bx-md"></i>
        </button>
      </div>
    </div>
    <div class="row pt-2">
      <div class="col-md-12 mt-4 mb-4">
        <ng2-smart-table
          [attr.class]="'table-bordered'"
          [settings]="settings2"
          [source]="goodsValid"></ng2-smart-table>
      </div>
    </div>
    <div class="row pt-2">
      <div class="col-md-12">
        <hr class="row" />
      </div>
      <div class="col-md-12">
        <h5 class="title">DOCUMENTOS</h5>
        <div class="row">
          <div class="col-md-10">
            <ng2-smart-table
              [attr.class]="'table-bordered'"
              [settings]="settings3"
              [source]="documents"></ng2-smart-table>
          </div>
          <div class="col-md-2">
            <p class="text-info h5">No&#46; bien</p>
            <p class="text-info h5">66345</p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div footer>
    <form
      [formGroup]="gestionDestinoForm"
      class="container-fluid form-material">
      <div *ngIf="!origin" class="row">
        <div class="col-sm-12 col-12 col-md-6 p-2">
          <form-field
            [control]="gestionDestinoForm.get('estatus')"
            label="Estatus">
            <input class="form-control" formControlName="estatus" />
          </form-field>
        </div>
      </div>
    </form>
    <div class="row w-100">
      <div class="col-sm-12 col-12 col-md-4 p-2 text-center">
        <button
          [disabled]="aprobar"
          class="btn btn-primary btn-sm active m-3 text-wrap"
          (click)="btnAprobar()"
          [routerLink]="rutaAprobado">
          Aprobar
        </button>
        <button
          *ngIf="!origin"
          class="btn btn-danger btn-sm active m-3 text-wrap"
          (click)="btnRechazar()">
          Rechazar
        </button>
      </div>
      <div *ngIf="!origin" class="col-sm-12 col-12 col-md-8 p-2 text-center">
        <button
          class="btn btn-info btn-sm active m-3 text-wrap"
          (click)="btnOficioSubstanciacion()">
          Oficio Substanciaci&oacute;n
        </button>
        <button
          class="btn btn-info btn-sm active m-3 text-wrap"
          (click)="btnOficioRelacionado()">
          Oficio Relacionado
        </button>
      </div>
      <div class="col-sm-12 col-12 col-md-12 p-2 text-center">
        <button
          class="btn btn-info btn-sm active m-3 text-wrap"
          (click)="btnDocumentos()">
          Documentos
        </button>
        <button
          class="btn btn-info btn-sm active m-3 text-wrap"
          (click)="btnParcializar()">
          Parcializar
        </button>
        <button
          class="btn btn-danger btn-sm active m-3 text-wrap"
          (click)="btnBorrarDictamen()">
          Borrar Dictamen
        </button>
        <button
          class="btn btn-primary btn-sm active m-3 text-wrap"
          (click)="btnImprimeOficio()">
          Imprime Oficio
        </button>
      </div>
    </div>
  </div>
</app-card>

<app-card [header]="true" *ngIf="listadoDocumentos == true">
  <div class="ch-content" header>
    <h5 class="title">Fecha de Documentos Asociados al Tr&aacute;mite</h5>
  </div>

  <div body>
    <div class="row w-100">
      <div class="col-sm-12 col-12 col-md-12 p-2">
        <ng2-smart-table
          [attr.class]="'table-bordered'"
          [settings]="settings"
          [source]="data4"
          (editConfirm)="onSaveConfirm($event)"></ng2-smart-table>
      </div>
      <div class="col-sm-12 col-12 col-md-12 text-right p-2">
        <div class="form-group">
          <button class="btn btn-danger btn-sm active m-3" (click)="btnSalir()">
            Cerrar Ventana
          </button>
        </div>
      </div>
    </div>
  </div>
</app-card>
