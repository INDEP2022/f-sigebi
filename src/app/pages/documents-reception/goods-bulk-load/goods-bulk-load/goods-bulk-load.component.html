<app-card [header]="true">
  <div class="ch-content" header>
    <h5 class="title">
      Proceso de actualizaci&oacute;n y carga masiva de bienes
    </h5>
  </div>

  <div body>
    <form [formGroup]="assetsForm" (submit)="save()" class="form-material">
      <div class="row pb-0 mb-0">
        <div class="col-md-12 d-flex">
          <label class="mr-5">Destino: </label>
          <form-radio
            class="mt-2"
            *ngFor="let _target of targets"
            [label]="_target.label">
            <input
              type="radio"
              [formControl]="target"
              [value]="_target.value"
              (change)="targetChange()" />
          </form-radio>
        </div>
      </div>
      <hr />
      <div class="row">
        <div class="col-md-7">
          <div class="row">
            <div class="col-md-7">
              <label>Opciones de Carga</label>
              <div>
                <form-radio
                  *ngFor="let action of actions"
                  [label]="action.title">
                  <input
                    type="radio"
                    formControlName="actionType"
                    [value]="action.value" />
                </form-radio>
              </div>
            </div>
            <div class="col-md-5">
              <div class="row">
                <form-check label="Son automoviles" for="cars">
                  <input id="cars" type="checkbox" formControlName="cars" />
                </form-check>
              </div>
              <div class="row">
                <form-check label="Son inmuebles" for="property">
                  <input
                    id="property"
                    type="checkbox"
                    formControlName="inmuebles" />
                </form-check>
              </div>
              <hr class="row" />
              <div class="row">
                <form-check label="Desalojo" for="desalojov">
                  <input
                    id="desalojov"
                    type="checkbox"
                    formControlName="desalojo"
                    (change)="desalojoChange()" />
                </form-check>
              </div>
            </div>
          </div>
          <div class="row pt-1">
            <form-field
              [control]="assetsForm.get('idCarga')"
              label="ID carga:"
              class="col-md-9">
              <input class="form-control" formControlName="idCarga" />
            </form-field>
          </div>
        </div>

        <div class="col-md-5">
          <div class="row">
            <div>
              <button
                class="btn btn-success btn-sm ml-2"
                type="button"
                (click)="file.click()">
                Abrir archivo Excel / CSV
              </button>
              <input
                type="file"
                name="file"
                #file
                class="d-none"
                accept=".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel"
                (change)="onFileChange($event)" />
            </div>
          </div>
          <div class="row pt-4">
            <div>
              <button
                type="submit"
                status="info"
                class="ml-2 mb-0 btn btn-primary btn-sm active">
                Ejecutar proceso
              </button>
            </div>
          </div>
        </div>
      </div>
    </form>

    <hr class="row" />

    <div class="row" style="max-height: 600px; overflow-y: scroll">
      <div class="col-md-12">
        <ng2-smart-table [source]="tableSource" [settings]="settings">
        </ng2-smart-table>
      </div>
    </div>
  </div>
</app-card>
