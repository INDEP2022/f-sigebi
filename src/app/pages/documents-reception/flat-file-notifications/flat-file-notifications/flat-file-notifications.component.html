<app-card [header]="true">
  <div class="ch-content" header>
    <h5 class="title">Archivo plano de notificaciones</h5>
  </div>

  <div body>
    <form [formGroup]="notificationsForm" class="form-material">
      <div class="row margin-input">
        <div class="col-md-6">
          <!--<app-delegation-shared
            [showSubdelegation]="false"
            [form]="notificationsForm"></app-delegation-shared>-->
          <form-field [control]="notificationsForm.get('delegation')">
            <ngx-select
              [form]="notificationsForm"
              control="delegation"
              (fetchItems)="getCatalogDelegation($event)"
              label="DelegaciÃ³n"
              [data]="delegations"
              bindLabel="noDelDesc"
              [searchOnInit]="true"
              value="id"
              (change)="changeDelegation($event)">
            </ngx-select>
          </form-field>
        </div>
        <div class="col-md-3">
          <form-field
            [control]="notificationsForm.get('startDate')"
            label="Fecha Desde">
            <input
              class="form-control"
              formControlName="startDate"
              bsDatepicker
              (bsValueChange)="validateDate($event)"
              [maxDate]="maxDate" />
          </form-field>
        </div>
        <div class="col-md-3">
          <form-field
            [control]="notificationsForm.get('endDate')"
            label="Fecha Hasta ">
            <input
              [minDate]="minDate"
              class="form-control"
              formControlName="endDate"
              bsDatepicker
              [maxDate]="maxDate" />
          </form-field>
        </div>
      </div>
      <!--<div class="row margin-input">
        
        <div
          class="invalid-feedback animated fadeInUp"
          style="display: block"
          *ngIf="endDate.touched">
          {{ getEndDateErrorMessage(endDate, startDate) }}
        </div>
      </div>-->
      <div class="row margin-input">
        <div class="col-md-6">
          <form-field
            [control]="notificationsForm.get('name')"
            label="Nombre del Archivo">
            <input class="form-control" formControlName="name" maxlength="20" />
          </form-field>
        </div>

        <div class="d-flex justify-content-center">
          <div class="m-3">
            <button
              type="submit"
              [disabled]="notificationsForm.invalid"
              class="btn btn-primary btn-sm active"
              (click)="Generar()">
              Guardar
              <i aria-hidden="true" class="fa fa-save"></i>
            </button>
          </div>
          <div class="m-3">
            <button
              class="btn btn-danger btn-sm active mr-3"
              (click)="cleanForm()">
              Limpiar <i class="fas fa-eraser"> </i>
            </button>
          </div>
        </div>
      </div>
    </form>
  </div>
</app-card>
