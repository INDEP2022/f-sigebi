<app-card [header]="true" [footer]="true">
  <div class="ch-content" header>
    <h5 class="title">Cambio de indicadores de destino de bienes</h5>
  </div>

  <div body>
    <div class="row">
      <div class="col-md-3 col-sm-12 col-xs-12">
        <form class="form-material" [formGroup]="form">
          <ng-custom-select-loading
            [form]="form"
            formControlName="labelGood"
            [multiple]="false"
            label="Indicador Destino"
            value="id"
            bindLabel="description"
            paramSearch="search"
            path="catalog/api/v1/label-good?filter.id=$not:6">
          </ng-custom-select-loading>
        </form>
      </div>
      <div class="col-md-3 col-sm-12 col-xs-12">
        <div class="d-flex justify-content-center">
          <div class="m-3">
            <button
              type="button"
              class="btn btn-danger btn-sm active"
              (click)="callRastreador()">
              Bienes del Rastreador
            </button>
          </div>
        </div>
      </div>
      <!-- <div class="col-md-3 col-sm-12 col-xs-12">
        <div class="d-flex justify-content-center">
          <div class="m-3">
            <button
              type="button"
              class="btn btn-primary btn-sm active"
              (click)="assignIndicator()">
              Asigna Indicador
            </button>
          </div>
        </div>
      </div> -->
      <div class="col-md-3 col-sm-12 col-xs-12">
        <div class="d-flex justify-content-center">
          <div class="m-3">
            <button
              type="button"
              class="btn btn-info btn-sm active"
              (click)="assignIndicator()"
              [disabled]="activeButton == false">
              Aplica indicador
            </button>
          </div>
        </div>
      </div>
    </div>
    <hr />

    <div class="row">
      <div class="d-flex justify-content-end my-3">
        <div>
          <app-columns-select [(settings)]="settings"></app-columns-select>
        </div>
      </div>
    </div>

    <div [class]="loading ? 'table-loading' : ''">
      <ng2-smart-table
        id="data-table"
        [attr.class]="'table-bordered table-responsive'"
        [settings]="settings"
        [source]="source"
        (edit)="openForm($event.data)"
        (userRowSelect)="onSelectedRows($event)"
        #table>
      </ng2-smart-table>

      <app-pagination
        [params]="params"
        [totalItems]="totalItems"></app-pagination>
    </div>
  </div>
</app-card>
