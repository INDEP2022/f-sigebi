<app-card [header]="true">
  <div class="ch-content" header>
    <h5 class="title">MOVIMIENTOS CUENTAS GENERALES</h5>
  </div>

  <div body>
    <div [formGroup]="formGood" class="form-material">
      <div class="row">
        <ng-container [formGroup]="formGood">
          <div class="col-md-3 d-flex form-group gap-4">
            <form-field [control]="formGood.get('id')" label="Número bien">
              <input
                type="number"
                class="form-control"
                placeholder="Numero bien"
                formControlName="id"
                min="1"
                pattern="^[0-9]+" />
            </form-field>
            <button
              [disabled]="loading"
              class="active align-items-center btn btn-primary btn-sm mb-4 w-auto"
              (click)="getGood()">
              Buscar
              <ng-container *ngIf="loading">
                <i class="fas fa-spinner fa-spin ml-2"></i>
              </ng-container>
            </button>
          </div>
          <div class="form-group col-md-4">
            <form-field
              [control]="formGood.get('description')"
              label="Descripción">
              <input
                type="text"
                placeholder="Descripción"
                formControlName="description"
                class="form-control" />
            </form-field>
          </div>
          <div class="form-group col-md-2">
            <form-field [control]="formGood.get('status')" label="Status">
              <input
                type="text"
                formControlName="status"
                placeholder="Status"
                class="form-control" />
            </form-field>
          </div>
          <div class="col-md-2">
            <form-field
              [control]="formGood.get('fileNumber')"
              label="Número de Expediente">
              <input
                type="number"
                placeholder="Numero de expediente"
                class="form-control"
                formControlName="fileNumber"
                min="1"
                pattern="^[0-9]+" />
            </form-field>
          </div>
          <div class="col-md-2">
            <form-field
              [control]="formGood.get('identifier')"
              label="Identificador">
              <input
                type="text"
                placeholder="Identificador"
                formControlName="identifier"
                class="form-control" />
            </form-field>
          </div>
          <div class="col-md-2">
            <form-field
              [control]="formGood.get('extDomProcess')"
              label="Proceso ext dom">
              <input
                type="text"
                placeholder="Procesos ext dom"
                formControlName="extDomProcess"
                class="form-control" />
            </form-field>
          </div>
        </ng-container>
        <div *ngIf="isContConvVisible" [formGroup]="formGood1" class="col-md-2">
          <form-field
            [control]="formGood1.get('contConv')"
            label="Número de conversiónes">
            <input
              type="number"
              class="form-control"
              placeholder="Numero de conversiones"
              formControlName="contConv"
              min="1"
              pattern="^[0-9]+" />
          </form-field>
        </div>
      </div>

      <h5 class="title" style="font-size: 15px; margin-bottom: 30px">
        DETALLES NUMERARIO
      </h5>

      <div>
        <div class="row mt-4">
          <ng-container [formGroup]="formGood1">
            <div class="col-md-2">
              <form-field
                [control]="formGood1.get('id')"
                label="Número Bien Numerario">
                <input
                  type="number"
                  placeholder="Numero bien numerario"
                  class="form-control"
                  formControlName="id"
                  min="1"
                  pattern="^[0-9]+" />
              </form-field>
            </div>
            <div class="form-group col-md-4">
              <form-field
                [control]="formGood1.get('status')"
                label="Status bien">
                <input
                  type="text"
                  placeholder="Status bien"
                  formControlName="status"
                  class="form-control" />
              </form-field>
            </div>
          </ng-container>
          <ng-container [formGroup]="formBlkControl">
            <div class="form-group col-md-2">
              <form-field
                [control]="formBlkControl.get('dateChange')"
                label="Fecha de cambio">
                <input
                  formControlName="dateChange"
                  placeholder="Fecha de Cambio"
                  class="form-control"
                  bsDatepicker />
              </form-field>
            </div>
            <div class="form-group col-12">
              <form-field
                [control]="formBlkControl.get('motive')"
                label="Motivo">
                <input
                  formControlName="motive"
                  placeholder="Motivo"
                  class="form-control" />
              </form-field>
            </div>
          </ng-container>
        </div>

        <ng-container [formGroup]="formGood1">
          <div class="row mt-4">
            <div class="col-md-5"></div>
            <div class="form-group col-md-3 d-flex justify-content-end">
              <form-field [control]="formGood1.get('val2')" label="Precio">
                <input
                  type="number"
                  class="form-control"
                  placeholder="Precio"
                  formControlName="val2"
                  min="1"
                  pattern="^[0-9]+" />
              </form-field>
            </div>
          </div>
          <div class="row">
            <div class="col-md-5"></div>
            <div class="form-group col-md-3 d-flex justify-content-end">
              <form-field [control]="formGood1.get('val13')" label="Gasto">
                <input
                  type="number"
                  class="form-control"
                  placeholder="Gasto"
                  formControlName="val13"
                  min="1"
                  pattern="^[0-9]+" />
              </form-field>
            </div>
          </div>
          <div class="row">
            <div class="col-md-5"></div>
            <div class="form-group col-md-3 d-flex justify-content-end">
              <form-field [control]="formGood1.get('val10')" label="Total IVA">
                <input
                  type="number"
                  placeholder="Total IVA"
                  class="form-control"
                  formControlName="val10"
                  min="1"
                  pattern="^[0-9]+" />
              </form-field>
            </div>
          </div>
          <div class="row">
            <div class="col-md-5"></div>
            <div
              *ngIf="isVisibleVal15"
              class="form-group col-md-3 d-flex justify-content-end">
              <form-field [control]="formGood1.get('val15')" label="LIF">
                <input
                  type="number"
                  placeholder="LIF"
                  class="form-control"
                  formControlName="val15"
                  min="1"
                  pattern="^[0-9]+" />
              </form-field>
            </div>
          </div>
        </ng-container>
        <div [formGroup]="formBlkControl" class="row">
          <div class="col-md-5"></div>
          <div class="form-group col-md-3 d-flex justify-content-end">
            <form-field [control]="formBlkControl.get('tTotal')" label="Total">
              <input
                type="number"
                placeholder="Total"
                class="form-control"
                formControlName="tTotal"
                min="1"
                pattern="^[0-9]+" />
            </form-field>
          </div>
        </div>
      </div>
    </div>
    <div footer>
      <div class="d-flex justify-content-center">
        <div class="d-flex gap-4 justify-content-center m-3">
          <button
            (click)="onClickApplyLif()"
            class="btn btn-primary active w-auto"
            [disabled]="
              !isEnableBtnLif || !formGood.value.id || !formGood1.value.id
            ">
            Aplica Lif
          </button>
          <button
            class="btn btn-primary active w-auto"
            (click)="onClickApplyRvlif()"
            [disabled]="
              !isEnableBtnRvlif || !formGood.value.id || !formGood1.value.id
            ">
            Revertir Lif
          </button>
          <!-- <confirm-button
            text="IMPRIMIR REPORTE"
            [disabled]="form.invalid"
            [loading]="loading"
            (confirm)="send()">
          </confirm-button> -->
        </div>
      </div>
    </div>
  </div>
</app-card>
