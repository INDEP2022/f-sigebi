<app-card [header]="true" [footer]="true">
  <div class="ch-content" header>
    <h5 class="title">GESTIÃ“N DE BIENES GABINETE SOCIAL</h5>
  </div>
  <div body>
    <form-loader *ngIf="pageLoading" [greater]="true"></form-loader>
    <form class="form-material" [formGroup]="form">
      <div class="row">
        <!--Options-->
        <div class="col-md-9 mb-3 mt-3">
          <form-field [control]="form.get('good')" label="No. de Bien">
            <input
              class="form-control mb-3 mt-3"
              type="string"
              maxlength="13" />
          </form-field>
          <button
            [disabled]="loading"
            class="btn btn-primary btn-sm active"
            type="button"
            (click)="searchGood()">
            Buscar <i class="bx bx-search-alt bx-sm float-icon"></i>
          </button>

          <button
            type="button"
            class="btn btn-primary btn-sm active mr-3"
            (click)="goToRastreador()">
            Cargar Rastreador
            <i aria-hidden="true" class="fa fa-upload"></i>
          </button>
          <button
            class="btn btn-success btn-sm active"
            [disabled]="loading"
            (click)="file.click()">
            <div class="upload-button">
              Cargar Bienes por Archivo CSV
              <!-- <i class="bi bi-filetype-txt-fill"></i> -->
              <i class="bx bxs-file-csv"></i>
            </div>
          </button>
          <input
            type="file"
            name="file"
            #file
            class="d-none"
            accept=".csv"
            (change)="onFileChange($event)" />
        </div>
        <div class="clearButton col-md-3 mb-5">
          <button
            class="btn btn-danger btn-sm active"
            type="button"
            (click)="clear()">
            Limpiar
            <i class="fa fa-eraser"></i>
          </button>
        </div>
        <!-- <div class="col-lg-6 col-md-6 col-sm-12 col-12 mt-3 align-self-center">
          <div class="col-12 mb-3 mt-3 p-0">
            <form-field
              [control]="form.get('file')"
              label="Cargar Bienes por Archivo TXT">
              <input
                [disabled]="option === null"
                class="form-control mb-3 mt-3"
                type="file"
                id="formFile"
                accept=".txt"
                formControlName="file"
                (change)="onFileChange($event)" />
            </form-field>
          </div>
        </div> -->
      </div>
      <div class="row">
        <div class="col-md-4 titleTabs">
          <label for="" class="mb-1">Proceso Gabinete Social</label>
        </div>
        <div class="col-md-4">
          <div
            *ngIf="selectedGoodstxt && selectedGoodstxt.length > 0"
            style="font-weight: 500">
            Cargados {{ totalItems }} de {{ selectedGoodstxt.length }}
          </div>
        </div>
        <div class="col-md-4" style="text-align: right">
          <button
            class="btn btn-primary btn-sm active"
            type="button"
            [disabled]="
              !selectedGoodstxt ||
              selectedGoodstxt.length === totalItems ||
              notLoadedGoods.length === 0
            "
            (click)="showNotLoads()">
            No Cargados
            <i class="fa fa-info-circle"></i>
          </button>
        </div>
      </div>
      <div class="row">
        <div class="md-tabs">
          <tabset #staticTabs>
            <tab heading="Sin Asignar">
              <app-goods-management-social-cabinet-tab
                [identifier]="identifier"
                [disabledProcess]="disabledProcess"
                [process]="0"></app-goods-management-social-cabinet-tab>
            </tab>
            <tab heading="Susceptible">
              <app-goods-management-social-cabinet-tab
                [identifier]="identifier"
                [disabledProcess]="disabledProcess"
                [process]="
                  typeGabinetProcess.Susceptible
                "></app-goods-management-social-cabinet-tab>
            </tab>
            <tab heading="Asignado">
              <app-goods-management-social-cabinet-tab
                [identifier]="identifier"
                [disabledProcess]="disabledProcess"
                [process]="
                  typeGabinetProcess.Asignado
                "></app-goods-management-social-cabinet-tab>
            </tab>
            <tab heading="Entregado">
              <app-goods-management-social-cabinet-tab
                [identifier]="identifier"
                [disabledProcess]="disabledProcess"
                [process]="
                  typeGabinetProcess.Entregado
                "></app-goods-management-social-cabinet-tab>
            </tab>
            <tab heading="Liberado">
              <app-goods-management-social-cabinet-tab
                [identifier]="identifier"
                [disabledProcess]="disabledProcess"
                [process]="
                  typeGabinetProcess.Liberado
                "></app-goods-management-social-cabinet-tab>
            </tab>
          </tabset>
        </div>
      </div>
    </form>
  </div>
</app-card>
