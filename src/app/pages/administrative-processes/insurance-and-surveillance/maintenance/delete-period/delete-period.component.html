<div body>
  <form
    [formGroup]="form"
    (ngSubmit)="onClickDeletePeriod()"
    class="form-material">
    <div class="row mt-4">
      <div class="col-md-4">
        <form-field [control]="form.get('year')" label="Año">
          <ng-select
            (change)="obtenerPeriodo($event)"
            class="form-control"
            formControlName="year"
            [items]="years"
            [ngModel]="currentYear"></ng-select>
          <!-- <input type="number" class="form-control" formControlName="year" min="1" [max-length]="4" pattern="^[0-9]+" /> -->
        </form-field>
      </div>
      <div class="col-md-4">
        <form-field [control]="form.get('delegation')">
          <ngx-select
            [form]="form"
            [searchOnInit]="true"
            [data]="delegations"
            (change)="changeDelegations($event)"
            bindLabel="numberAndDescrip"
            label="Delegación"
            value="delegationNumber"
            [showTooltip]="true"
            (fetchItems)="getDelegation($event)"
            [control]="'delegation'"></ngx-select>
          <!-- <ng-custom-select class="form-control" path="catalog/api/v1/delegation" formControlName="delegation"
                  prefixSearch="$ilike" paramSearch="filter.description">
                  <ng-template let-item>
                    {{ item.description }}
                  </ng-template>
                </ng-custom-select> -->
        </form-field>
      </div>
      <div class="col-md-4">
        <form-field [control]="form.get('process')">
          <ngx-select
            (change)="obtenerPeriodoProcess($event)"
            [data]="procesess"
            [form]="form"
            value="value"
            bindLabel="label"
            label="Proceso"
            [control]="'process'">
          </ngx-select>
        </form-field>
      </div>
    </div>
    <div class="row">
      <div class="col-md-4 mt-3">
        <form-field [control]="form.get('period')">
          <ngx-select
            (change)="addDate($event)"
            [readonly]="!disabledPeriod"
            [form]="form"
            [data]="periods"
            bindLabel="cvePeriod"
            label="Periodo"
            value="cvePeriod"
            (fetchItems)="getPeriods($event)"
            control="period"></ngx-select>
          <!-- <input type="text" class="form-control" formControlName="period" maxlength="6" minlength="1" /> -->
        </form-field>
      </div>
    </div>

    <div class="row mt-4 text-center">
      <div class="">
        <button
          (click)="cleanForm()"
          type="button"
          class="btn btn-danger btn-sm active mr-3">
          Limpiar
          <i class="fa fa-eraser" aria-hidden="true"></i>
        </button>
        <button
          [disabled]="!form.valid || !delegationDefault"
          type="submit"
          class="btn btn-red btn-sm active">
          Eliminar <i class="fa fa-trash" aria-hidden="true"></i>
        </button>
      </div>
    </div>
  </form>
</div>
