<div body>
  <form [formGroup]="form" class="form-material">
    <div class="row mt-4">
      <div class="col-md-4">
        <form-field [control]="form.get('year')" label="Año">
          <ng-select
            (change)="obtenerPeriodo($event)"
            class="form-control"
            formControlName="year"
            [items]="years"
            [ngModel]="currentYear"></ng-select>
          <!-- <input type="number" class="form-control" formControlName="year" min="1" [max-length]="4" /> -->
        </form-field>
      </div>
      <div class="col-md-4">
        <form-field [control]="form.get('delegation')">
          <ngx-select
            [form]="form"
            [searchOnInit]="true"
            [data]="delegations"
            (change)="changeDelegations($event)"
            bindLabel="numberAndDescrip"
            label="Delegación"
            value="delegationNumber"
            [showTooltip]="true"
            (fetchItems)="getDelegation($event)"
            control="delegation"></ngx-select>
          <!-- <ng-custom-select class="form-control" path="catalog/api/v1/delegation" formControlName="delegation"
            prefixSearch="$ilike" paramSearch="filter.description">
            <ng-template let-item>
              {{ item.description }}
            </ng-template>
          </ng-custom-select> -->
        </form-field>
      </div>
      <div class="col-md-4">
        <form-field [control]="form.get('process')">
          <ngx-select
            (change)="obtenerPeriodoProcess($event)"
            [data]="procesess"
            [form]="form"
            value="value"
            bindLabel="label"
            label="Proceso"
            [control]="'process'">
          </ngx-select>
        </form-field>
      </div>
      <div class="col-md-4 mt-3">
        <form-field [control]="form.get('period')">
          <ngx-select
            (change)="obtenerNumero($event)"
            [readonly]="!disabledPeriod"
            [form]="form"
            [data]="periods"
            bindLabel="cvePeriod"
            label="Periodo"
            value="cvePeriod"
            (fetchItems)="getPeriods($event)"
            control="period"></ngx-select>
          <!-- <input type="text" class="form-control" formControlName="period" maxlength="6" minlength="1" /> -->
        </form-field>
      </div>
      <div class="col-md-4 mt-3">
        <form-field [control]="form.get('random')">
          <ngx-select
            (change)="seleccionarNumero($event)"
            [readonly]="!disabledRandom"
            [form]="form"
            [data]="randoms"
            bindLabel="randomId"
            label="Aleatorio"
            value="randomId"
            (fetchItems)="getVigSupervisionDet_($event)"
            control="random"></ngx-select>
          <!-- <input type="number" class="form-control" formControlName="random" min="1" pattern="^[0-9]+" /> -->
        </form-field>
      </div>
      <div class="col-md-4 mt-3">
        <form-field [control]="form.get('goodNumber')" label="Bien">
          <input
            readonly
            type="text"
            class="form-control"
            formControlName="goodNumber" />
        </form-field>
        <!-- <app-goods-shared goodField="goodNumber" [form]="form" label="Bien">
        </app-goods-shared> -->
      </div>
      <div class="col-md-6 mt-3">
        <form-field [control]="form.get('description')" label="Descripción">
          <textarea
            rows="3"
            cols="3"
            readonly
            type="text"
            class="form-control"
            formControlName="description"></textarea>
        </form-field>
      </div>

      <div class="col-md-6 mt-3">
        <!-- <form-field
              [control]="form.get('transference')"
              label="Transferente">
              <input
                type="text"
                class="form-control"
                formControlName="transference" />
            </form-field> -->
        <form-field
          [control]="form.get('transference')"
          label="Transferente"
          class="form-group">
          <!-- <input readonly type="text" class="form-control" formControlName="transference" /> -->
          <textarea
            rows="3"
            cols="3"
            readonly
            type="text"
            class="form-control"
            formControlName="transference"></textarea>
        </form-field>
      </div>
    </div>
    <div class="row justify-content-end text-center">
      <div>
        <!-- <div class=""> -->
        <button
          (click)="cleanForm()"
          type="button"
          class="btn btn-danger btn-sm active mr-3">
          Limpiar
          <i class="fa fa-eraser" aria-hidden="true"></i>
        </button>
        <button
          [disabled]="!form.valid || !delegationDefault"
          (click)="onClickChangeGoodRandom()"
          type="button"
          class="btn btn-primary btn-sm active mr-3">
          Sustituir <i class="fas fa-sync-alt"> </i>
        </button>
        <!-- </div> -->
        <button
          (click)="listBienes()"
          tooltip="Buscar Bienes"
          containerClass="tooltip-style"
          class="btn btn-primary btn-sm active">
          Buscar <i class="bx bx-search-alt bx-sm float-icon"></i>
        </button>
      </div>
    </div>
  </form>
</div>
