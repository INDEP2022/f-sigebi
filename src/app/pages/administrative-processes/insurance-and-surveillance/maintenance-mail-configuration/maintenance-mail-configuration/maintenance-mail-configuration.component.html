<app-card [header]="true">
  <div class="ch-content" header>
    <h5 class="title">CONFIGURACIÓN DE CORREOS DE MANTENIMIENTO</h5>
  </div>

  <div body>
    <div class="row mt-4">
      <div class="ch-content">
        <h5 class="title">CORREO DE RESPONSABLES DE ENVÍO</h5>
        <div class="col-md-5 buttons">
          <div>
            <button
              class="btn btn-info btn-sm active ml-2 mr-2"
              (click)="openForm(null, false)">
              Nuevo <i class="bx bx-plus bx-sm float-icon"></i>
            </button>
          </div>
        </div>
      </div>
      <div class="row pt-4 table-container">
        <div class="col-md-12 table-responsive">
          <div [class]="loading ? 'table-loading' : ''">
            <ng2-smart-table
              [attr.class]="'table-bordered'"
              [settings]="settings"
              [source]="data"
              (edit)="openForm($event.data, true)"
              (delete)="delete($event.data)">
            </ng2-smart-table>
          </div>
        </div>
      </div>
      <app-pagination
        [params]="params"
        [totalItems]="totalItems"></app-pagination>
    </div>

    <div class="ch-content">
      <h5 class="title">DATOS GENERALES DEL CORREO</h5>
    </div>
    <div class="d-grid gap-2 d-md-flex justify-content-md-end">
      <button class="btn btn-primary btn-sm active m-3" (click)="showData()">
        Consultar
        <i class="bx bx-search-alt bx-sm float-icon"></i>
      </button>
    </div>

    <form class="form-material" [formGroup]="formCorreo">
      <div class="row mt-4">
        <div class="col-md-3">
          <form-field [control]="formCorreo.get('id')" label="Id">
            <input
              type="number"
              class="form-control"
              formControlName="id"
              min="1"
              pattern="^[0-9]+"
              readonly />
          </form-field>
        </div>
        <div class="col-md-9">
          <form-field [control]="formCorreo.get('subjectEmail')" label="Asunto">
            <textarea class="form-control" formControlName="subjectEmail">
            </textarea>
          </form-field>
        </div>
      </div>
      <div class="row mt-4">
        <div class="col-md-12 mt-3">
          <form-field
            [control]="formCorreo.get('bodyEmail')"
            label="Cuerpo del Correo">
            <textarea
              class="form-control"
              formControlName="bodyEmail"></textarea>
          </form-field>
        </div>
      </div>
      <div class="row mt-4">
        <div class="col-md-4">
          <form-field [control]="formCorreo.get('status')" label="Estatus">
            <select class="form-control" formControlName="status">
              <option [value]="1">Activo</option>
              <option [value]="0">Inactivo</option>
            </select>
          </form-field>
        </div>
      </div>
    </form>
    <div footer>
      <div class="d-flex justify-content-center">
        <div class="m-3">
          <button
            type="button"
            class="btn btn-primary btn-sm active mr-3"
            [disabled]="false"
            (click)="update()"
            (click)="resetForm()"
            [disabled]="!formCorreo.valid">
            Actualizar <i class="fas fa-sync-alt"> </i>
          </button>
        </div>
      </div>
    </div>
  </div>
</app-card>
