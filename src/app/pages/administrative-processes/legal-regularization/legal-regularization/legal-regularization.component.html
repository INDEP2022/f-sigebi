<app-card [header]="true">
  <div class="ch-content" header>
    <h5 class="title">Regularización Jurídica</h5>
  </div>
  <div body>
    <form [formGroup]="form" class="form-material">
      <div class="row">
        <div class="col-md-3 col-sm-12 col-xs-12">
          <form-field label="No. Bien" [control]="form.get('numberGood')">
            <input
              type="number"
              class="form-control"
              formControlName="numberGood"
              [max-length]="10" />
          </form-field>
        </div>
        <div class="col-md-9">
          <button
            type="button"
            class="btn btn-primary active btn-sm mr-3"
            (click)="loadGood()">
            Buscar
            <i class="bx bx-search-alt bx-sm float-icon"></i>
          </button>

          <button class="btn btn-danger btn-sm active mr-3" (click)="clean()">
            Limpiar <i class="fas fa-eraser"></i>
          </button>
        </div>
      </div>
      <div class="row mt-3">
        <div class="col-md-3 col-sm-12 col-xs-12">
          <form-field label="Estatus" [control]="form.get('status')">
            <input
              type="text"
              class="form-control"
              formControlName="status"
              [disabled]="true" />
          </form-field>
        </div>
        <div class="col-md-9 col-sm-12 col-xs-12">
          <form-field label="Descripción" [control]="form.get('description')">
            <input
              type="text"
              class="form-control"
              formControlName="description"
              [disabled]="true" />
          </form-field>
        </div>
      </div>
      <div class="row mt-3">
        <div class="col-md-9 col-sm-12 col-xs-12">
          <form-field label="Justificación" [control]="form.get('justifier')">
            <textarea
              type="text"
              class="form-control"
              formControlName="justifier"
              maxlength="1000"></textarea>
          </form-field>
        </div>
        <div class="col-md-3 col-sm-12 col-xs-12">
          <button
            [ngClass]="{ loading: loadingBtn }"
            [disabled]="!form.valid || loadingBtn"
            class="btn btn-primary btn-sm active mr-3"
            (click)="updateStatus()">
            Actualizar <i *ngIf="!loadingBtn" class="fas fa-sync-alt"> </i>
          </button>
          <!-- <button
            [disabled]="form.invalid"
            type="button"
            class="btn btn-success btn-sm active mr-3"
            (click)="updateStatus()">
            Actualizar
          </button> -->
        </div>
      </div>
    </form>
    <div class="mt-5" *ngIf="viewFol">
      <!-- <app-scan-file-shared 
        [form]="form" 
        [formControlName]="folioEscaneo"
        [cveScreen]="cveScreen"
        [noExpedient]="numberFile" 
        [replicateFolioView]="false"
        [reportPrint]="nameReport"></app-scan-file-shared> -->
      <app-scanning-foil
        #hijoRef
        [good]="good"
        [numberFoli]="numberFoli"
        [cveScreen]="cveScreen"
        [reportPrint]="nameReport"
        [refresh]="refresh"
        (documentEmmit)="changeFoli($event)"
        (change)="savedLocal($event)">
      </app-scanning-foil>
    </div>
  </div>
</app-card>
