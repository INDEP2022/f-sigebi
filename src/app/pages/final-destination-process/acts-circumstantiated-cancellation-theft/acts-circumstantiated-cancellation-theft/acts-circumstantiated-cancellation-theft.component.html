<app-card [header]="true" [footer]="true">
  <div class="ch-content" header>
    <h5 class="title">
      &Aacute;ctas Circunstanciadas de Cancelaci&oacute;n de Entrega por Robo
    </h5>
  </div>

  <div body>
    <!-- <div class="row justify-content-start">
      <div class="col-12 col-sm-12 col-md-6">
        <search-bar-simple (eventEmit)="search($event)" id="find" [placeholder]="'N&uacute;mero de Expediente'">
        </search-bar-simple>
        <div class="row" *ngIf="!validateEx">
          <span class="text-center text-danger d-block">El Expediente no existe</span>
        </div>
      </div>
    </div> -->
    <div class="row m-3 flex-row justify-content-center">
      <div class="col-md-4">
        <div class="d-flex align-items-center">
          <label for="" class="col-form-label"
            >Fecha de Elaboración:&nbsp;&nbsp;</label
          >
          <div>{{ time | date : 'hh:mm' }}</div>
          <div>{{ dateElaboration || '00/00/0000' }}</div>
        </div>
      </div>
      <div class="col-md-8 text-end">
        <button
          type="button"
          class="btn btn-primary btn-sm active"
          (click)="searchExpedient()">
          <i class="bx bx-list-plus bx-sm float-icon"></i>
        </button>
        <!-- <button
          type="button"
          class="btn btn-primary active btn-sm mr-3"
          (click)="searchExpedient()">
          Buscar Expediente
          <i class="bx bx-search bx-sm float-icon"></i>
        </button>
        <button
          (click)="cleanForm()"
          type="button"
          class="btn btn-danger active btn-sm mr-3">
          Limpiar
          <i class="fa fa-eraser" aria-hidden="true"></i>
        </button> -->
      </div>
    </div>
    <div
      class="col-sm-12 col-12 col-md-12 col-lg-12 p-2 mb-5 p-5"
      *ngIf="loadingExpedient">
      <div class="d-flex justify-content-center">
        <div class="d-flex justify-content-center">
          <div class="loader"></div>
          <h6 class="loader-msg pt-3">Cargando... por favor espere...</h6>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        <div class="row">
          <div class="col-md-12">
            <div class="card">
              <div class="card-body mt-4 mb-4">
                <div class="form-group row p-4">
                  <div class="col-md-3">
                    <label for="" class="col-form-label">No. Expediente:</label>
                    <div>{{ fileNumber || '' }}</div>
                  </div>
                  <div class="col-md-3">
                    <label for="" class="col-form-label">Causa Penal:</label>
                    <div>{{ causa || '' }}</div>
                  </div>
                  <div class="col-md-3">
                    <label for="" class="col-form-label"
                      >Averiguación Previa:</label
                    >
                    <div>{{ aprevia || '' }}</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row m-3">
      <div class="col-4"></div>
      <div class="col-md-8 text-end">
        <button
          [disabled]="!actasDefault"
          (click)="actualizarActa()"
          type="button"
          class="btn btn-primary active btn-sm mr-3">
          Guardar
          <i aria-hidden="true" class="fa fa-save"></i>
        </button>
        <button
          (click)="agregarActa()"
          type="button"
          class="btn btn-info active btn-sm mr-3">
          Nueva Acta
          <i class="bx bx-plus bx-sm float-icon"></i>
        </button>
        <button
          type="button"
          class="btn btn-primary active btn-sm mr-3"
          (click)="searchActas()">
          Estatus Actas
          <i class="bx bx-search bx-sm float-icon"></i>
        </button>
        <button
          (click)="cleanActa()"
          type="button"
          class="btn btn-danger active btn-sm mr-3">
          Limpiar
          <i class="fa fa-eraser" aria-hidden="true"></i>
        </button>
        <!-- <button
                          [disabled]="!actasDefault"
                          type="button"
                          class="btn btn-primary btn-sm active mr-2"
                          (click)="savActa()">
                          Guardar
                          <i aria-hidden="true" class="fa fa-save"></i>
                        </button> -->
      </div>
    </div>
    <form [formGroup]="actaRecepttionForm" class="form-material">
      <div class="row">
        <div class="col-md-12">
          <div class="row">
            <div class="col-md-12">
              <div class="card">
                <div class="card-body">
                  <div class="col-md-4 mt-3">
                    <div>
                      <form-field
                        [control]="actaRecepttionForm.get('type')"
                        label="Acta">
                        <input
                          #inputValue
                          type="text"
                          class="form-control"
                          formControlName="type"
                          readonly />
                      </form-field>
                    </div>
                  </div>

                  <div class="col-md-4 mt-3">
                    <div>
                      <form-field
                        [control]="actaRecepttionForm.get('claveTrans')"
                        label="Autoridad">
                        <input
                          #inputValue
                          type="text"
                          class="form-control"
                          formControlName="claveTrans"
                          class="form-control"
                          readonly />
                      </form-field>
                    </div>
                  </div>
                  <div class="col-md-4 mt-3">
                    <div>
                      <form-field
                        [control]="actaRecepttionForm.get('respConv')"
                        label="Recibe">
                        <input
                          #inputValue
                          type="text"
                          class="form-control"
                          formControlName="respConv"
                          class="form-control"
                          readonly />
                      </form-field>
                    </div>
                  </div>
                  <div class="col-md-4 mt-3">
                    <div>
                      <form-field
                        [control]="actaRecepttionForm.get('testigoOIC')"
                        label="Testigo de la Contralor&iacute;a">
                        <input
                          #inputValue
                          type="text"
                          class="form-control"
                          formControlName="testigoOIC"
                          readonly />
                      </form-field>
                    </div>
                  </div>
                  <div class="col-md-4 mt-3">
                    <div>
                      <form-field
                        [control]="actaRecepttionForm.get('testigoTwo')"
                        label="Testigo">
                        <input
                          #inputValue
                          type="text"
                          class="form-control"
                          formControlName="testigoTwo"
                          readonly />
                      </form-field>
                    </div>
                  </div>
                  <div class="col-md-4 mt-3">
                    <div>
                      <form-field
                        [control]="actaRecepttionForm.get('testigoTree')"
                        label="Admin.">
                        <input
                          readonly
                          #inputValue
                          type="text"
                          class="form-control"
                          formControlName="testigoTree"
                          [disabled]="!validPermisos" />
                      </form-field>
                    </div>
                  </div>
                  <div class="col-md-4 mt-3">
                    <div>
                      <form-field
                        [control]="actaRecepttionForm.get('consec')"
                        label="Folio">
                        <input
                          #inputValue
                          type="text"
                          class="form-control"
                          formControlName="consec"
                          class="form-control"
                          readonly />
                      </form-field>
                    </div>
                  </div>
                  <div class="col-md-4 mt-3">
                    <div>
                      <form-field
                        [control]="actaRecepttionForm.get('anio')"
                        label="Año">
                        <input
                          #inputValue
                          type="text"
                          class="form-control"
                          formControlName="anio"
                          class="form-control"
                          readonly />
                      </form-field>
                    </div>
                  </div>
                  <div class="col-md-4 mt-3">
                    <div>
                      <form-field
                        [control]="actaRecepttionForm.get('mes')"
                        label="Mes">
                        <input
                          #inputValue
                          type="text"
                          class="form-control"
                          formControlName="mes"
                          class="form-control"
                          readonly />
                      </form-field>
                      <!-- <form-field [control]="actaRecepttionForm.get('mes')" label="Mes">
                        <input type="text" class="form-control" [bsConfig]="bsConfigFromMonth" #dp="bsDatepicker"
                          bsDatepicker [(bsValue)]="bsValueFromMonth" formControlName="mes" />
                      </form-field> -->
                    </div>
                  </div>
                  <div class="col-md-12 mt-2">
                    <div>
                      <form-field
                        [control]="actaRecepttionForm.get('cveActa')"
                        label="Acta">
                        <input
                          #inputValue
                          type="text"
                          class="form-control"
                          formControlName="cveActa"
                          readonly />
                      </form-field>
                    </div>
                  </div>
                  <div class="card-body">
                    <form-field
                      class="col-md-12 col-sm-12 col-12 p-2"
                      [control]="actaRecepttionForm.get('direccion')"
                      label="Dirección">
                      <textarea
                        maxlength="500"
                        class="form-control text-justify"
                        formControlName="direccion"
                        rows="5"
                        readonly></textarea>
                    </form-field>
                  </div>
                  <div class="card-body">
                    <form-field
                      class="col-md-12 col-sm-12 col-12 p-2"
                      [control]="actaRecepttionForm.get('observaciones')"
                      label="Observaciones">
                      <textarea
                        maxlength="500"
                        class="form-control text-justify"
                        formControlName="observaciones"
                        rows="5"
                        readonly></textarea>
                    </form-field>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </form>

    <app-divider></app-divider>
    <div class="row"></div>
    <div class="row p-3">
      <div class="col-md-3"></div>
      <form [formGroup]="actaGoodForm" class="form-material">
        <div class="row mt-12 d-flex justify-content-center">
          <div class="col-md-12 justify-content-center">
            <h6>BIENES RELACIONADOS CON EL EXPEDIENTE</h6>

            <div class="row">
              <form-loader *ngIf="loading"></form-loader>
              <div class="col-md-12">
                <!-- <div [class]="loading ? 'table-loading' : ''"> -->
                <ng-scrollbar
                  [track]="'all'"
                  [ngStyle]="{
                    height: loading ? '0px' : '400px'
                  }">
                  <ng2-smart-table
                    [attr.class]="'table-bordered table-responsive'"
                    [settings]="settings"
                    [source]="dataTableGood"
                    (userRowSelect)="selectData($event)">
                  </ng2-smart-table>
                </ng-scrollbar>
                <!-- </div> -->
              </div>

              <app-pagination
                [params]="paramsList"
                [totalItems]="totalItems"></app-pagination>
              <div class="col-6 align-items-center">
                <div class="row">
                  <div class="col-6">
                    <span class="text-success mr-5"
                      ><i class="fa fa-square"></i> Disponibles</span
                    >
                  </div>
                  <div class="col-6">
                    <span class="text-black"
                      ><i class="fa fa-square"></i> No disponibles</span
                    >
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="row pt-2">
            <div class="col-md-12 text-center mt-4 mb-4">
              <button
                tooltip="Agregar Bien al Acta"
                containerClass="tooltip-style"
                class="btn btn-secondary btn-sm active m-3 p-1 pointer"
                type="button"
                (click)="addSelect()">
                <!-- Mover uno -->
                <i class="bx bx-chevron-down bx-md"></i>
              </button>
              <button
                tooltip="Agregar Bienes al Acta"
                containerClass="tooltip-style"
                class="btn btn-secondary btn-sm active m-3 p-1 pointer"
                type="button"
                (click)="addAll()">
                <!-- Mover todos -->
                <i class="bx bx-chevrons-down bx-md"></i>
              </button>
              <!-- <button class="btn btn-secondary btn-sm active m-3 p-1 pointer" type="button"
                                    (click)="removeAll()">
                                    
                                    <i class="bx bx-chevrons-up bx-md"></i>
                                  </button> -->
              <button
                tooltip="Quitar Bien del Acta"
                containerClass="tooltip-style"
                class="btn btn-secondary btn-sm active m-3 p-1 pointer"
                type="button"
                (click)="removeSelect()">
                <!-- Quitar uno -->
                <i class="bx bx-chevron-up bx-md"></i>
              </button>
            </div>
          </div>
          <!-- <div class="d-flex justify-content-center">
                                <div class="text-center">
                                  <button (click)="addSelect()" class="btn btn-success btn-sm active" type="button">
                                    Agregar <i class="fa fa-plus float-icon"></i>
                                  </button>
                                  <button (click)="create()" class="btn btn-success btn-sm active" type="button">
                                    Agregar <i class="fa fa-plus float-icon"></i>
                                  </button>
                                  <br />
                                  <button (click)="deleteGoodActa($event)" [disabled]="isAllDisabled"
                                                            class="btn btn-secondary btn-sm active bg-danger m-3 p-3" type="button">
                                                            Mover uno
                                                            <i class="bx bxs-left-arrow-circle bx-md"></i>
                                                          </button>
                                </div>
                              </div> -->
          <div class="col-md-12">
            <h6>BIENES RELACIONADOS CON EL ACTA</h6>
            <div class="row">
              <form-loader *ngIf="loading2"></form-loader>
              <div class="col-md-12">
                <!-- <div [class]="loading ? 'table-loading' : ''"> -->
                <ng-scrollbar
                  [track]="'all'"
                  [ngStyle]="{
                    height: loading2 ? '0px' : '400px'
                  }">
                  <ng2-smart-table
                    class="table-responsive"
                    [attr.class]="'table-bordered table-responsive'"
                    [settings]="settings2"
                    (userRowSelect)="rowsSelected($event)"
                    [source]="dataRecepcionGood">
                  </ng2-smart-table>
                </ng-scrollbar>
                <!-- </div> -->
              </div>
              <app-pagination
                [params]="paramsList2"
                [totalItems]="totalItems2"></app-pagination>
            </div>
            <!-- <ng-scrollbar track="horizontal" [autoHeightDisabled]="false">
                                  <div [class]="loading2 ? 'table-loading' : ''" class="overflow-auto">
                                    <ng2-smart-table [attr.class]="'table-bordered my-table'" [settings]="settings2"
                                      (userRowSelect)="rowsSelected($event)" [source]="dataRecepcion">
                                    </ng2-smart-table>
                                    <app-pagination *ngIf="ocultarPaginado" [params]="paramsList2"
                                      [totalItems]="totalItems2"></app-pagination>
                                  </div>
                                </ng-scrollbar> -->
          </div>
        </div>
      </form>
    </div>

    <!-- <form [formGroup]="form" (ngSubmit)="onSubmit()" class="form-material" *ngIf="response">
      <div class="row">
        <div class="col-md-12">
          <div class="row">
            <div class="col-md-12">
              <div class="card">
                <div class="card-body">

                  <div class="col-md-4 mt-3">
                    <div>
                      <form-field [control]="form.get('elabDate')" label="Fecha Elab.">
                        <input type="text" class="form-control" bsDatepicker formControlName="elabDate" />
                      </form-field>
                    </div>
                  </div>
                  <div class="col-md-4 mt-3">
                    <div>
                      <form-field [control]="actaRecepttionForm.get('fechaCaptura')" label="Fecha de Captura">
                        <input type="text" class="form-control" bsDatepicker formControlName="fechaCaptura" />
                      </form-field>
                    </div>
                  </div>

                  <div class="col-md-4 mt-3">
                    <div>
                      <form-field [control]="form.get('anio')" label="Año">
                        <input type="text" class="form-control" [bsConfig]="bsConfigFromYear" #dp="bsDatepicker"
                          bsDatepicker [(bsValue)]="bsValueFromYear" formControlName="anio" />
                      </form-field>
                    </div>
                  </div>
                  <div class="col-md-4 mt-3">
                    <div>
                      <form-field [control]="form.get('mes')" label="Mes">
                        <input type="text" class="form-control" [bsConfig]="bsConfigFromYear" #dp="bsDatepicker"
                          bsDatepicker [(bsValue)]="bsValueFromYear" formControlName="mes" />
                      </form-field>
                    </div>
                  </div>





                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </form> -->
    <!-- <div class="row" *ngIf="showScanForm">
      <div class="col-12 col-sm-12 col-md-9">
        <div class="card">
          <div class="card-body">
            <app-scanning-foil [form]="formScan" [screenKey]="screenKey" [screenKey2]="origin" [screenKey3]="origin3"
              [paramsScreen]="paramsScreen" [officeDictationData]="officeDictationData" [dictationData]="dictationData"
              [dataUserLogged]="dataUserLogged" [disabled]="loadingSend || loadDetail" (viewPicturesEmitter)="
                      viewPictures($event)
                    "></app-scanning-foil>
          </div>
        </div>
      </div>
      <div class="col-12 col-sm-12 col-md-3">
        <button name="imp" data-toggle="tooltip" tooltip="Imprimir" containerClass="tooltip-style" (click)="btnDetail()"
          [disabled]="loadingSend || loadDetail" class="btn btn-secondary btn-sm active ml-2 mr-2">
          <i class="bx bxs-printer"></i>
        </button>

        <button name="env" data-toggle="tooltip" containerClass="tooltip-style" tooltip="Enviar" (click)="sendOffice()"
          [disabled]="loadingSend || blockSender || loadDetail" class="btn btn-danger btn-sm active ml-2 mr-2">
          <i class="bx bx-send"></i>
        </button>
      </div>
    </div> -->
  </div>
  <div footer>
    <div
      class="d-flex flex-row justify-content-center align-items-center"></div>
    <div class="d-flex flex-row justify-content-center align-items-center">
      <!-- <div class="m-3">
                    <button type="button" class="btn btn-primary active btn-sm" (click)="getDetail()">
                      Detalle de Acta
                      <i class="fas fa-edit bx-sm float-icon"></i>
                    </button>
                  </div> -->
      <!-- <div class="m-3">
                    <button *ngIf="dataTableGoodsConvertion" type="button" class="btn btn-primary btn-sm active"
                      (click)="savActa()">
                      Guardar
                      <i aria-hidden="true" class="fa fa-save"></i>
                    </button>
                  </div> -->

      <div class="m-3">
        <button class="btn btn-info active btn-sm" (click)="Scanner()">
          Escanear
          <i class="bx bx-file bx-sm float-icon"></i>
        </button>
      </div>
      <div class="m-3">
        <button
          type="button"
          class="btn btn-primary active btn-sm"
          (click)="Generar()">
          Imprimir
          <i class="bx bx-printer bx-sm float-icon"></i>
        </button>
      </div>
      <div class="m-3">
        <button type="button" class="btn btn-primary btn-sm active">
          Ver
          <i class="fa fa-eye" aria-hidden="true"></i>
        </button>
      </div>
      <div class="m-3">
        <button
          [disabled]="!disabledBtnCerrar"
          type="button"
          class="btn btn-primary active btn-sm"
          (click)="cerrarActa()">
          Cerrar Acta
          <i class="fas fa-close bx-sm float-icon"></i>
        </button>
      </div>
      <div class="m-3">
        <button
          class="btn btn-sm btn-success active"
          type="button"
          (click)="exportToExcel()">
          Exportar Datos
          <i class="bx bx-download float-icon"></i>
        </button>
      </div>
    </div>
  </div>
</app-card>
