<app-card [header]="true">
  <div class="ch-content" header>
    <h5 class="title">Depuraci&oacute;n de Fotograf&iacute;as</h5>
  </div>
  <div class="d-inline mr-2">
    <button
      type="button"
      class="btn btn-primary active btn-sm"
      (click)="isSearch = true; clearSearch()">
      <i class="bx bx-search-alt bx-sm float-icon"></i>
    </button>
  </div>
  <div class="d-inline mx-2" *ngIf="isSearch">
    <div class="btn-group">
      <button
        type="button"
        class="btn btn-primary btn-sm"
        (click)="searchExp(); isSearch = false">
        <i class="bx bx-check bx-sm float-icon"></i>
      </button>
      <button
        type="button"
        class="btn btn-primary btn-sm"
        (click)="clearSearch(); isSearch = false">
        <i class="bx bx-x bx-sm float-icon"></i>
      </button>
    </div>
  </div>

  <div body>
    <form [formGroup]="form" class="form-material">
      <accordion [isAnimated]="true">
        <accordion-group [isOpen]="false">
          <div accordion-heading class="d-flex justify-content-between">
            <h5>
              <i class="fa fa-filter" aria-hidden="true"></i>
              Filtro de búsqueda
            </h5>
          </div>

          <div class="row">
            <div class="col-md-12">
              <div class="row">
                <div class="col-md-12">
                  <div class="card">
                    <div class="card-body">
                      <div class="row">
                        <div class="col-md-6">
                          <div>
                            <form-field
                              [control]="form.get('goodNumber')"
                              label="No. Bien">
                              <input
                                type="number"
                                class="form-control"
                                (keydown)="openButon()"
                                formControlName="goodNumber" />
                            </form-field>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div>
                            <form-field
                              [control]="form.get('goodStatus')"
                              label="Estatus">
                              <input
                                type="text"
                                class="form-control"
                                formControlName="goodStatus" />
                            </form-field>
                          </div>
                        </div>
                      </div>

                      <div class="row">
                        <!-- <div class="col-md-6">
                          <div>
                            <form-field [control]="form.get('goodStatus')" label="Descripción de Estatus">
                              <input type="text" class="form-control" formControlName="goodStatus" />
                            </form-field>
                          </div>
                        </div> -->
                        <div class="col-md-6">
                          <div>
                            <form-field
                              [control]="form.get('fileNumber')"
                              label="No. Expediente">
                              <input
                                type="number"
                                class="form-control"
                                formControlName="fileNumber" />
                            </form-field>
                          </div>
                        </div>

                        <div class="col-md-6">
                          <div>
                            <form-field
                              [control]="form.get('idEvent')"
                              label="Id. Evento">
                              <input
                                type="number"
                                class="form-control"
                                formControlName="idEvent" />
                            </form-field>
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-6">
                          <div>
                            <form-field
                              [control]="form.get('eventDesc')"
                              label="Descripción de Evento">
                              <input
                                type="text"
                                class="form-control"
                                formControlName="eventDesc" />
                            </form-field>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div>
                            <form-field
                              [control]="form.get('idLot')"
                              label="Id. Lote">
                              <input
                                type="number"
                                class="form-control"
                                formControlName="idLot" />
                            </form-field>
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-6">
                          <div>
                            <form-field
                              [control]="form.get('lotDesc')"
                              label="Descripción de Lote">
                              <input
                                type="text"
                                class="form-control"
                                formControlName="lotDesc" />
                            </form-field>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <form-check
                            for="goods-list"
                            label="Listado de Bienes">
                            <input
                              type="checkbox"
                              (change)="isChecked = true"
                              formControlName="exists"
                              id="goods-list" />
                          </form-check>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div footer>
              <div class="d-flex justify-content-center">
                <div class="m-3">
                  <!-- <button class="btn btn-secondary active mr-2" (click)="openButon()">
                        Consultar</button><button class="btn btn-primary active">
                      </button> -->
                  <button
                    type="button"
                    class="btn btn-primary active btn-sm"
                    (click)="openButon()">
                    Consultar<i class="bx bx-search-alt bx-sm float-icon"></i>
                  </button>
                </div>
                <div class="m-3">
                  <button
                    type="button"
                    [disabled]="this.form.value.goodNumber == null"
                    class="btn btn-primary active btn-sm"
                    (click)="addPhotos()">
                    Validar Fotograf&iacute;as
                    <i class="bx bx-search-alt bx-sm float-icon"></i>
                  </button>
                </div>
                <div class="m-3">
                  <button
                    type="button"
                    class="btn btn-danger active btn-sm"
                    (click)="resetALL()">
                    Limpiar <i class="fas fa-eraser bx-sm float-icon"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>

          <hr />
        </accordion-group>
      </accordion>
      <!-- <div class="row pt-3">
        <form-field [control]="form.get('idLot')" class="col-md-6">
          <ngx-select [form]="form" control="idLot" bindLabel="lotDescription" [data]="lotIdSelected" label="Lote"
            value="lotId" (change)="idEvent($event)"></ngx-select>

        </form-field>

        <form-field [control]="form.get('idEvent')" class="col-md-6">
          <ngx-select [form]="form" control="idEvent" bindLabel="processKey" [data]="eventIdSelected" label="Evento"
            value="id"></ngx-select>

        </form-field>
      </div> -->

      <div class="row">
        <div class="d-flex justify-content-end">
          <div class="d-inline mr-2">
            <app-columns-select [(settings)]="settings"></app-columns-select>
          </div>
          <!-- <div class="d-inline mr-2">
            <button (click)="addPhotos()" type="button" class="btn btn-primary active btn-sm mr-3">
              Agregar
              <i class="bx bx-plus bx-sm float-icon"></i>
            </button>
          </div> -->
        </div>
        <div class="col-md-12">
          <div [class]="loading ? 'table-loading' : ''">
            <div class="table-responsive">
              <ng2-smart-table [settings]="settings" [source]="goodPhoto">
              </ng2-smart-table>
            </div>
            <div class="d-flex justify-content-end">
              <div>
                <label for="">Existentes: &nbsp;&nbsp;</label> {{ totalItems }}
              </div>
            </div>
            <div class="col-md-12">
              <app-pagination
                [params]="params"
                [totalItems]="totalItems"></app-pagination>
            </div>
          </div>
        </div>
      </div>
    </form>
  </div>
</app-card>
