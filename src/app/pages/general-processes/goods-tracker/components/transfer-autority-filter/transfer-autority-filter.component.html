<form [formGroup]="form" class="form-material" (submit)="search()">
  <div class="row">
    <form-field [control]="form.get('transfers')" class="col-md-6">
      <ngx-select
        [searchOnInit]="true"
        [multiple]="true"
        value="id"
        bindLabel="nameTransferent"
        [form]="form"
        control="transfers"
        className="scroll-line"
        label="Transferente"
        [data]="transfers"
        (fetchItems)="getTransfers($event)"
        (change)="transferChange()"
        [labelTemplate]="transferLabel"
        [optionTemplate]="transferOption"></ngx-select>
      <ng-template #transferLabel let-item="item" let-clear="clear">
        <div
          class="custom-tmp"
          [title]="item.id + '-' + item.cvman + ' - ' + item.nameTransferent">
          <span class="custom-icon" (click)="clear(item)">x</span>
          <span class="custom-value-label"
            >{{ item.id }} - {{ item.cvman }} - {{ item.nameTransferent }}</span
          >
        </div>
      </ng-template>
      <ng-template #transferOption let-item="item"
        ><div [title]="item.nameTransferent">
          <div class="row">
            <div class="col-md-6">No: {{ item.id }}</div>
            <div class="col-md-6">CVMAN: {{ item.cvman }}</div>
          </div>
          <div class="row">
            <div class="col-md-12">
              {{ item.nameTransferent }}
            </div>
          </div>
          <hr class="row" [style.margin]="0" /></div
      ></ng-template>
    </form-field>
    <form-field [control]="form.get('transmitters')" class="col-md-6">
      <ngx-select
        [form]="form"
        [multiple]="true"
        control="transmitters"
        className="scroll-line"
        value="id"
        bindLabel="stationName"
        label="Emisora"
        [data]="transmitters"
        (fetchItems)="getTransmitters($event)"
        (change)="transmitterChange()"
        [labelTemplate]="transmitterLabel"
        [optionTemplate]="transmitterOption"></ngx-select>
      <ng-template #transmitterLabel let-item="item"
        ><span [title]="item.id + ' - ' + item.stationName"
          >{{ item.id }} - {{ item.stationName }}</span
        ></ng-template
      >
      <ng-template #transmitterOption let-item="item"
        ><span [title]="item.id + ' - ' + item.stationName"
          >{{ item.id }} - {{ item.stationName }}</span
        ></ng-template
      >
    </form-field>
  </div>
  <div class="row pt-3">
    <form-field [control]="form.get('autorities')" class="col-md-6">
      <ngx-select
        [form]="form"
        [multiple]="true"
        value="idAuthority"
        bindLabel="authorityName"
        control="autorities"
        className="scroll-line"
        label="Autoridad"
        [data]="autorities"
        (fetchItems)="getAutorities($event)"
        [labelTemplate]="autortityLabel"
        [optionTemplate]="autortityOption"></ngx-select>
      <ng-template #autortityLabel let-item="item"
        ><span [title]="item.idAuthority + ' - ' + item.authorityName"
          >{{ item.idAuthority }} - {{ item.authorityName }}</span
        ></ng-template
      >
      <ng-template #autortityOption let-item="item"
        ><span [title]="item.idAuthority + ' - ' + item.authorityName"
          >{{ item.idAuthority }} - {{ item.authorityName }}</span
        ></ng-template
      >
    </form-field>
  </div>
  <div class="row pt-3">
    <div class="col-md-12 d-inline">
      <button class="btn btn-primary active btn-sm mr-3">
        Buscar
        <i class="bx bx-search-alt bx-sm float-icon"></i>
      </button>

      <button
        type="button"
        (click)="cleanFilters.emit()"
        class="btn btn-danger btn-sm active mr-3">
        Limpiar <i class="fas fa-eraser"> </i>
      </button>
    </div>
  </div>
</form>
