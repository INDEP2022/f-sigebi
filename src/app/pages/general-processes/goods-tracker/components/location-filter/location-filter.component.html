<form [formGroup]="form" class="form-material" (submit)="search()">
  <div class="row">
    <form-field [control]="form.get('warehouse')" class="col-md-5">
      <ngx-select
        [form]="form"
        [searchOnInit]="true"
        [multiple]="true"
        control="warehouse"
        className="scroll-line"
        value="idWarehouse"
        bindLabel="description"
        label="Almacén"
        [data]="warehouses"
        (fetchItems)="getWarehouses($event)"
        [labelTemplate]="warehouseLabel"
        [optionTemplate]="warehouseOption"></ngx-select>
      <ng-template #warehouseLabel let-item="item"
        ><span [title]="item.idWarehouse + ' - ' + item.description"
          >{{ item.idWarehouse }} - {{ item.description }}</span
        ></ng-template
      >
      <ng-template #warehouseOption let-item="item"
        ><span [title]="item.idWarehouse + ' - ' + item.description"
          >{{ item.idWarehouse }} - {{ item.description }}</span
        ></ng-template
      >
    </form-field>
    <div class="col-md-1">
      <button
        type="button"
        class="btn btn-primary btn-sm active"
        (click)="openWarehouseFilter()">
        <i class="bx bx-list-plus bx-sm float-icon"></i>
      </button>
    </div>
    <form-field [control]="form.get('cordination')" class="col-md-6">
      <ngx-select
        [form]="form"
        [searchOnInit]="true"
        [multiple]="true"
        control="cordination"
        value="id"
        className="scroll-line"
        bindLabel="description"
        label="Coordinación Regional"
        [data]="delegations"
        (fetchItems)="getDelegations($event)"
        [labelTemplate]="cordinationLabel"
        [optionTemplate]="cordinationOption"></ngx-select>
      <ng-template #cordinationLabel let-item="item"
        ><span [title]="item.id + ' - ' + item.description"
          >{{ item.id }} - {{ item.description }}</span
        ></ng-template
      >
      <ng-template #cordinationOption let-item="item"
        ><span [title]="item.id + ' - ' + item.description"
          >{{ item.id }} - {{ item.description }}</span
        ></ng-template
      >
    </form-field>
  </div>
  <div class="row pt-3">
    <form-field [control]="form.get('autorityState')" class="col-md-6">
      <ngx-select
        [form]="form"
        [searchOnInit]="true"
        [multiple]="true"
        control="autorityState"
        value="id"
        className="scroll-line"
        bindLabel="descCondition"
        label="Estado Donde Radica la Autoridad"
        [data]="autorityStates"
        (fetchItems)="getAutorityStates($event)"
        [labelTemplate]="authLabel"
        [optionTemplate]="authOption"></ngx-select>
      <ng-template #authLabel let-item="item"
        ><span [title]="item.id + ' - ' + item.descCondition"
          >{{ item.id }} - {{ item.descCondition }}</span
        ></ng-template
      >
      <ng-template #authOption let-item="item"
        ><span [title]="item.id + ' - ' + item.descCondition"
          >{{ item.id }} - {{ item.descCondition }}</span
        ></ng-template
      >
    </form-field>
    <form-field [control]="form.get('goodState')" class="col-md-6">
      <ngx-select
        [form]="form"
        [searchOnInit]="true"
        [multiple]="true"
        control="goodState"
        value="id"
        className="scroll-line"
        bindLabel="descCondition"
        label="Estado Donde Radica el Bien"
        [data]="goodStates"
        (fetchItems)="getGoodStates($event)"
        [labelTemplate]="stateLabel"
        [optionTemplate]="stateOption"></ngx-select>
      <ng-template #stateLabel let-item="item"
        ><span [title]="item.id + ' - ' + item.descCondition"
          >{{ item.id }} - {{ item.descCondition }}</span
        ></ng-template
      >
      <ng-template #stateOption let-item="item"
        ><span [title]="item.id + ' - ' + item.descCondition">
          {{ item.id }} - {{ item.descCondition }}</span
        ></ng-template
      >
    </form-field>
  </div>
  <div class="row pt-3">
    <div class="col-md-12 d-inline">
      <button class="btn btn-primary active btn-sm mr-3">
        Buscar
        <i class="bx bx-search-alt bx-sm float-icon"></i>
      </button>

      <button
        type="button"
        (click)="cleanFilters.emit()"
        class="btn btn-danger btn-sm active mr-3">
        Limpiar <i class="fas fa-eraser"> </i>
      </button>
    </div>
  </div>
</form>
