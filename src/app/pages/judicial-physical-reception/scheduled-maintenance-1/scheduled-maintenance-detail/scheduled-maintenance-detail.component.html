<button class="btn btn-sm btn-return" (click)="return()">
  <i class="bx bx-chevron-left float-icon"></i> Regresar
</button>

<app-card [header]="true">
  <div class="ch-content" header>
    <h5 class="title">Mantenimiento de Acta Entrega Recepci&oacute;n</h5>
  </div>
  <div body>
    <form class="form-material" [formGroup]="form">
      <div class="row mr-0">
        <div class="col-md-2">
          <app-select-form
            [form]="form"
            formField="statusActa"
            label="Status Acta"
            [haveTodos]="false"
            [clearable]="false"
            [list]="statusList"
            [(params)]="paramsStatus"></app-select-form>
        </div>
        <div class="col-md-2">
          <form-field [control]="form.get('acta')" label="No&#46; Acta">
            <input
              type="number"
              class="form-control"
              formControlName="acta"
              readonly />
          </form-field>
        </div>

        <div class="col-md-2">
          <form-field
            [control]="form.get('fechaCaptura')"
            label="Fecha Captura">
            <input
              [class]="'disabled'"
              bsDatepicker
              class="form-control"
              formControlName="fechaCaptura"
              readonly />
          </form-field>
        </div>

        <div class="col-md-6">
          <app-proceeding-types-shared
            [form]="form"
            [readonly]="true"></app-proceeding-types-shared>
        </div>
      </div>
      <app-key-proceedings-form
        [form]="form"
        [statusActaValue]="statusActaValue"></app-key-proceedings-form>
      <!-- <div class="row mr-0">
        <div class="col-md-12 table-responsive mt-3">
          <ng2-smart-table
            *ngIf="source"
            class="col-md-12"
            [settings]="settingKeysProceedings"
            [source]="source"
            (editConfirm)="updateKeysProcedding($event)"></ng2-smart-table>
        </div>
      </div>
      <div class="row actions mr-0">
        <div class="col-md-8 mt-5">
          <div>
            <form-field [control]="form.get('claveActa')" label="Clave Acta">
              <input
                class="form-control"
                formControlName="claveActa"
                readonly />
            </form-field>
          </div>
        </div>
      </div> -->
      <div class="action-buttons mr-4">
        <div class="col-md-3">
          <button
            class="btn btn-primary btn-sm active"
            type="submit"
            size="small"
            (click)="getData()">
            <i class="bx bx-loader float-icon"></i>
            Refrescar Informaci&oacute;n
          </button>
        </div>
        <div class="col-md-3 center">
          <app-goodtracker-button
            [statusActaValue]="statusActaValue"
            [data]="data"></app-goodtracker-button>
        </div>
        <div class="col-md-3 center">
          <app-update-dates-goods
            [statusActaValue]="statusActaValue"
            [data]="data"
            (updateGoodEvent)="
              selectedsForUpdate = $event
            "></app-update-dates-goods>
        </div>
        <div class="col-md-3">
          <app-massive-delete-button
            [statusActaValue]="statusActaValue"
            [actaId]="actaId"
            [selecteds]="selecteds"
            (finishDelete)="getData()">
          </app-massive-delete-button>
        </div>
      </div>
    </form>
  </div>
</app-card>

<app-card [header]="true">
  <div class="ch-content" header>
    <h5 class="title">Bienes</h5>
    <div class="buttons mt-2">
      <app-columns-select
        [(settings)]="settingsGoods"
        [defaultColumns]="6"></app-columns-select>
      <app-excel-button
        [form]="form"
        [loading]="loading"
        [goodsCant]="data.length"></app-excel-button>
    </div>
  </div>
  <div body>
    <app-table-goods
      [settingsTable]="settingsGoods"
      [data]="data"
      [totalItems]="totalItems"
      [statusActaValue]="statusActaValue"
      (updateGoodsRow)="updateGoodsRow($event)"
      (updateData)="this.params = $event; getData()"
      (rowsSelected)="rowsSelected($event)"
      (showDeleteAlert)="showDeleteAlert($event)"></app-table-goods>

    <hr class="row" />
    <app-cants></app-cants>
  </div>
</app-card>
