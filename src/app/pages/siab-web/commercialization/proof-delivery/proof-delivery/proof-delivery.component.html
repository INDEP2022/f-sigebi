<app-card [header]="true">
  <!--  -->
  <div header>
    <div class="ch-content">
      <h5 class="title">Constancia de Entregas</h5>
    </div>
  </div>
  <!--  -->
  <div body>
    <!--  -->
    <div class="mb-5" style="margin-top: -10px">
      <h5 class="title" style="font-size: 25px; text-align: center">
        Descarga de Constancia de Entrega
      </h5>
    </div>
    <!--  -->
    <div class="mt-5">
      <form class="form-material" [formGroup]="form" (ngSubmit)="onSubmit()">
        <div class="row">
          <div class="col-md-6">
            <form-field [control]="form.get('event')">
              <ngx-select
                [searchOnInit]="true"
                (fetchItems)="getEvents($event)"
                [data]="events"
                [form]="form"
                bindLabel="eventProcess"
                label="Evento"
                control="event"
                (change)="loadDataEventSelected($event)">
              </ngx-select>
            </form-field>
          </div>
          <div class="col-md-6">
            <form-field [control]="form.get('delegation')">
              <ngx-select
                [searchOnInit]="true"
                [data]="delegationsDe"
                [form]="form"
                control="delegation"
                bindLabel="descDescription"
                label="Delegaci&oacute;n"
                (change)="delegationChangeIndex($event)">
              </ngx-select>
            </form-field>
          </div>
          <div class="col-md-6 pt-3">
            <form-field [control]="form.get('allotment')">
              <ngx-select
                [searchOnInit]="true"
                [data]="publicDe"
                [form]="form"
                control="allotment"
                bindLabel="publicLot"
                label="Lote P&uacute;blico"
                (change)="publicChangeIndex($event)">
              </ngx-select>
            </form-field>
          </div>
          <div class="col-md-6 pt-3">
            <form-field [control]="form.get('rfc')">
              <ngx-select
                [searchOnInit]="true"
                [data]="rfcsDe"
                [form]="form"
                control="rfc"
                bindLabel="rfc"
                label="RFC"
                (change)="rfcChangeIndex($event)">
              </ngx-select>
            </form-field>
          </div>
        </div>
      </form>
    </div>
    <!--  -->
    <div class="d-flex mb-3">
      <div class="ml-auto">
        <button class="btn btn-danger btn-sm active mr-3">
          Limpiar Filtros <i class="fas fa-eraser"> </i>
        </button>
        <button
          type="button"
          class="btn btn-primary active btn-sm"
          [disabled]="!form.valid">
          Generar Constancia(s) de Entrega
          <i class="bx bx-search-alt bx-sm float-icon"></i>
        </button>
      </div>
    </div>
    <!--  -->
    <div class="mt-3" *ngIf="true">
      <div class="ml-auto mb-3">
        <div>
          <app-columns-select [(settings)]="settings"></app-columns-select>
        </div>
      </div>
      <div class="table-responsive">
        <ng2-smart-table
          [attr.class]="'table-bordered table-responsive'"
          [settings]="settings"
          [source]="data"></ng2-smart-table>
      </div>
    </div>
  </div>
</app-card>
