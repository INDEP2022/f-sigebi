<app-card [header]="true">
  <div header>
    <div class="ch-content">
      <h5 class="title">Reporte bienes sin vender</h5>
    </div>
  </div>
  <div body>
    <form class="form-material" [formGroup]="form">
      <div class="row">
        <!-- <div class="ch-content">
          <h5 class="title">B&uacute;squeda por bien&#58;</h5>
        </div>
        <div class="row">
          <div class="col-md-2">
            <form-check label="Por bien" for="label1">
              <input id="label1" type="checkbox" formControlName="filterGoods" />
            </form-check>
          </div>
          <div class="col-md-2">
            <form-check label="Con archivo de texto" for="label2">
              <input id="label2" type="checkbox" formControlName="filterText" />
            </form-check>
          </div>
          <div class="col-md-2">
            <input type="file" (change)="chargeFile($event.target)" />
          </div>
          <div class="col-md-3">
            <div class="justify-content-center">
              <button type="button" class="btn btn-primary btn-sm active" [disabled]="!form.valid">
                Buscar bienes
              </button>
            </div>
          </div>
        </div> -->
      </div>
      <!--  -->
      <div class="row">
        <!--  -->
        <div class="ch-content mb-5">
          <h5 class="title">Filtros de B&uacute;squeda</h5>
        </div>
        <!--  -->
        <div class="row">
          <div class="col-md-12">
            <form-field [control]="form.get('typeGood')">
              <ngx-select
                (fetchItems)="queryTypeGoods($event)"
                [searchOnInit]="true"
                label="Tipo de Bien"
                [data]="fullGoods"
                [form]="form"
                bindLabel="goodTypeName"
                control="typeGood"
                value="typeNumber"
                (change)="querySubtypeGoods()">
              </ngx-select>
            </form-field>
          </div>
        </div>
        <div class="d-flex">
          <div class="ml-auto mb-5">
            <!-- <form-field [control]="form.get('subtype')" label="Sub Tipo">
              <input type="text" class="form-control" formControlName="subtype" />
            </form-field> -->
            <button
              type="button"
              class="btn btn-primary active btn-sm"
              (click)="openModalSubtype('S')">
              Selecciona Subtipo(s) de Bien
            </button>
            <!-- <form-field [control]="form.get('delegation')" label="Delegaci&oacute;n Regional">
              <input type="text" class="form-control" formControlName="delegation" />
            </form-field> -->
            <button
              type="button"
              class="btn btn-primary active btn-sm ml-3 mr-3"
              (click)="openModalSubtype('D')">
              Selecciona la(s) Delegaciones
            </button>
            <!-- <form-field [control]="form.get('status')" label="Estatus">
              <input type="text" class="form-control" formControlName="status" />
            </form-field> -->
            <button
              type="button"
              class="btn btn-primary active btn-sm"
              (click)="openModalSubtype('G')">
              Selecciona Estatus Bienes
            </button>
          </div>
        </div>
        <!--  -->
        <div>
          <div class="col-md-12">
            <form-field
              [control]="form.get('startDate')"
              label="Fecha de Inicio Reforma">
              <input
                type="text"
                placeholder=""
                class="form-control"
                bsDatepicker
                formControlName="startDate"
                [bsConfig]="{ isAnimated: true }" />
            </form-field>
          </div>
        </div>
        <div class="d-flex mb-5">
          <div class="ml-auto">
            <div>
              <button
                class="btn btn-danger btn-sm active ml-3 mr-3"
                (click)="clean()">
                Limpiar <i class="fas fa-eraser"> </i>
              </button>
              <!--  -->
              <button
                class="btn btn-primary btn-sm active"
                (click)="consult()"
                [disabled]="!form.valid">
                Consultar
                <i class="bx bx-search-alt bx-sm float-icon"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
      <!--  -->
      <div>
        <div>
          <form class="form-material" [formGroup]="formTwo">
            <div class="row">
              <div class="col-md-6">
                <form-radio label="Por bien">
                  <input
                    type="radio"
                    value="radioTwo"
                    formControlName="radioOne"
                    (click)="viewRadio('radioTwo')" />
                </form-radio>
              </div>
              <div class="col-md-6">
                <form-radio label="Con Archivo de texto">
                  <input
                    type="radio"
                    value="radioOne"
                    formControlName="radioOne"
                    (click)="viewRadio('radioOne')" />
                </form-radio>
              </div>
            </div>
            <div class="row" *ngIf="bienTxt">
              <div class="col-md-6">
                <form-field [control]="formTwo.get('txtBien')" label="No.Bien">
                  <input
                    type="number"
                    placeholder=""
                    class="form-control"
                    formControlName="txtBien" />
                </form-field>
              </div>
              <div class="col-md-6">
                <button
                  type="button"
                  class="btn btn-primary btn-sm active"
                  (click)="searchBien()"
                  [disabled]="!form.valid">
                  Buscar bienes
                </button>
              </div>
            </div>
            <div class="row" *ngIf="bienExcel">
              <div class="col-md-6">
                <form-field [control]="formTwo.get('file')">
                  <input
                    type="file"
                    accept=".xls, .xlsx, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"
                    formControlName="file"
                    (change)="chargeFile($event)" />
                </form-field>
              </div>
              <div class="col-md-6">
                <button
                  type="button"
                  class="btn btn-primary btn-sm active"
                  (click)="searchBienExcel()"
                  [disabled]="!form.valid">
                  Buscar bienes
                </button>
              </div>
            </div>
          </form>
        </div>
      </div>
      <!--  -->
    </form>
    <div>
      <div class="d-flex">
        <div>
          <h5 class="title">Bienes</h5>
        </div>
      </div>
      <div class="row pt-4">
        <div class="col-md-12">
          <div class="row mt-12">
            <div class="col-md-6 mb-1"></div>
            <div
              class="col-md-6"
              style="display: flex; justify-content: flex-end">
              <button class="btn btn-sm btn-success active mr-3">
                Exportar a Excel
                <i class="bx bx-download float-icon"></i>
              </button>
              <app-columns-select
                [(settings)]="settings"
                [leftList]="true"></app-columns-select>
            </div>
          </div>
        </div>
      </div>
      <div class="table-responsive pt-4">
        <ng2-smart-table
          [settings]="settings"
          [source]="data"></ng2-smart-table>
      </div>

      <!-- ModalSubtype -->
      <ng-template #myModalSubtype>
        <div body class="row mt-5">
          <div style="width: 100%" *ngIf="isSubTypeGoodsVisible">
            <p class="col-md-4">
              <strong>Selecciona el Subtipo de Bien</strong>
            </p>
            <div class="m-3">
              <ng2-smart-table
                [settings]="settingsOne"
                [source]="dataTwo"
                (userRowSelect)="checkAcceptSubtypeGood($event)">
              </ng2-smart-table>
              <!--  -->
              <app-pagination
                [params]="paramsSubtype"
                [totalItems]="totalItemsSubtype"></app-pagination>
              <div class="d-flex mb-1 mt-2">
                <div class="ml-auto">
                  <div>
                    <!--  -->
                    <button
                      class="btn btn-primary btn-sm active mr-3"
                      (click)="closeModalSubtype()">
                      Cerrar
                    </button>
                    <!--  -->
                    <button
                      class="btn btn-primary btn-sm active"
                      (click)="closeModalSubtype()">
                      Aceptar
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="mt-1" *ngIf="isDelegationsVisible">
            <p class="col-md-4"><strong>Selecciona la Delegaci√≥n</strong></p>
            <div class="m-3">
              <ng2-smart-table
                [settings]="settingsTwo"
                [source]="dataThree"
                (userRowSelect)="
                  checkAcceptDelegations($event)
                "></ng2-smart-table>
              <!--  -->
              <app-pagination
                [params]="paramsDelegation"
                [totalItems]="totalItemsDelegation"></app-pagination>
              <div class="d-flex mb-1 mt-2">
                <div class="ml-auto">
                  <div>
                    <!--  -->
                    <button
                      class="btn btn-primary btn-sm active mr-3"
                      (click)="closeModalSubtype()">
                      Cerrar
                    </button>
                    <!--  -->
                    <button
                      class="btn btn-primary btn-sm active"
                      (click)="closeModalSubtype()">
                      Aceptar
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="mt-1" *ngIf="isGoodsStatusVisible">
            <p class="col-md-4">
              <strong>Selecciona el Estatus del Bien</strong>
            </p>
            <div class="m-3">
              <ng2-smart-table
                [settings]="settingsThree"
                [source]="dataFour"
                (userRowSelect)="checkAcceptStatusGood($event)">
              </ng2-smart-table>
              <!--  -->
              <app-pagination
                [params]="paramsStatusGood"
                [totalItems]="totalItemsStatusGood"></app-pagination>
              <div class="d-flex mb-1 mt-2">
                <div class="ml-auto">
                  <div>
                    <!--  -->
                    <button
                      class="btn btn-primary btn-sm active mr-3"
                      (click)="closeModalSubtype()">
                      Cerrar
                    </button>
                    <!--  -->
                    <button
                      class="btn btn-primary btn-sm active"
                      (click)="closeModalSubtype()">
                      Aceptar
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </ng-template>
      <!--  -->
      <!-- <button
        type="button"
        class="btn btn-primary active btn-sm"
        (click)="openModalHistory('S')">
        Selecciona Status
      </button>
      <button
        type="button"
        class="btn btn-primary active btn-sm"
        (click)="openModalHistory('E')">
        Selecciona Events
      </button> -->
      <div>
        <!--  -->
        <ng-template #myModalHistory>
          <div class="mt-3" *ngIf="isStatus">
            <div class="m-3">
              <div>
                <div class="d-flex">
                  <div>
                    <h5 class="title">Hist√≥rico Estatus del Bien</h5>
                  </div>
                </div>
                <div class="row pt-4">
                  <div class="col-md-12">
                    <div class="row mt-12">
                      <div class="col-md-6 mb-1"></div>
                      <div
                        class="col-md-6"
                        style="display: flex; justify-content: flex-end">
                        <button class="btn btn-sm btn-success active mr-3">
                          Exportar a Excel
                          <i class="bx bx-download float-icon"></i>
                        </button>
                        <app-columns-select
                          [(settings)]="settingsFour"
                          [leftList]="true"></app-columns-select>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="table-responsive">
                  <ng2-smart-table
                    [settings]="settingsFour"
                    [source]="dataFive"></ng2-smart-table>
                </div>
                <app-pagination
                  [params]="params"
                  [totalItems]="totalItems"></app-pagination>
                <div class="d-flex mb-1 mt-2">
                  <div class="ml-auto">
                    <div>
                      <!--  -->
                      <button
                        class="btn btn-primary btn-sm active mr-3"
                        (click)="closeModalSubtype()">
                        Cerrar
                      </button>
                      <!--  -->
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!--  -->

          <div class="mt-3" *ngIf="isEvents">
            <div class="m-3">
              <div>
                <div class="d-flex">
                  <div>
                    <h5 class="title">Hist√≥rico Eventos del Bien</h5>
                  </div>
                </div>
                <div class="row pt-4">
                  <div class="col-md-12">
                    <div class="row mt-12">
                      <div class="col-md-6 mb-1"></div>
                      <div
                        class="col-md-6"
                        style="display: flex; justify-content: flex-end">
                        <button class="btn btn-sm btn-success active mr-3">
                          Exportar a Excel
                          <i class="bx bx-download float-icon"></i>
                        </button>
                        <app-columns-select
                          [(settings)]="settingsFive"
                          [leftList]="true"></app-columns-select>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="table-responsive">
                  <ng2-smart-table
                    [settings]="settingsFive"
                    [source]="dataSix"></ng2-smart-table>
                </div>
                <div class="d-flex mb-1 mt-2">
                  <div class="ml-auto">
                    <div>
                      <!--  -->
                      <button
                        class="btn btn-primary btn-sm active mr-3"
                        (click)="closeModalSubtype()">
                        Cerrar
                      </button>
                      <!--  -->
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </ng-template>
        <!--  -->
      </div>
    </div>
  </div>
</app-card>
