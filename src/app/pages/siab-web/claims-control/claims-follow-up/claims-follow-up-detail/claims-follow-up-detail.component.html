<app-modal>
  <div header>
    <h5 class="modal-title">
      {{ edit ? 'Editar' : 'Nuevo' }} Siniestros Seguimiento
    </h5>
  </div>
  <div body>
    <form [formGroup]="claimsFollowUpDetailForm" class="form-material">
      <div class="row">
        <div class="col-md-3">
          <form-field
            label="No. Bien"
            [control]="claimsFollowUpDetailForm.get('numberInGood')">
            <input
              class="form-control"
              formControlName="numberInGood"
              type="number"
              readonly />
          </form-field>
        </div>
        <div class="col-md-9">
          <form-field
            label="Descripción"
            [control]="claimsFollowUpDetailForm.get('description')">
            <textarea
              class="form-control pt-4"
              formControlName="description"
              readonly></textarea>
          </form-field>
        </div>
      </div>
      <div class="row pt-4">
        <div class="col-md-6">
          <form-field
            [control]="claimsFollowUpDetailForm.get('fecRepCabiIn')"
            label="Fecha de Reporte a la CAB">
            <input
              type="text"
              formControlName="fecRepCabiIn"
              class="form-control"
              bsDatepicker />
          </form-field>
        </div>
        <div class="col-md-6">
          <form-field
            [control]="claimsFollowUpDetailForm.get('fecRepAseguradoraIn')"
            label="Fecha de Reporte de Aseguradora">
            <input
              type="text"
              formControlName="fecRepAseguradoraIn"
              class="form-control"
              bsDatepicker />
          </form-field>
        </div>
      </div>
      <div class="row pt-4">
        <div class="col-md-4">
          <form-field
            [control]="claimsFollowUpDetailForm.get('fecSinisterIn')"
            label="Fecha de Siniestro">
            <input
              type="text"
              formControlName="fecSinisterIn"
              class="form-control"
              bsDatepicker />
          </form-field>
        </div>
        <div class="col-md-4">
          <form-field
            [control]="claimsFollowUpDetailForm.get('typeSinisterIn')">
            <ngx-select
              (fetchItems)="getTipeSiniester($event)"
              [data]="typeSiniester"
              [form]="claimsFollowUpDetailForm"
              value="id"
              bindLabel="description"
              label="Tipo de Siniestro"
              control="typeSinisterIn">
            </ngx-select>
          </form-field>
        </div>
        <div class="col-md-4">
          <form-field
            label="No. Siniestro"
            [control]="claimsFollowUpDetailForm.get('sinisterIn')">
            <input
              class="form-control"
              formControlName="sinisterIn"
              type="number" />
          </form-field>
        </div>
      </div>
      <div class="row">
        <div class="col-md-7">
          <label
            for=""
            style="font-size: 10px; font-weight: 600; color: #74788d"
            >Oficio/Correo (pdf)</label
          >
          <form-field
            label=""
            [control]="claimsFollowUpDetailForm.get('docOfficeMailIn')">
            <input
              type="file"
              accept="application/pdf"
              formControlName="docOfficeMailIn"
              (change)="chargeFileDocOfficeMailIn($event)" />
          </form-field>
        </div>
        <div class="col-md-5 margin-input">
          <form-field
            label="P&oacute;liza Afectada"
            [control]="claimsFollowUpDetailForm.get('policyAffectedIn')">
            <input
              class="form-control"
              formControlName="policyAffectedIn"
              type="text" />
          </form-field>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12">
          <form-field
            [control]="claimsFollowUpDetailForm.get('unitAdminUserIn')">
            <ngx-select
              (fetchItems)="getObtnObtenUnidadesResp($event)"
              [data]="unitAdminUser"
              [form]="claimsFollowUpDetailForm"
              value="no_delegacion"
              bindLabel="descripcion"
              label="Unidad Administrativa Usuario"
              control="unitAdminUserIn">
            </ngx-select>
          </form-field>
        </div>
      </div>
      <div class="row pt-4">
        <div class="col-md-12">
          <form-field
            label="Detalle del Bien o las Partes Afectadas"
            [control]="claimsFollowUpDetailForm.get('detGoodoAffectedIn')">
            <textarea
              class="form-control pt-4"
              formControlName="detGoodoAffectedIn"></textarea>
          </form-field>
        </div>
      </div>
      <hr />
      <div class="row pt-4">
        <div class="col-md-6">
          <form-field
            label="Monto Reclamo Segun Carta de Reclamación"
            [control]="claimsFollowUpDetailForm.get('claimedAmountIn')">
            <input
              class="form-control"
              formControlName="claimedAmountIn"
              type="number" />
          </form-field>
        </div>
        <div class="col-md-6">
          <form-field
            label="Monto Ajustado"
            [control]="claimsFollowUpDetailForm.get('adjustedAmountIn')">
            <input
              class="form-control"
              formControlName="adjustedAmountIn"
              type="number" />
          </form-field>
        </div>
      </div>
      <div class="row pt-4">
        <div class="col-md-6">
          <form-field
            label="Deducible"
            [control]="claimsFollowUpDetailForm.get('deductibleIn')">
            <input
              class="form-control"
              formControlName="deductibleIn"
              type="number" />
          </form-field>
        </div>
        <div class="col-md-6">
          <form-field
            label="Coa Seguro"
            [control]="claimsFollowUpDetailForm.get('coinsuranceIn')">
            <input
              class="form-control"
              formControlName="coinsuranceIn"
              type="number" />
          </form-field>
        </div>
      </div>
      <div class="row">
        <div class="col-md-7">
          <label
            for=""
            style="font-size: 10px; font-weight: 600; color: #74788d"
            >Carta Reclamación (pdf)</label
          >
          <form-field
            [control]="claimsFollowUpDetailForm.get('docLetterRelcamationIn')">
            <input
              type="file"
              accept="application/pdf"
              formControlName="docLetterRelcamationIn"
              (change)="chargeFileLetterClaimIn($event)" />
          </form-field>
        </div>
        <div class="col-md-5 pt-4">
          <form-field
            label="Monto Indemnizado"
            [control]="claimsFollowUpDetailForm.get('amountIndemnizedIn')">
            <input
              class="form-control"
              formControlName="amountIndemnizedIn"
              type="number" />
          </form-field>
        </div>
      </div>
      <div class="row">
        <div class="col-md-7">
          <label
            for=""
            style="font-size: 10px; font-weight: 600; color: #74788d"
            >Oficio de Conclusión/Minuta de Conclusión (pdf)</label
          >
          <form-field
            [control]="claimsFollowUpDetailForm.get('docOfficeMinConcluIn')">
            <input
              type="file"
              accept="application/pdf"
              formControlName="docOfficeMinConcluIn"
              (change)="chargeFileDocOfficeMinConcluIn($event)" />
          </form-field>
        </div>
        <div class="col-md-5 pt-4">
          <form-field
            label="Orden de Ingreso"
            [control]="claimsFollowUpDetailForm.get('orderOfEntryIn')">
            <input
              class="form-control"
              formControlName="orderOfEntryIn"
              type="text" />
          </form-field>
        </div>
      </div>

      <div class="row pt-4">
        <div class="col-md-4">
          <form-field [control]="claimsFollowUpDetailForm.get('statusIn')">
            <ngx-select
              (fetchItems)="getStatusSinister($event)"
              [data]="status"
              [form]="claimsFollowUpDetailForm"
              value="id_estatus_siniestro"
              bindLabel="descripcion"
              label="Estatus"
              control="statusIn"></ngx-select>
          </form-field>
        </div>
        <div class="col-md-4">
          <form-field
            [control]="claimsFollowUpDetailForm.get('firstSecondLaterIn')">
            <ngx-select
              [searchable]="false"
              [data]="tipeFirstSecondLater"
              [form]="claimsFollowUpDetailForm"
              value="value"
              bindLabel="description"
              label="1er Capa/2da Capa"
              control="firstSecondLaterIn"></ngx-select>
          </form-field>
        </div>
        <div class="col-md-4">
          <form-field
            [control]="claimsFollowUpDetailForm.get('shapeConclusionIn')">
            <ngx-select
              (fetchItems)="getshapeConclusion($event)"
              [data]="shapeConclusion"
              [form]="claimsFollowUpDetailForm"
              value="id_conclusion_siniestros"
              bindLabel="descripcion"
              label="Forma de Conclusión"
              control="shapeConclusionIn">
            </ngx-select>
          </form-field>
        </div>
      </div>
      <div class="row pt-4">
        <div class="col-md-6">
          <div class="row">
            <form-field
              [control]="claimsFollowUpDetailForm.get('dateIndemnizationIn')"
              label="Fecha Indemnización">
              <input
                type="text"
                formControlName="dateIndemnizationIn"
                class="form-control"
                bsDatepicker
                [bsConfig]="{ adaptivePosition: true }" />
            </form-field>
          </div>
        </div>
        <div class="col-md-6">
          <form-field
            [control]="claimsFollowUpDetailForm.get('letterClaimIn')"
            label="Fecha Carta Reclamación">
            <input
              type="text"
              formControlName="letterClaimIn"
              class="form-control"
              bsDatepicker
              [bsConfig]="{ adaptivePosition: true }" />
          </form-field>
        </div>
      </div>
      <div class="row"></div>
      <div class="row"></div>

      <!-- <div class="row">
        <div class="col-md-12">
          <form-field
            label="Monto indemnizado (pdf)"
            [control]="claimsFollowUpDetailForm.get('docAmountIndemnizedIn')">
            <input
              type="file"
              accept="application/pdf"
              class="form-control pt-4"
              formControlName="docAmountIndemnizedIn"
              (change)="chargeFileDocAmountIndemnizedIn($event)" />
          </form-field>
        </div>
      </div> -->
    </form>
  </div>
  <div footer>
    <div class="d-flex justify-content-center">
      <div class="m-3">
        <confirm-button
          [type]="'button'"
          [disabled]="!claimsFollowUpDetailForm.valid"
          (confirm)="confirm()"></confirm-button>
      </div>
      <div class="m-3">
        <button type="button" class="btn btn-danger active" (click)="close()">
          Cancelar
        </button>
      </div>
    </div>
  </div>
</app-modal>
