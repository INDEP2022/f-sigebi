<app-card [header]="true">
  <div header>
    <div class="ch-content">
      <h5 class="title">Consulta de Tareas</h5>
    </div>
  </div>
  <div body>
    <form
      [formGroup]="consultTasksForm"
      class="form-material"
      (ngSubmit)="getTasks()">
      <div class="row margin-input">
        <div class="col-md-3">
          <form-field
            [control]="consultTasksForm.get('txtTituloTarea')"
            label="Titulo tarea">
            <input
              type="text"
              class="form-control"
              formControlName="txtTituloTarea"
              placeholder="Titulo de la tarea a buscar" />
          </form-field>
        </div>

        <div class="col-md-3">
          <form-field
            [control]="consultTasksForm.get('txtNoProgramacionEntrega')"
            label="No. Programacion Entrega">
            <input
              type="text"
              class="form-control"
              formControlName="txtNoProgramacionEntrega"
              placeholder="No. programacion entrega a buscar" />
          </form-field>
        </div>
      </div>

      <div class="row margin-input">
        <div class="col-md-3">
          <form-field
            [control]="consultTasksForm.get('txtNombreActividad')"
            label="Nombre de la Actividad">
            <input
              type="text"
              class="form-control"
              formControlName="txtNombreActividad"
              placeholder="Nombre de la actividad" />
          </form-field>
        </div>
        <div class="col-md-3">
          <form-field
            [control]="consultTasksForm.get('txtNoOrdenServicio')"
            label="No.Orden de Servicio">
            <input
              type="text"
              class="form-control"
              formControlName="txtNoOrdenServicio"
              placeholder="No Orden de Servicio" />
          </form-field>
        </div>
      </div>
      <div class="row margin-input">
        <div class="col-md-3">
          <form-field
            [control]="consultTasksForm.get('txtAsignado')"
            label="Asignado a">
            <input
              type="text"
              class="form-control"
              formControlName="txtAsignado"
              placeholder="Asignado" />
          </form-field>
        </div>
        <div class="col-md-3">
          <form-field
            [control]="consultTasksForm.get('txtNoOrdenPago')"
            label="No. Orden de Pago">
            <input
              type="text"
              class="form-control"
              formControlName="txtNoOrdenPago"
              placeholder="No Orden de Pago" />
          </form-field>
        </div>
      </div>
      <div class="row margin-input">
        <div class="col-md-3">
          <form-field
            [control]="consultTasksForm.get('txtAprobador')"
            label="Aprobador">
            <input
              type="text"
              class="form-control"
              formControlName="txtAprobador"
              placeholder="Aprobador" />
          </form-field>
        </div>
        <div class="col-md-3">
          <form-field
            [control]="consultTasksForm.get('txtNoOrdenIngreso')"
            label="No. Orden de Ingreso">
            <input
              type="text"
              class="form-control"
              formControlName="txtNoOrdenIngreso"
              placeholder="No. Orden de Ingreso" />
          </form-field>
        </div>
      </div>
      <div class="row margin-input">
        <div class="col-md-3">
          <form-field
            [control]="consultTasksForm.get('txtNombreAplicacion')"
            label="Nombre de la aplicacion">
            <input
              type="text"
              class="form-control"
              formControlName="txtNombreAplicacion"
              placeholder="Nombre de la aplicacion" />
          </form-field>
        </div>
        <div class="col-md-3">
          <form-field
            [control]="consultTasksForm.get('txtNoMuestreo')"
            label="No. Muestreo">
            <input
              type="text"
              class="form-control"
              formControlName="txtNoMuestreo"
              placeholder="No. de Muestreo" />
          </form-field>
        </div>
      </div>
      <div class="row margin-input">
        <div class="col-md-3">
          <form-field
            [control]="consultTasksForm.get('txtFechaAsignacion')"
            label="Fecha de Asignacion">
            <input
              type="text"
              class="form-control"
              formControlName="txtFechaAsignacion"
              placeholder="Fecha de Asignacion" />
          </form-field>
        </div>
        <div class="col-md-3">
          <form-field
            [control]="consultTasksForm.get('txtNoMuestreoOrden')"
            label="No. de Muestreo de Orden">
            <input
              type="text"
              class="form-control"
              formControlName="txtNoMuestreoOrden"
              placeholder="No. de Muestreo de Orden" />
          </form-field>
        </div>
      </div>
      <div class="row margin-input">
        <div class="col-md-3">
          <form-field
            [control]="consultTasksForm.get('txtFechaFin')"
            label="txtFechaFin">
            <input
              type="text"
              class="form-control"
              formControlName="txtFechaFin"
              placeholder="Fecha Finalizacion" />
          </form-field>
        </div>
        <div class="col-md-3">
          <form-field
            [control]="consultTasksForm.get('txtNoDelegacionRegional')"
            label="No. de Delegacion Regional">
            <input
              type="text"
              class="form-control"
              formControlName="txtNoDelegacionRegional"
              placeholder="No. de Delegacion Regional" />
          </form-field>
        </div>
      </div>
      <div class="row margin-input">
        <div class="col-md-3">
          <form-field
            [control]="consultTasksForm.get('txtNoSolicitud')"
            label="No. Solicitud">
            <input
              type="text"
              class="form-control"
              formControlName="txtNoSolicitud"
              placeholder="No. de Solicitud" />
          </form-field>
        </div>
        <div class="col-md-3">
          <form-field
            [control]="consultTasksForm.get('txtNoTransfiriente')"
            label="No. Transfiriente">
            <input
              type="text"
              class="form-control"
              formControlName="txtNoTransfiriente"
              placeholder="No. Transfiriente" />
          </form-field>
        </div>
      </div>
      <div class="row margin-input">
        <div class="col-md-3">
          <form-field
            [control]="consultTasksForm.get('txtNoProgramacion')"
            label="No. de Programacion">
            <input
              type="text"
              class="form-control"
              formControlName="txtNoProgramacion"
              placeholder="No. de Programacion" />
          </form-field>
        </div>
        <div class="col-md-3"></div>
      </div>

      <!-- 
       -->

      <div class="row margin-input">
        <div class="col-md-3">
          <form-field
            [control]="consultTasksForm.get('unlinked')"
            label="Acciones1">
            <input
              type="text"
              class="form-control"
              formControlName="txtSearch"
              placeholder="Tarea a buscar" />
          </form-field>
        </div>
        <div class="col-md-3">
          <!-- <form-field
            [control]="consultTasksForm.get('unlinked1')"
            label="Estatus2">
            <select class="form-control" formControlName="unlinked1">
              <option [value]="0">Todos</option>
              <option [value]="1">Asignado</option>
              <option [value]="2">Completado</option>
              <option [value]="3">Suspendido</option>
              <option [value]="4">Expirado</option>
              <option [value]="5">Error</option>
              <option [value]="6">Alertado</option>
              <option [value]="7">Informaci&oacute;n requerido</option>
            </select>
          </form-field> -->
        </div>
      </div>
    </form>
    <div class="row margin-input">
      <div class="col-md-2">
        <button
          type="button"
          class="btn btn-sm btn-primary active"
          (click)="getTasks()"
          (keydown.enter)="onKeydown($event)">
          Buscar
        </button>
      </div>
      <div class="col-md-2">
        <button
          type="button"
          class="btn btn-sm btn-success active"
          (click)="exportToExcel()">
          Exportar a Excel
        </button>
      </div>
      <div class="col-md-2">
        <button
          type="button"
          class="btn btn-sm btn-secondary active"
          (click)="cleanFilter()">
          Limpiar Filtro
        </button>
      </div>
    </div>

    <div class="row pt-4">
      <div class="col-md-12">
        <div [class]="loading ? 'table-loading' : ''">
          <ng2-smart-table
            [attr.class]="'table-bordered'"
            [settings]="settings"
            [source]="tasks"
            (rowSelect)="openTask($event.data)">
          </ng2-smart-table>
        </div>
      </div>
    </div>
    <app-pagination
      [params]="params"
      [totalItems]="totalItems"></app-pagination>

    <div class="row margin-input">
      <div class="col-md-2">
        <button type="button" class="btn btn-danger active">Cerrar</button>
      </div>
    </div>
  </div>
</app-card>
