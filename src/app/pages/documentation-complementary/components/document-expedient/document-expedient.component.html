<div class="row">
  <h5 class="title">
    <p>
      <a
        class="text-color"
        (click)="showSearchForm = true"
        *ngIf="!showSearchForm">
        <i class="fa fa-angle-right" aria-hidden="true"></i> Búsqueda
        expedientes</a
      >
    </p>

    <p>
      <a
        class="text-color"
        (click)="showSearchForm = false"
        *ngIf="showSearchForm">
        <i class="fa fa-angle-down" aria-hidden="true"></i> Búsqueda
        expedientes</a
      >
    </p>
  </h5>
  <form [formGroup]="documentExpedientForm" class="form-material">
    <div *ngIf="showSearchForm">
      <div class="row pt-4">
        <form-field [control]="documentExpedientForm.get('text')" label="Texto">
          <input type="text" class="form-control" formControlName="text" />
        </form-field>
      </div>

      <div class="row pt-4">
        <form-field [control]="documentExpedientForm.get('typeDocument')">
          <ngx-select
            [form]="documentExpedientForm"
            control="typeDocument"
            [data]="typeDocuments"
            value="id"
            bindLabel="id"
            label="Tipo de documento"
            (fetchItems)="getTypeDocumentSelect($event)"></ngx-select>
        </form-field>
      </div>

      <div class="row pt-4">
        <div class="col-md-4">
          <form-field
            [control]="documentExpedientForm.get('titleDocument')"
            label="Titulo del documento">
            <input
              type="text"
              class="form-control"
              formControlName="titleDocument" />
          </form-field>
        </div>
        <div class="col-md-4">
          <form-field
            [control]="documentExpedientForm.get('noSiab')"
            label="No° SIAB">
            <input type="text" class="form-control" formControlName="noSiab" />
          </form-field>
        </div>
        <div class="col-md-4">
          <form-field
            [control]="documentExpedientForm.get('responsible')"
            label="Responsable">
            <input
              type="text"
              class="form-control"
              formControlName="responsible" />
          </form-field>
        </div>
      </div>

      <div class="row pt-4">
        <div class="col-md-4">
          <form-field
            [control]="documentExpedientForm.get('author')"
            label="Autor">
            <input type="text" class="form-control" formControlName="author" />
          </form-field>
        </div>

        <div class="col-md-4">
          <form-field
            [control]="documentExpedientForm.get('typeTransference')"
            label="Tipo transferencía">
            <input
              type="text"
              class="form-control"
              formControlName="typeTransference" />
          </form-field>
        </div>

        <div class="col-md-4">
          <form-field
            [control]="documentExpedientForm.get('taxpayer')"
            label="Contribuyente">
            <input
              type="text"
              class="form-control"
              formControlName="taxpayer" />
          </form-field>
        </div>
      </div>

      <div class="row pt-4">
        <div class="col-md-4">
          <form-field
            [control]="documentExpedientForm.get('noGestion')"
            label="No° gestión">
            <input
              type="text"
              class="form-control"
              formControlName="noGestion"
              readonly />
          </form-field>
        </div>

        <div class="col-md-4">
          <form-field
            [control]="documentExpedientForm.get('senderCharge')"
            label="Cargo remitente">
            <input
              type="text"
              class="form-control"
              formControlName="senderCharge" />
          </form-field>
        </div>

        <div class="col-md-4">
          <form-field
            [control]="documentExpedientForm.get('comments')"
            label="Comentarios">
            <input
              type="text"
              class="form-control"
              formControlName="comments" />
          </form-field>
        </div>
      </div>
    </div>
    <div class="form-inline justify-content-end btn-toolbar">
      <button class="btn btn-primary btn-sm active">
        <i class="fa fa-search"></i> Buscar
      </button>

      <button *ngIf="showSearchForm" class="btn btn-danger btn-sm active">
        Eliminar
      </button>
    </div>

    <div class="justify-content-right btn-toolbar">
      <app-columns-select [(settings)]="settings"></app-columns-select>

      <button (click)="uploadFiles()" class="btn btn-primary btn-sm active">
        <i class="fa fa-paperclip"></i> Nuevo documento
      </button>
      <button class="btn btn-info btn-sm active">
        <i class="fa fa-search"></i> Buscar
      </button>
    </div>

    <div [class]="loading ? 'table-loading' : ''">
      <ng2-smart-table
        [attr.class]="'table-bordered'"
        [settings]="settings"
        [source]="documentsExpedientData"
        (edit)="showDocument()"
        (delete)="viewDocument()">
      </ng2-smart-table>
    </div>
  </form>
</div>
