<form [formGroup]="documentationSearchExpedientForm" class="form-material">
  <div>
    <h5 class="title">
      <p>
        <a
          class="text-color"
          (click)="showSearchForm = true"
          *ngIf="!showSearchForm">
          <i class="fa fa-angle-right" aria-hidden="true"></i> Búsqueda
          expedientes</a
        >
      </p>

      <p>
        <a
          class="text-color"
          (click)="showSearchForm = false"
          *ngIf="showSearchForm">
          <i class="fa fa-angle-down" aria-hidden="true"></i> Búsqueda
          expedientes</a
        >
      </p>
    </h5>
    <div *ngIf="showSearchForm">
      <div class="row pt-3">
        <div class="col-md-4">
          <form-field
            [control]="documentationSearchExpedientForm.get('requestNumber')"
            label="No. solicitud">
            <input
              type="text"
              class="form-control"
              formControlName="requestNumber" />
          </form-field>
        </div>

        <div class="col-md-4">
          <form-field
            [control]="documentationSearchExpedientForm.get('authority')">
            <ngx-select
              [form]="documentationSearchExpedientForm"
              control="authority"
              [data]="authorities"
              value="id"
              bindLabel="id"
              label="Autoridad"
              (fetchItems)="getAuthoritySelect($event)">
            </ngx-select>
          </form-field>
        </div>

        <div class="col-md-4">
          <form-field
            [control]="documentationSearchExpedientForm.get('typeTransference')"
            label="Tipo transferencía">
            <input
              type="text"
              class="form-control"
              formControlName="typeTransference" />
          </form-field>
        </div>
      </div>

      <div class="row pt-4">
        <div class="col-md-4">
          <form-field
            [control]="documentationSearchExpedientForm.get('expedientNumber')"
            label="No. expediente">
            <input
              type="number"
              class="form-control"
              formControlName="expedientNumber" />
          </form-field>
        </div>
        <div class="col-md-4">
          <form-field
            [control]="documentationSearchExpedientForm.get('indicated')"
            label="Contribuyente y/o indiciado">
            <input
              type="text"
              class="form-control"
              formControlName="indicated" />
          </form-field>
        </div>
        <div class="col-md-4">
          <form-field
            [control]="documentationSearchExpedientForm.get('domainExtinction')"
            label="Extinción de dominio">
            <input
              type="text"
              class="form-control"
              formControlName="domainExtinction" />
          </form-field>
        </div>
      </div>

      <div class="row pt-4">
        <div class="col-md-4">
          <form-field
            [control]="
              documentationSearchExpedientForm.get('regionalDelegation')
            ">
            <ngx-select
              [form]="documentationSearchExpedientForm"
              control="regionalDelegation"
              [data]="regionalsDelegations"
              value="id"
              bindLabel="id"
              label="Delegación regional"
              (fetchItems)="getRegionalDelegationSelect($event)">
            </ngx-select>
          </form-field>
        </div>

        <div class="col-md-4">
          <form-field
            [control]="documentationSearchExpedientForm.get('transferFile')"
            label="Expediente transferente / PAMA">
            <input
              type="text"
              class="form-control"
              formControlName="transferFile" />
          </form-field>
        </div>

        <div class="col-md-4">
          <form-field
            [control]="documentationSearchExpedientForm.get('judgmentType')"
            label="Tipo juicio">
            <input
              type="text"
              class="form-control"
              formControlName="judgmentType" />
          </form-field>
        </div>
      </div>

      <div class="row pt-4">
        <div class="col-md-4">
          <form-field [control]="documentationSearchExpedientForm.get('state')">
            <ngx-select
              [form]="documentationSearchExpedientForm"
              control="state"
              [data]="states"
              value="id"
              bindLabel="id"
              label="Estado"
              (fetchItems)="getStateSelect($event)">
            </ngx-select>
          </form-field>
        </div>

        <div class="col-md-4">
          <form-field
            [control]="documentationSearchExpedientForm.get('judment')"
            label="Juicio">
            <input type="text" class="form-control" formControlName="judment" />
          </form-field>
        </div>

        <div class="col-md-4">
          <form-field
            [control]="
              documentationSearchExpedientForm.get('inquiryPreliminary')
            "
            label="Averiguación prevía">
            <input
              type="text"
              class="form-control"
              formControlName="inquiryPreliminary" />
          </form-field>
        </div>
      </div>

      <div class="row pt-4">
        <div class="col-md-4">
          <form-field
            [control]="documentationSearchExpedientForm.get('transferent')">
            <ngx-select
              [form]="documentationSearchExpedientForm"
              control="transferent"
              [data]="transferents"
              value="id"
              bindLabel="id"
              label="Transferente"
              (fetchItems)="getTransferentSelect($event)">
            </ngx-select>
          </form-field>
        </div>

        <div class="col-md-4">
          <form-field
            [control]="documentationSearchExpedientForm.get('casePenal')"
            label="Causa penal">
            <input
              type="text"
              class="form-control"
              formControlName="casePenal" />
          </form-field>
        </div>
      </div>

      <div class="row pt-4">
        <div class="col-md-4">
          <form-field
            [control]="documentationSearchExpedientForm.get('station')">
            <ngx-select
              [form]="documentationSearchExpedientForm"
              control="station"
              [data]="stations"
              value="id"
              bindLabel="id"
              label="Emisora"
              (fetchItems)="getStationSelect($event)">
            </ngx-select>
          </form-field>
        </div>

        <div class="col-md-4">
          <form-field
            [control]="documentationSearchExpedientForm.get('protectionNumber')"
            label="No° Amparo">
            <input
              type="text"
              class="form-control"
              formControlName="protectionNumber" />
          </form-field>
        </div>
      </div>
    </div>

    <div class="form-inline justify-content-end btn-toolbar">
      <button class="btn btn-primary btn-sm active">
        <i class="fa fa-search"></i> Buscar
      </button>

      <button *ngIf="showSearchForm" class="btn btn-danger btn-sm active">
        Limpiar
      </button>
    </div>

    <div class="row">
      <div class="btn-toolbar pt-5">
        <app-columns-select [(settings)]="settings"></app-columns-select>
        <button (click)="newExpedient()" class="btn btn-primary btn-sm active">
          <i class="fa fa-file-archive"></i> Nuevo expediente
        </button>
      </div>

      <ng2-smart-table
        [attr.class]="'table-bordered'"
        [settings]="settings"
        [source]="associateExpedients">
      </ng2-smart-table>
      <app-pagination
        [params]="params"
        [totalItems]="totalItems"></app-pagination>
    </div>

    <div class="row pt-4">
      <h5 class="title">Bienes de solicitud de transferencía</h5>
      <div class="row">
        <div class="d-flex justify-content-right">
          <app-columns-select
            [(settings)]="settingsTranGoods"></app-columns-select>
        </div>
        <ng2-smart-table
          [attr.class]="'table-bordered'"
          [settings]="settingsTranGoods"
          [source]="receipts">
        </ng2-smart-table>
        <app-pagination
          [params]="params"
          [totalItems]="totalItems"></app-pagination>
      </div>
    </div>
  </div>
</form>
