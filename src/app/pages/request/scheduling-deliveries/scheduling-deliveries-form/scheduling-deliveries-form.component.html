<app-card [header]="true">
  <div class="ch-content" header>
    <h5 class="title">Nueva programaci&oacute;n entrega</h5>
  </div>
  <div body>
    <div class="justify-content-end btn-toolbar">
      <button
        (click)="sendProgramming()"
        type="button"
        class="btn btn-primary btn-sm active mr-2">
        Enviar programaci&oacute;n <i class="bx bx-send"></i>
      </button>

      <confirm-button
        [disabled]="!schedulingDeliverieForm.valid"
        [loading]="loading"
        [btnSmall]="true"
        (click)="saveProgDelivery()"></confirm-button>
      <!--<button
       
        type="button"
        class="btn btn btn-primary btn-sm active">
        Guardar <i aria-hidden="true" class="fa fa-save"></i>
      </button> -->

      <button (click)="close()" class="btn btn-primary btn-sm active">
        Regresar <i class="fas fa-arrow-circle-left"></i>
      </button>
    </div>

    <h5 class="title">
      <p>
        <a
          class="text-color"
          (click)="showDetailProgramming = true"
          *ngIf="!showDetailProgramming">
          <i class="fa fa-angle-down" aria-hidden="true"></i> Detalle
          Programaci&oacute;n Entrega</a
        >
      </p>

      <p>
        <a
          class="text-color"
          (click)="showDetailProgramming = false"
          *ngIf="showDetailProgramming">
          <i class="fa fa-angle-right" aria-hidden="true"></i>
          Detalle Programaci&oacute;n Entrega</a
        >
      </p>
    </h5>

    <form [formGroup]="schedulingDeliverieForm" class="form-material">
      <div class="row pt-3" *ngIf="!showDetailProgramming">
        <div class="col-md-6">
          <div class="pt-3" *ngIf="disabledTypeEvent == false">
            <ngx-select
              [form]="schedulingDeliverieForm"
              control="typeEvent"
              [data]="TypeEventOptions"
              value="id"
              (change)="typeEventSelect($event, 'typeEvent')"
              bindLabel="nameEvent"
              label="Tipo de Evento"></ngx-select>
          </div>
          <div class="pt-3" *ngIf="disabledTypeEvent == true">
            <ngx-select
              [form]="schedulingDeliverieForm"
              control="typeEventInfo"
              [data]="TypeEventOptions"
              value="nameEvent"
              [readonly]="true"
              (change)="typeEventSelect($event, 'typeEvent')"
              bindLabel="nameEvent"
              label="Tipo de Evento"></ngx-select>
          </div>

          <div class="pt-3">
            <form-field
              [control]="schedulingDeliverieForm.get('startDate')"
              label="Fecha Inicio de Entrega">
              <input
                class="form-control"
                formControlName="startDate"
                [minDate]="date"
                (ngModelChange)="startDateSelect($event)"
                [daysDisabled]="[6, 0]"
                [bsConfig]="{
                  withTimepicker: true,
                  rangeInputFormat: 'DD/MM/YYYY HH:mm:ss',
                  dateInputFormat: 'DD/MM/YYYY HH:mm:ss',
                  keepDatepickerOpened: true
                }"
                bsDatepicker />
            </form-field>
          </div>

          <div class="pt-3" *ngIf="disableTransfer == false">
            <form-field [control]="schedulingDeliverieForm.get('transferId')">
              <ngx-select
                [form]="schedulingDeliverieForm"
                control="transferId"
                [showTooltip]="true"
                [data]="transferences"
                value="id"
                bindLabel="nameAndId"
                label="Transferente"
                (change)="typeEventSelect($event, 'transferent')"
                (fetchItems)="getTransferentSelect($event)"></ngx-select>
            </form-field>
          </div>

          <div class="pt-3" *ngIf="disableTransfer == true">
            <form-field [control]="schedulingDeliverieForm.get('transferName')">
              <ngx-select
                [form]="schedulingDeliverieForm"
                control="transferName"
                [showTooltip]="true"
                [readonly]="true"
                [data]="transferences"
                value="nameAndId"
                bindLabel="nameAndId"
                label="Transferente"
                (change)="typeEventSelect($event, 'transferent')"
                (fetchItems)="getTransferentSelect($event)"></ngx-select>
            </form-field>
          </div>
        </div>

        <div class="col-md-6">
          <div class="pt-3" *ngIf="disableStore == false">
            <ngx-select
              [form]="schedulingDeliverieForm"
              control="store"
              [data]="warehouse"
              value="organizationCode"
              bindLabel="name"
              label="Almac&eacute;n"
              (change)="typeEventSelect($event, 'organization')"
              (fetchItems)="getWarehouseSelect($event)"></ngx-select>
          </div>

          <div class="pt-3" *ngIf="disableStore == true">
            <ngx-select
              [form]="schedulingDeliverieForm"
              control="storeName"
              [data]="warehouse"
              value="name"
              bindLabel="name"
              [readonly]="true"
              label="Almac&eacute;n"
              (fetchItems)="getWarehouseSelect($event)"></ngx-select>
          </div>

          <div class="pt-3">
            <form-field
              [control]="schedulingDeliverieForm.get('endDate')"
              label="Fecha Final de Entrega">
              <input
                class="form-control"
                [daysDisabled]="[6, 0]"
                [bsConfig]="{
                  withTimepicker: true,
                  rangeInputFormat: 'DD/MM/YYYY HH:mm:ss',
                  dateInputFormat: 'DD/MM/YYYY HH:mm:ss',
                  keepDatepickerOpened: true
                }"
                formControlName="endDate"
                bsDatepicker />
            </form-field>
          </div>

          <div class="pt-3" *ngIf="idTypeEvent == 1">
            <ngx-select
              [form]="schedulingDeliverieForm"
              control="client"
              [data]="clients"
              value="client"
              bindLabel="client"
              label="Cliente"
              (fetchItems)="getClientSelect($event)"></ngx-select>
          </div>
        </div>
        <div class="col-md-12">
          <div class="pt-3">
            <p>
              En la siguiente l&iacute;nea escriba los correos
              electr&oacute;nicos a los que desea enviar informaci&oacute;n de
              la programaci&oacute;n, debe separar los correos con ; como:
              ejemplo@correo.com; ejemplo@correo.com.
            </p>
          </div>
          <div class="pt-3">
            <form-field
              [control]="schedulingDeliverieForm.get('email')"
              label="Correos Electr&oacute;nicos">
              <textarea
                class="form-control"
                maxlength="255"
                formControlName="email"></textarea>
            </form-field>
          </div>
        </div>
      </div>

      <h5 class="title pt-5" *ngIf="idTypeEvent == 5">
        <p>
          <a
            class="text-color"
            (click)="showDetailProgrammingDes = true"
            *ngIf="!showDetailProgrammingDes">
            <i class="fa fa-angle-right" aria-hidden="true"></i> Detalles
            Programación por Destrucción</a
          >
        </p>

        <p>
          <a
            class="text-color"
            (click)="showDetailProgrammingDes = false"
            *ngIf="showDetailProgrammingDes">
            <i class="fa fa-angle-down" aria-hidden="true"></i> Detalles
            Programación por Destrucción</a
          >
        </p>
      </h5>

      <div
        class="row pt-3"
        *ngIf="idTypeEvent == 5 && showDetailProgrammingDes">
        <div class="justify-content-end btn-toolbar">
          <button
            *ngIf="isReadOnlyDes == 'N'"
            (click)="generateConDestruccion()"
            class="btn btn-primary btn-sm active">
            Generar constancias de destrucción <i class="fa fa-file"></i>
          </button>

          <button
            *ngIf="isReadOnlyDes == 'Y'"
            class="btn btn-primary btn-sm active">
            Expediente <i class="fa fa-file"></i>
          </button>

          <button
            (click)="notificationDestruccion()"
            class="btn btn-success btn-sm active">
            Notificación para destrucción <i class="fa fa-file"></i>
          </button>
          <button
            (click)="notificationDestruccionFond()"
            class="btn btn-primary btn-sm active">
            Notificación destrucción fondos <i class="fa fa-file"></i>
          </button>
        </div>
      </div>

      <div *ngIf="idTypeEvent == 5 && showDetailProgrammingDes" class="pt-4">
        <div class="row pt-5">
          <div class="col-md-6">
            <form-field
              *ngIf="programmingDeliveryInfo.statusNotification == 'N'"
              [control]="schedulingDeliverieForm.get('officeDestructionNumber')"
              label="No. de Oficio">
              <input
                class="form-control"
                maxlength="100"
                formControlName="officeDestructionNumber" />
            </form-field>
            <form-field
              *ngIf="programmingDeliveryInfo.statusNotification == 'Y'"
              [control]="schedulingDeliverieForm.get('officeDestructionNumber')"
              label="No. de Oficio">
              <input
                class="form-control"
                maxlength="100"
                [readOnly]="true"
                formControlName="officeDestructionNumber" />
            </form-field>
          </div>

          <div class="col-md-6">
            <form-field
              *ngIf="programmingDeliveryInfo.statusNotification == 'N'"
              [control]="schedulingDeliverieForm.get('company')"
              label="Empresa">
              <input
                class="form-control"
                maxlength="250"
                formControlName="company" />
            </form-field>
            <form-field
              *ngIf="programmingDeliveryInfo.statusNotification == 'Y'"
              [control]="schedulingDeliverieForm.get('company')"
              label="Empresa">
              <input
                class="form-control"
                maxlength="250"
                [readOnly]="true"
                formControlName="company" />
            </form-field>
          </div>
        </div>

        <div class="row pt-4">
          <div class="col-md-6">
            <form-field
              *ngIf="programmingDeliveryInfo.statusNotification == 'N'"
              [control]="schedulingDeliverieForm.get('addressee')"
              label="Nombre Destinatario">
              <input
                class="form-control"
                maxlength="100"
                formControlName="addressee" />
            </form-field>
            <form-field
              *ngIf="programmingDeliveryInfo.statusNotification == 'Y'"
              [control]="schedulingDeliverieForm.get('addressee')"
              label="Nombre Destinatario">
              <input
                class="form-control"
                maxlength="100"
                [readOnly]="true"
                formControlName="addressee" />
            </form-field>
          </div>

          <div class="col-md-6">
            <form-field
              *ngIf="programmingDeliveryInfo.statusNotification == 'N'"
              [control]="schedulingDeliverieForm.get('placeDestruction')"
              label="Lugar Destrucción">
              <input
                class="form-control"
                maxlength="250"
                formControlName="placeDestruction" />
            </form-field>
            <form-field
              *ngIf="programmingDeliveryInfo.statusNotification == 'Y'"
              [control]="schedulingDeliverieForm.get('placeDestruction')"
              label="Lugar Destrucción">
              <input
                class="form-control"
                maxlength="250"
                [readOnly]="true"
                formControlName="placeDestruction" />
            </form-field>
          </div>
        </div>

        <div class="row pt-4">
          <div class="col-md-6">
            <form-field
              *ngIf="programmingDeliveryInfo.statusNotification == 'N'"
              [control]="schedulingDeliverieForm.get('chargeAddressee')"
              label="Cargo Destinatario">
              <input
                class="form-control"
                maxlength="150"
                formControlName="chargeAddressee" />
            </form-field>
            <form-field
              *ngIf="programmingDeliveryInfo.statusNotification == 'Y'"
              [control]="schedulingDeliverieForm.get('chargeAddressee')"
              label="Cargo Destinatario">
              <input
                class="form-control"
                [readOnly]="true"
                maxlength="150"
                formControlName="chargeAddressee" />
            </form-field>
          </div>

          <div class="col-md-6">
            <form-field
              *ngIf="programmingDeliveryInfo.statusNotification == 'N'"
              [control]="schedulingDeliverieForm.get('locationDestruction')"
              label="Ubicación Destrucción">
              <input
                class="form-control"
                maxlength="250"
                formControlName="locationDestruction" />
            </form-field>
            <form-field
              *ngIf="programmingDeliveryInfo.statusNotification == 'Y'"
              [control]="schedulingDeliverieForm.get('locationDestruction')"
              label="Ubicación Destrucción">
              <input
                class="form-control"
                [readOnly]="true"
                maxlength="250"
                formControlName="locationDestruction" />
            </form-field>
          </div>
        </div>

        <div class="row pt-4">
          <div class="col-md-6">
            <form-field
              *ngIf="programmingDeliveryInfo.statusNotification == 'N'"
              [control]="schedulingDeliverieForm.get('addressAddressee')"
              label="Dirección Destinatario">
              <input
                class="form-control"
                maxlength="250"
                formControlName="addressAddressee" />
            </form-field>
            <form-field
              *ngIf="programmingDeliveryInfo.statusNotification == 'Y'"
              [control]="schedulingDeliverieForm.get('addressAddressee')"
              label="Dirección Destinatario">
              <input
                class="form-control"
                [readOnly]="true"
                maxlength="250"
                formControlName="addressAddressee" />
            </form-field>
          </div>

          <div class="col-md-6">
            <form-field
              *ngIf="programmingDeliveryInfo.statusNotification == 'N'"
              [control]="schedulingDeliverieForm.get('taxpayerName')"
              label="Nombre Contribuyente">
              <input
                class="form-control"
                maxlength="150"
                formControlName="taxpayerName" />
            </form-field>
            <form-field
              *ngIf="programmingDeliveryInfo.statusNotification == 'Y'"
              [control]="schedulingDeliverieForm.get('taxpayerName')"
              label="Nombre Contribuyente">
              <input
                class="form-control"
                maxlength="150"
                [readOnly]="true"
                formControlName="taxpayerName" />
            </form-field>
          </div>
        </div>

        <div class="row pt-4">
          <div class="col-md-6">
            <form-field
              *ngIf="programmingDeliveryInfo.statusNotification == 'N'"
              [control]="schedulingDeliverieForm.get('metodDestruction')"
              label="Método Destrucción">
              <input
                class="form-control"
                maxlength="150"
                formControlName="metodDestruction" />
            </form-field>
            <form-field
              *ngIf="programmingDeliveryInfo.statusNotification == 'Y'"
              [control]="schedulingDeliverieForm.get('metodDestruction')"
              label="Método Destrucción">
              <input
                class="form-control"
                maxlength="150"
                [readOnly]="true"
                formControlName="metodDestruction" />
            </form-field>
          </div>

          <div class="col-md-6">
            <form-field
              *ngIf="programmingDeliveryInfo.statusNotification == 'N'"
              [control]="schedulingDeliverieForm.get('legalRepresentativeName')"
              label="Nombre Representante Legal">
              <input
                class="form-control"
                maxlength="150"
                formControlName="legalRepresentativeName" />
            </form-field>
            <form-field
              *ngIf="programmingDeliveryInfo.statusNotification == 'Y'"
              [control]="schedulingDeliverieForm.get('legalRepresentativeName')"
              label="Nombre Representante Legal">
              <input
                class="form-control"
                [readOnly]="true"
                maxlength="150"
                formControlName="legalRepresentativeName" />
            </form-field>
          </div>
        </div>

        <div class="row pt-4">
          <div class="col-md-6">
            <form-field
              *ngIf="programmingDeliveryInfo.statusNotification == 'N'"
              [control]="schedulingDeliverieForm.get('term')"
              label="Plazo (días)">
              <input
                class="form-control"
                maxlength="20"
                formControlName="term" />
            </form-field>
            <form-field
              *ngIf="programmingDeliveryInfo.statusNotification == 'Y'"
              [control]="schedulingDeliverieForm.get('term')"
              label="Plazo (días)">
              <input
                class="form-control"
                maxlength="20"
                [readOnly]="true"
                formControlName="term" />
            </form-field>
          </div>
        </div>
      </div>
    </form>
    <!--Destrucción-->

    <h5 class="title pt-3" *ngIf="idTypeEvent == 5">
      <p>
        <a
          class="text-color"
          (click)="filterDestruction = true"
          *ngIf="!filterDestruction">
          <i class="fa fa-angle-right" aria-hidden="true"></i> Filtrar
          Destrucción</a
        >
      </p>

      <p>
        <a
          class="text-color"
          (click)="filterDestruction = false"
          *ngIf="filterDestruction">
          <i class="fa fa-angle-down" aria-hidden="true"></i> Filtrar
          Destrucción</a
        >
      </p>
    </h5>

    <div *ngIf="idTypeEvent == 5 && filterDestruction" class="pt-3">
      <form [formGroup]="searchDestructionForm" class="form-material">
        <div class="row pt-4">
          <div class="col-md-6">
            <form-field
              [control]="searchDestructionForm.get('quantity')"
              label="Cantidad Bienes">
              <input
                class="form-control"
                maxlength="50"
                formControlName="quantity" />
            </form-field>
          </div>

          <div class="col-md-6">
            <form-field
              [control]="searchDestructionForm.get('managementNum')"
              label="No. Gestión">
              <input
                class="form-control"
                maxlength="50"
                formControlName="managementNum" />
            </form-field>
          </div>
        </div>

        <div class="row pt-4">
          <div class="col-md-4">
            <form-field
              [control]="searchDestructionForm.get('descriptionGood')"
              label="Descripción Bien">
              <input
                class="form-control"
                maxlength="250"
                formControlName="descriptionGood" />
            </form-field>
          </div>

          <div class="col-md-4">
            <form-field
              [control]="searchDestructionForm.get('inventoryNum')"
              label="No. Inventario">
              <input
                class="form-control"
                maxlength="100"
                formControlName="inventoryNum" />
            </form-field>
          </div>

          <div class="col-md-4">
            <form-field
              [control]="searchDestructionForm.get('bienSiabNum')"
              label="No. INDEP">
              <input
                class="form-control"
                maxlength="100"
                formControlName="bienSiabNum" />
            </form-field>
          </div>
        </div>
      </form>

      <div class="form-inline justify-content-end pt-3">
        <button
          (click)="showGoodsInventory()"
          class="btn btn-primary btn-sm active mr-2">
          Buscar <i class="bx bx-search-alt bx-sm float-icon"></i>
        </button>
        <button
          (click)="cleanSearchForm()"
          class="btn btn-danger btn-sm active">
          Limpiar <i class="fa fa-eraser"></i>
        </button>
      </div>

      <div class="row pt-4">
        <div class="btn-toolbar pt-3">
          <app-columns-select
            [(settings)]="settingsSearchDest"></app-columns-select>
        </div>
        <div [class]="loadingGoodsDest ? 'table-loading' : ''">
          <ng2-smart-table
            (userRowSelect)="goodsSelectDest($event.selected)"
            [attr.class]="'table-bordered table-responsive pt-3'"
            [settings]="settingsSearchDest"
            event
            [source]="infoGoodDestruction">
          </ng2-smart-table>
          <app-pagination
            [params]="paramsSearchDest"
            [totalItems]="totalItemsSearchDest"></app-pagination>
        </div>
      </div>
    </div>

    <!--Devolución-->
    <h5 class="title pt-3" *ngIf="idTypeEvent == 4">
      <p>
        <a
          class="text-color"
          (click)="filterDevolution = true"
          *ngIf="!filterDevolution">
          <i class="fa fa-angle-right" aria-hidden="true"></i> Filtrar
          Devolución</a
        >
      </p>

      <p>
        <a
          class="text-color"
          (click)="filterDevolution = false"
          *ngIf="filterDevolution">
          <i class="fa fa-angle-down" aria-hidden="true"></i> Filtrar
          Devolución</a
        >
      </p>
    </h5>

    <div *ngIf="idTypeEvent == 4 && filterDevolution" class="pt-3">
      <form [formGroup]="searchDevolutionForm" class="form-material">
        <div class="row pt-4">
          <div class="col-md-6">
            <form-field
              [control]="searchDevolutionForm.get('quantity')"
              label="Cantidad Bienes">
              <input
                class="form-control"
                maxlength="100"
                formControlName="quantity" />
            </form-field>
          </div>

          <div class="col-md-6">
            <form-field
              [control]="searchDevolutionForm.get('managementNum')"
              label="No. Gestión">
              <input
                class="form-control"
                maxlength="100"
                formControlName="managementNum" />
            </form-field>
          </div>
        </div>

        <div class="row pt-4">
          <div class="col-md-4">
            <form-field
              [control]="searchDevolutionForm.get('descriptionGood')"
              label="Descripción Bien">
              <input
                class="form-control"
                maxlength="250"
                formControlName="descriptionGood" />
            </form-field>
          </div>

          <div class="col-md-4">
            <form-field
              [control]="searchDevolutionForm.get('inventoryNum')"
              label="No. Inventario">
              <input
                class="form-control"
                maxlength="100"
                formControlName="inventoryNum" />
            </form-field>
          </div>

          <div class="col-md-4">
            <form-field
              [control]="searchDevolutionForm.get('bienSiabNum')"
              label="No. INDEP">
              <input
                class="form-control"
                maxlength="100"
                formControlName="bienSiabNum" />
            </form-field>
          </div>
        </div>
      </form>

      <div class="form-inline justify-content-end pt-3">
        <button
          (click)="showGoodsInventory()"
          class="btn btn-primary btn-sm active mr-2">
          Buscar <i class="bx bx-search-alt bx-sm float-icon"></i>
        </button>
        <button
          (click)="cleanSearchForm()"
          class="btn btn-danger btn-sm active">
          Limpiar <i class="fa fa-eraser"></i>
        </button>
      </div>

      <div class="row pt-4">
        <div class="btn-toolbar pt-3">
          <app-columns-select
            [(settings)]="settingsSearchDevol"></app-columns-select>
        </div>

        <div [class]="loadingGoodsDevolution ? 'table-loading' : ''">
          <ng2-smart-table
            [attr.class]="'table-bordered table-responsive pt-3'"
            [settings]="settingsSearchDevol"
            [source]="infoGoodDevolution">
          </ng2-smart-table>
          <app-pagination
            [params]="paramsSearchDevol"
            [totalItems]="totalItemsSearchDevol"></app-pagination>
        </div>
      </div>
    </div>

    <!--Donación-->

    <h5 class="title pt-3" *ngIf="idTypeEvent == 2">
      <p>
        <a
          class="text-color"
          (click)="filterDonation = true"
          *ngIf="!filterDonation">
          <i class="fa fa-angle-right" aria-hidden="true"></i> Filtrar
          Donación</a
        >
      </p>

      <p>
        <a
          class="text-color"
          (click)="filterDonation = false"
          *ngIf="filterDonation">
          <i class="fa fa-angle-down" aria-hidden="true"></i> Filtrar
          Donación</a
        >
      </p>
    </h5>

    <div *ngIf="idTypeEvent == 2 && filterDonation" class="pt-3">
      <form [formGroup]="searchDonationForm" class="form-material">
        <div class="row pt-4">
          <div class="col-md-6">
            <form-field
              [control]="searchDonationForm.get('quantity')"
              label="Cantidad Bienes">
              <input
                class="form-control"
                maxlength="100"
                formControlName="quantity" />
            </form-field>
          </div>

          <div class="col-md-6">
            <form-field
              [control]="searchDonationForm.get('managementNum')"
              label="No. Gestión">
              <input
                class="form-control"
                maxlength="100"
                formControlName="managementNum" />
            </form-field>
          </div>
        </div>

        <div class="row pt-4">
          <div class="col-md-4">
            <form-field
              [control]="searchDonationForm.get('descriptionGood')"
              label="Descripción Bien">
              <input
                class="form-control"
                maxlength="250"
                formControlName="descriptionGood" />
            </form-field>
          </div>

          <div class="col-md-4">
            <form-field
              [control]="searchDonationForm.get('inventoryNum')"
              label="No. Inventario">
              <input
                class="form-control"
                maxlength="100"
                formControlName="inventoryNum" />
            </form-field>
          </div>

          <div class="col-md-4">
            <form-field
              [control]="searchDonationForm.get('bienSiabNum')"
              label="No. INDEP">
              <input
                class="form-control"
                maxlength="100"
                formControlName="bienSiabNum" />
            </form-field>
          </div>
        </div>
      </form>

      <div class="form-inline justify-content-end pt-3">
        <button
          (click)="showGoodsInventory()"
          class="btn btn-primary btn-sm active mr-2">
          Buscar <i class="bx bx-search-alt bx-sm float-icon"></i>
        </button>
        <button
          (click)="cleanSearchForm()"
          class="btn btn-danger btn-sm active">
          Limpiar <i class="fa fa-eraser"></i>
        </button>
      </div>

      <div class="row pt-4">
        <div class="btn-toolbar pt-3">
          <app-columns-select
            [(settings)]="settingsSearchDonation"></app-columns-select>
        </div>
        <div [class]="loadingGoodsDonation ? 'table-loading' : ''">
          <ng2-smart-table
            [attr.class]="'table-bordered table-responsive pt-3'"
            [settings]="settingsSearchDonation"
            [source]="infoGoodDonation">
          </ng2-smart-table>
          <app-pagination
            [params]="paramsSearchDonation"
            [totalItems]="totalItemsSearchDonation"></app-pagination>
        </div>
      </div>
    </div>

    <!--Ventas-->

    <h5 class="title pt-3" *ngIf="idTypeEvent == 1">
      <p>
        <a class="text-color" (click)="filterSales = true" *ngIf="!filterSales">
          <i class="fa fa-angle-right" aria-hidden="true"></i> Filtrar Ventas</a
        >
      </p>

      <p>
        <a class="text-color" (click)="filterSales = false" *ngIf="filterSales">
          <i class="fa fa-angle-down" aria-hidden="true"></i> Filtrar Ventas</a
        >
      </p>
    </h5>

    <div *ngIf="idTypeEvent == 1 && filterSales" class="pt-5">
      <form [formGroup]="searchSalesForm" class="form-material">
        <div class="row pt-4">
          <div class="col-md-6">
            <form-field
              [control]="searchSalesForm.get('descriptionGood')"
              label="Descripción Bien">
              <input
                class="form-control"
                maxlength="250"
                formControlName="descriptionGood" />
            </form-field>
          </div>

          <div class="col-md-6">
            <form-field
              [control]="searchSalesForm.get('bienSiabNum')"
              label="No. INDEP">
              <input
                class="form-control"
                maxlength="250"
                formControlName="bienSiabNum" />
            </form-field>
          </div>
        </div>

        <div class="row pt-4">
          <div class="col-md-6">
            <form-field
              [control]="searchSalesForm.get('commercialEvent')"
              label="Evento Comercial">
              <input
                class="form-control"
                maxlength="250"
                formControlName="commercialEvent" />
            </form-field>
          </div>

          <div class="col-md-6">
            <form-field
              [control]="searchSalesForm.get('managementNum')"
              label="No. Gestión">
              <input
                class="form-control"
                maxlength="250"
                formControlName="managementNum" />
            </form-field>
          </div>
        </div>

        <div class="row pt-4">
          <div class="col-md-6">
            <form-field [control]="searchSalesForm.get('bill')" label="Factura">
              <input
                class="form-control"
                maxlength="250"
                formControlName="bill" />
            </form-field>
          </div>

          <div class="col-md-6">
            <form-field
              [control]="searchSalesForm.get('inventoryNum')"
              label="No. Inventario">
              <input
                class="form-control"
                maxlength="250"
                formControlName="inventoryNum" />
            </form-field>
          </div>
        </div>
        <div class="row pt-4">
          <div class="col-md-6">
            <form-field
              [control]="searchSalesForm.get('commercialLot')"
              label="Lote Comercial">
              <input
                class="form-control"
                maxlength="250"
                formControlName="commercialLot" />
            </form-field>
          </div>
        </div>
      </form>

      <div class="form-inline justify-content-end pt-3">
        <button
          (click)="showGoodsInventory()"
          class="btn btn-primary btn-sm active mr-2">
          Buscar <i class="bx bx-search-alt bx-sm float-icon"></i>
        </button>
        <button
          (click)="cleanSearchForm()"
          class="btn btn-danger btn-sm active">
          Limpiar <i class="fa fa-eraser"></i>
        </button>
      </div>

      <div class="row pt-4">
        <div class="btn-toolbar pt-3">
          <app-columns-select
            [(settings)]="settingsSearchSales"></app-columns-select>
        </div>
        <div [class]="loadingGoodsSales ? 'table-loading' : ''">
          <ng2-smart-table
            [attr.class]="'table-bordered table-responsive pt-3'"
            [settings]="settingsSearchSales"
            [source]="infoGoodSales">
          </ng2-smart-table>
          <app-pagination
            [params]="paramsSearchSales"
            [totalItems]="totalItemsSearchSales"></app-pagination>
        </div>
      </div>
    </div>

    <h5 class="title">
      <p>
        <a
          class="text-color"
          (click)="filterPreviewGood = true"
          *ngIf="!filterPreviewGood">
          <i class="fa fa-angle-right" aria-hidden="true"></i> Vista Previa de
          Bienes a Programar</a
        >
      </p>

      <p>
        <a
          class="text-color"
          (click)="filterPreviewGood = false"
          *ngIf="filterPreviewGood">
          <i class="fa fa-angle-down" aria-hidden="true"></i> Vista Previa de
          Bienes a Programar</a
        >
      </p>
    </h5>

    <div class="row pt-3" *ngIf="filterPreviewGood">
      <div class="btn-toolbar pt-3">
        <app-columns-select [(settings)]="settings"></app-columns-select>
        <button
          (click)="addGoodsProgrammingDelivery()"
          class="btn btn-primary btn-sm active">
          Agregar <i class="bx bx-plus bx-sm float-icon"></i>
        </button>
        <button class="btn btn-danger btn-sm active">
          Eliminar <i class="fa fa-trash" aria-hidden="true"></i>
        </button>
      </div>
      <div [class]="loading ? 'table-loading' : ''">
        <ng2-smart-table
          [attr.class]="'table-bordered table-responsive pt-3'"
          [settings]="settings"
          [source]="goodsToProgramData">
        </ng2-smart-table>
        <app-pagination
          [params]="params"
          [totalItems]="totalItems"></app-pagination>
      </div>
    </div>
  </div>
</app-card>
