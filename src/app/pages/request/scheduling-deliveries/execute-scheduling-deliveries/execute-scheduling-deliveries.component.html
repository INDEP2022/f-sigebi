<app-card [header]="true">
  <div class="ch-content" header>
    <h5 class="title">Ejecutar programaci&oacute;n de entrega</h5>
  </div>
  <div body style="margin-top: -30px">
    <h5 class="title">
      <p>
        <a
          class="text-color"
          (click)="showSearchForm = true"
          *ngIf="!showSearchForm">
          <i class="fa fa-angle-right" aria-hidden="true"></i> Detalles
          programaci&oacute;n</a
        >
      </p>

      <p>
        <a
          class="text-color"
          (click)="showSearchForm = false"
          *ngIf="showSearchForm">
          <i class="fa fa-angle-down" aria-hidden="true"></i> Detalles
          programaci&oacute;n</a
        >
      </p>
    </h5>

    <div *ngIf="showSearchForm">
      <div class="row">
        <div class="col-md-5">
          <form class="form-horizontal" style="margin: 0 auto">
            <div class="form-group">
              <label class="col-lg-5 text-right">Tipo evento:</label>
              <span> {{ programmingDetailPanel.typeEvent }} </span>
            </div>

            <div class="form-group">
              <label class="col-lg-5 text-right">Folio:</label>
              <span> {{ programmingDetailPanel.folio }} </span>
            </div>

            <div class="form-group">
              <label class="col-lg-5 text-right">Transferente:</label>
              <span> {{ programmingDetailPanel.transferId }} </span>
            </div>

            <div class="form-group">
              <label class="col-lg-5 text-right">Fecha page entrega:</label>
              <span>
                {{ programmingDetailPanel.startDate | date : 'MM/dd/yy' }}
              </span>
            </div>
          </form>
        </div>

        <div class="col-md-6">
          <form class="form-horizontal" style="margin: 0 auto">
            <div class="form-group">
              <label class="col-lg-4 text-right">Fecha final entrega:</label>
              <span>
                {{ programmingDetailPanel.endDate | date : 'MM/dd/yy' }}
              </span>
            </div>

            <div class="form-group">
              <label class="col-lg-4 text-right">Almac&eacute;n:</label>
              <span> {{ programmingDetailPanel.store }} </span>
            </div>

            <div class="form-group">
              <label class="col-lg-4 text-right">Cliente:</label>
              <span> {{ programmingDetailPanel.client }} </span>
            </div>
          </form>
        </div>
        <div class="col-md-6" *ngIf="programmingDetailPanel?.typeUser == 'TLP'">
          <div class="form-group">
            <label class="col-lg-4 text-right">Correo Direcci√≥n:</label>
            <span> {{ programmingDetailPanel.emailAddressCenterTe }} </span>
          </div>
        </div>
      </div>
    </div>
    <hr />
    <div class="row pt-3">
      <h5 class="title">Ejecuci&oacute;n entrega de bienes</h5>
      <div class="form-inline justify-content-end btn-toolbar">
        <a
          *ngIf="programmingDetailPanel.status == 'EJECUTAR_ENTREGA'"
          style="cursor: pointer"
          (click)="certificateDelivery(1)"
          class="link-primary"
          >Constancia entregados
          <i class="fa fa-folder-open" aria-hidden="true"></i></a
        >&nbsp;
        <a
          (click)="certificateDelivery(2)"
          style="cursor: pointer"
          class="link-primary"
          >Constancia no entregados
          <i class="fa fa-folder-open" aria-hidden="true"></i></a
        >&nbsp;
        <a
          (click)="certificateDelivery(3)"
          style="cursor: pointer"
          class="link-primary"
          >Constancia no aceptados
          <i class="fa fa-folder-open" aria-hidden="true"></i></a
        >&nbsp;
        <a
          (click)="certificateDelivery(4)"
          style="cursor: pointer"
          class="link-primary"
          >Constancia no retirados
          <i class="fa fa-folder-open" aria-hidden="true"></i></a
        >&nbsp;

        <button class="btn btn-primary btn-sm active">
          Guardar <i class="fa fa-save" aria-hidden="true"></i>
        </button>
      </div>

      <div class="btn-toolbar pt-5">
        <button class="btn btn-success btn-sm active">
          <i class="fa fa-arrow-down" aria-hidden="true"></i> Descargar
        </button>
        <button class="btn btn-primary btn-sm active" (click)="delivery()">
          <i class="fa fa-check-circle" aria-hidden="true"></i> Entregados
        </button>
        <button class="btn btn-danger btn-sm active">
          <i class="fa fa-times-circle" aria-hidden="true"></i> No entregados
        </button>
      </div>

      <div class="row pt-5">
        <div class="col-md-12">
          <div class="table-responsive">
            <div [class]="loading ? 'table-loading' : ''">
              <ng2-smart-table
                #table
                [attr.class]="'table-bordered table-responsive'"
                [settings]="GoodDeliverySettings"
                [source]="goodDeliveryArray"
                (userRowSelect)="selectRows($event)"
                ><!-- (rowSelect)="editRequest($event)" (edit)="openForm($event.data)" -->
              </ng2-smart-table>
            </div>
          </div>
          <app-pagination
            [params]="goodParams"
            [totalItems]="devgoodTotalItems"></app-pagination>
        </div>
      </div>

      <div class="table-responsive pt-5">
        <div class="btn-toolbar">
          <button (click)="newDocument()" class="btn btn-primary btn-sm active">
            <i class="fa fa-folder" aria-hidden="true"></i> Documentos de la
            constancia
          </button>
        </div>

        <div class="row pt-5">
          <div class="col-md-12">
            <div class="table-responsive">
              <div [class]="loading ? 'table-loading' : ''">
                <ng2-smart-table
                  [attr.class]="'table-bordered table-responsive'"
                  [settings]="constancyDeliverySettings"
                  [source]="constancyDeliveryArray"
                  (delete)="close($event.data)"
                  (edit)="preview($event.data)"
                  ><!-- (rowSelect)="editRequest($event)" (edit)="openForm($event.data)" -->
                </ng2-smart-table>
              </div>
            </div>
            <app-pagination
              [params]="constancyParams"
              [totalItems]="constancyTotalItems"></app-pagination>
          </div>
        </div>
      </div>
    </div>
  </div>
</app-card>
