<app-card [header]="true">
  <div class="ch-content" header>
    <h5 class="title">
      {{ title }}
    </h5>
  </div>

  <div body style="margin-top: -30px">
    <div class="justify-content-end btn-toolbar">
      <button
        *ngIf="!claimRequest"
        (click)="setClaimRequest()"
        class="btn btn-info btn-sm active">
        <!-- <i class="fa fa-reply" aria-hidden="true"></i> -->
        Reclamar
      </button>

      <button *ngIf="claimRequest" class="btn btn-info btn-sm active">
        Liberar <i class="fa fa-reply" aria-hidden="true"></i>
      </button>

      <button
        *ngIf="claimRequest && (task == 10 || task == 13)"
        class="btn btn-info btn-sm active"
        (click)="refuseJustification()">
        Rechazar Justificaci√≥n <i class="fa fa-reply" aria-hidden="true"></i>
      </button>

      <button
        *ngIf="
          claimRequest &&
          (task == 2 ||
            task == 3 ||
            task == 5 ||
            task == 6 ||
            task == 7 ||
            task == 8 ||
            task == 10 ||
            task == 13 ||
            task == 11)
        "
        type="button"
        class="btn btn-primary active btn-sm"
        (click)="generateOrdSerReport()">
        Generar reporte de orden de servicio
        <i class="bx bx-edit-alt"></i>
      </button>

      <button
        (click)="sendOrderService()"
        *ngIf="
          claimRequest &&
          (task == 1 ||
            task == 4 ||
            task == 9 ||
            task == 12 ||
            task == 14 ||
            task == 15)
        "
        class="btn btn-success btn-sm active">
        Enviar <i class="fa fa-paper-plane" aria-hidden="true"></i>
      </button>

      <button
        (click)="sendJustification()"
        *ngIf="
          claimRequest && (task == 9 || task == 12 || task == 14 || task == 15)
        "
        class="btn btn-success btn-sm active">
        Enviar Justificaci&oacute;
        <i class="fa fa-paper-plane" aria-hidden="true"></i>
      </button>

      <button
        (click)="rejectOrder()"
        *ngIf="
          claimRequest &&
          (task == 2 || task == 5 || task == 8 || task == 11) &&
          isApprove == false
        "
        class="btn btn-success btn-sm active">
        Rechazar <i class="fa fa-times-circle" aria-hidden="true"></i>
      </button>

      <button
        *ngIf="claimRequest && isApprove == true"
        (click)="approve()"
        class="btn btn-primary btn-sm active">
        Aprobar <i class="fa fa-check" aria-hidden="true"></i>
      </button>

      <button
        (click)="saveService()"
        *ngIf="claimRequest"
        class="btn btn-primary btn-sm active">
        Guardar <i class="fa fa-save" aria-hidden="true"></i>
      </button>

      <button
        (click)="annexWReport()"
        *ngIf="claimRequest && (task == 5 || task == 7)"
        class="btn btn-primary btn-sm active">
        Anexo W <i class="fa fa-file ml-3" aria-hidden="true"></i>
      </button>
    </div>

    <app-detail-service-order></app-detail-service-order>

    <app-address-transferent-form
      *ngIf="orderServiceId != null"
      [ordServform]="ordServform"></app-address-transferent-form>

    <app-tranportable-goods-form></app-tranportable-goods-form>

    <app-order-service-form
      *ngIf="orderServiceId != null"
      [ordServform]="ordServform"
      [op]="op"
      [showForm]="showForm"
      [total]="total"></app-order-service-form>

    <app-classificate-vehicle-form
      [op]="op"
      [showForm]="showForm"></app-classificate-vehicle-form>

    <app-address-origin-form
      *ngIf="orderServiceId != null"
      [ordServform]="ordServform"></app-address-origin-form>

    <app-comments-form
      *ngIf="orderServiceId != null"
      [ordServform]="ordServform"
      [op]="op"
      [showForm]="showForm"></app-comments-form>

    <app-service-transportable-goods-form
      *ngIf="orderServiceId != null"
      [op]="op"
      [typeOrder]="typeOrder"
      [justificationRefused]="justificationRefused"
      [showForm]="showForm"
      [orderServiceId]="orderServiceId"
      [isUpdate]="isUpdate"
      (totEvent)="getTotal($event)"></app-service-transportable-goods-form>
  </div>
</app-card>
