<div class="pt-1">
  <div class="row">
    <div class="col-md-12">
      <h5 class="title">
        <strong>Busqueda de Documentos de {{ typeDoc }}</strong>
      </h5>
    </div>
  </div>
  <div class="pt-4">
    <form [formGroup]="docRequestForm" class="form-material">
      <div class="row pt-2">
        <div class="col-md-6">
          <form-field
            [control]="docRequestForm.get('text')"
            label="Descripción">
            <textarea
              class="form-control"
              type="text"
              row
              pt-5s="2"
              formControlName="text"
              placeholder=""></textarea>
          </form-field>
        </div>
        <div class="col-md-6">
          <ngx-select
            [form]="docRequestForm"
            control="docType"
            (fetchItems)="getDocType($event)"
            [data]="selectDocType"
            label="Tipo de Documento"
            value="docType">
          </ngx-select>
        </div>
      </div>
      <div class="row pt-4">
        <div class="col-md-3">
          <form-field
            [control]="docRequestForm.get('docTitle')"
            label="Título del Documento">
            <input
              type="text"
              class="form-control"
              formControlName="docTitle"
              placeholder="" />
          </form-field>
        </div>
        <div class="col-md-3">
          <form-field
            [control]="docRequestForm.get('typeTrasf')"
            label="Título de Transferencia">
            <input
              type="text"
              class="form-control"
              formControlName="typeTrasf"
              placeholder="" />
          </form-field>
        </div>
        <div class="col-md-3">
          <form-field
            [control]="docRequestForm.get('contributor')"
            label="Contribuyente">
            <input
              type="text"
              class="form-control"
              formControlName="contributor"
              placeholder="" />
          </form-field>
        </div>
        <div class="col-md-3">
          <form-field [control]="docRequestForm.get('author')" label="Autor">
            <input
              type="text"
              class="form-control"
              formControlName="author"
              placeholder="" />
          </form-field>
        </div>
      </div>
      <div class="row pt-4">
        <div class="col-md-3">
          <form-field
            [control]="docRequestForm.get('sender')"
            label="Remitente">
            <input
              type="text"
              class="form-control"
              formControlName="sender"
              placeholder="" />
          </form-field>
        </div>
        <div class="col-md-3">
          <form-field
            [control]="docRequestForm.get('noOfice')"
            label="No. Oficina">
            <input
              type="text"
              class="form-control"
              formControlName="noOfice"
              placeholder="" />
          </form-field>
        </div>
        <div class="col-md-3">
          <form-field
            [control]="docRequestForm.get('senderCharge')"
            label="Cargo Remitento">
            <input
              type="text"
              class="form-control"
              formControlName="senderCharge"
              placeholder="" />
          </form-field>
        </div>
        <div class="col-md-3">
          <form-field
            [control]="docRequestForm.get('comment')"
            label="Descripción">
            <textarea
              class="form-control"
              type="text"
              row
              pt-5s="2"
              formControlName="comment"
              placeholder=""></textarea>
          </form-field>
        </div>
      </div>
      <div class="row pt-4">
        <div class="col-md-3">
          <form-field
            [control]="docRequestForm.get('noRequest')"
            label="Numero Solicitud">
            <input
              type="text"
              class="form-control"
              formControlName="noRequest"
              placeholder="" />
          </form-field>
        </div>
        <div class="col-md-3">
          <form-field
            [control]="docRequestForm.get('responsible')"
            label="Responsable">
            <input
              type="text"
              class="form-control"
              formControlName="responsible"
              placeholder="" />
          </form-field>
        </div>
      </div>
      <div class="row">
        <div class="col align-self-end">
          <button
            (click)="search()"
            class="btn btn-primary active btn-sm ml-3"
            style="height: 36px">
            Buscar
          </button>
          <button
            (click)="cleanForm()"
            class="btn btn-danger active btn-sm ml-3">
            Limpiar
          </button>
        </div>
      </div>
    </form>

    <div class="row pt-4">
      <div class="d-flex">
        <div class="form-material p-2">
          <search-bar [params]="params"></search-bar>
        </div>
        <div class="ml-auto p-2">
          <button class="btn btn-primary btn-sm active" (click)="openNewDocument()">Nuevo</button>
        </div>
      </div>
    </div>
    <div class="row pt-2">
      <div class="col-md-12" style="overflow-x: scroll">
          <div [class]="loading ? 'table-loading' : ''">
            <ng2-smart-table 
              [attr.class]="'table-bordered'"
              [settings]="settings"
              [source]="paragraphs">
            </ng2-smart-table>
          </div>
      </div>
    </div>
  </div>
</div>
