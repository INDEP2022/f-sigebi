<div>
  <div class="row pt-4">
    <div class="d-flex">
      <div class="mr-auto p-2">
        <h5 class="title">
          <strong>Clasificaci&oacute;n del Bien</strong>
        </h5>
      </div>
      <div class="p-2 buttons">
        <button
          [disabled]="isClassifyAsset == true"
          class="btn btn-secondary btn-sm active"
          (click)="openSearchModal()">
          B&uacute;squeda Avanzada
        </button>
      </div>
      <div class="p-2 buttons">
        <button
          [disabled]="statusTask == 'FINALIZADA' || isClassifyAsset == true"
          class="btn btn-primary btn-sm active"
          (click)="saveRequest()">
          <i class="bx bx-save"></i> Guardar
        </button>
      </div>
      <div class="p-2 buttons">
        <button
          [disabled]="isClassifyAsset == true"
          class="btn btn-danger btn-sm active"
          (click)="cleanLvl()">
          Limpiar
        </button>
      </div>
    </div>
  </div>
  <div class="row" *ngIf="formLoading" style="margin-bottom: 5rem">
    <form-loader *ngIf="formLoading"></form-loader>
  </div>
  <div *ngIf="!formLoading">
    <form [formGroup]="classiGoodsForm"></form>
    <div class="row pt-4">
      <div class="col-md-6">
        <div
          [formGroup]="classiGoodsForm"
          class="form-group form-secondary form-static-label">
          <ng-select
            class="form-control"
            formControlName="ligieSection"
            [clearable]="false"
            [items]="selectSection"
            [virtualScroll]="true"
            [loading]="loading"
            bindLabel="description"
            bindValue="id"
            [readonly]="isClassifyAsset">
            <ng-template ng-option-tmp let-item="item" let-index="index">
              <div [title]="item.description">
                <b>{{ item.code }}</b> {{ item.description }}
              </div>
            </ng-template>
          </ng-select>
          <span class="form-bar"></span>
          <label class="float-label">Secci√≥n</label>
        </div>
      </div>
      <div class="col-md-6">
        <div
          [formGroup]="classiGoodsForm"
          class="form-group form-secondary form-static-label">
          <ng-select
            class="form-control"
            formControlName="ligieChapter"
            [clearable]="false"
            [items]="selectChapter"
            [virtualScroll]="true"
            [loading]="loading"
            bindLabel="description"
            [notFoundText]="noItemsFoundMessage"
            bindValue="id"
            [readonly]="isClassifyAsset">
            <ng-template ng-option-tmp let-item="item" let-index="index">
              <div [title]="item.description">
                <b>{{ item.code }}</b> {{ item.description }}
              </div>
            </ng-template>
          </ng-select>
          <span class="form-bar"></span>
          <label class="float-label">Cap&iacute;tulo</label>
        </div>
      </div>
    </div>
    <div class="row pt-4">
      <div class="col-md-6">
        <div
          [formGroup]="classiGoodsForm"
          class="form-group form-secondary form-static-label">
          <ng-select
            class="form-control"
            formControlName="ligieLevel1"
            [clearable]="false"
            [items]="selectLevel1"
            [virtualScroll]="true"
            [loading]="loading"
            bindLabel="description"
            [notFoundText]="noItemsFoundMessage"
            bindValue="id"
            [readonly]="isClassifyAsset">
            <ng-template ng-option-tmp let-item="item" let-index="index">
              <div [title]="item.description">
                <b>{{ item.code }}</b> {{ item.description }}
              </div>
            </ng-template>
          </ng-select>
          <span class="form-bar"></span>
          <label class="float-label">Nivel 1</label>
        </div>
        <!-- <ngx-select
            [form]="classiGoodsForm"
            control="ligieLevel1"
            (fetchItems)="getLevel1($event)"
            [data]="selectLevel1"
            [searchable]="false"
            bindLabel="description"
            label="Nivel 1"
            value="id">
          </ngx-select> -->
      </div>
      <div class="col-md-6">
        <div
          [formGroup]="classiGoodsForm"
          class="form-group form-secondary form-static-label">
          <ng-select
            class="form-control"
            formControlName="ligieLevel2"
            [clearable]="false"
            [items]="selectLevel2"
            [virtualScroll]="true"
            [loading]="loading"
            bindLabel="description"
            [notFoundText]="noItemsFoundMessage"
            bindValue="id"
            [readonly]="isClassifyAsset">
            <ng-template ng-option-tmp let-item="item" let-index="index">
              <div [title]="item.description">
                <b>{{ item.code }}</b> {{ item.description }}
              </div>
            </ng-template>
          </ng-select>
          <span class="form-bar"></span>
          <label class="float-label">Nivel 2</label>
        </div>
        <!--  <ngx-select
            [form]="classiGoodsForm"
            control="ligieLevel2"
            (fetchItems)="getLevel2($event)"
            [data]="selectLevel2"
            [searchable]="false"
            bindLabel="description"
            label="Nivel 2"
            value="id">
          </ngx-select> -->
      </div>
    </div>
    <div class="row pt-4">
      <div class="col-md-6">
        <div
          [formGroup]="classiGoodsForm"
          class="form-group form-secondary form-static-label">
          <ng-select
            class="form-control"
            formControlName="ligieLevel3"
            [clearable]="false"
            [items]="selectLevel3"
            [virtualScroll]="true"
            [loading]="loading"
            bindLabel="description"
            [notFoundText]="noItemsFoundMessage"
            bindValue="id"
            [readonly]="isClassifyAsset">
            <ng-template ng-option-tmp let-item="item" let-index="index">
              <div [title]="item.description">
                <b>{{ item.code }}</b> {{ item.description }}
              </div>
            </ng-template>
          </ng-select>
          <span class="form-bar"></span>
          <label class="float-label">Nivel 3</label>
        </div>
      </div>
      <div class="col-md-6">
        <div
          [formGroup]="classiGoodsForm"
          class="form-group form-secondary form-static-label">
          <ng-select
            class="form-control"
            formControlName="ligieLevel4"
            [clearable]="false"
            [items]="selectLevel4"
            [virtualScroll]="true"
            [loading]="loading"
            bindLabel="description"
            [notFoundText]="noItemsFoundMessage"
            bindValue="id"
            [readonly]="isClassifyAsset">
            <ng-template ng-option-tmp let-item="item" let-index="index">
              <div [title]="item.description">
                <b>{{ item.code }}</b> {{ item.description }}
              </div>
            </ng-template>
          </ng-select>
          <span class="form-bar"></span>
          <label class="float-label">Nivel 4</label>
        </div>
      </div>
    </div>
    <!--   </div> -->

    <div class="row pt-4" *ngIf="typeDoc === 'assets'">
      <hr style="color: black" />
      <app-detail-assets-tab-component
        [requestObject]="requestObject"
        [detailAssets]="classiGoodsForm"
        [domicilieObject]="domicilieObject"
        [process]="process"
        [childSaveAction]="childSaveAction"
        [typeDoc]="typeDoc"></app-detail-assets-tab-component>
    </div>
  </div>
</div>
