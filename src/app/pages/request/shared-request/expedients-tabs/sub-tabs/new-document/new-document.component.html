<app-modal>
  <div header>
    <h5 class="modal-title">{{ title }}</h5>
  </div>
  <div body>
    <form class="form-material" [formGroup]="newDocForm">
      <div class="row">
        <div class="col-md-6">
          <ngx-select
            [form]="newDocForm"
            control="docType"
            (fetchItems)="getTypeDoc($event)"
            [data]="selectTypeDoc"
            label="Tipo de Documento"
            value="docType"></ngx-select>
        </div>
      </div>
      <div class="row pt-4">
        <div class="col-md-7">
          <form-field
            [control]="newDocForm.get('docFile')"
            label="Cargo Remitento">
            <input
              type="file"
              class="form-control"
              formControlName="docFile"
              (change)="selectFile($event)" />
          </form-field>
        </div>
      </div>
      <div class="row pt-4">
        <div class="col-md-7">
          <form-field
            [control]="newDocForm.get('docTit')"
            label="&#42;T&iacute;tulo del Documento">
            <input type="text" class="form-control" formControlName="docTit" />
          </form-field>
        </div>
      </div>
      <div class="row pt-4">
        <div class="col-md-6">
          <p for="">
            <span *ngIf="typeDoc === 'doc-request'"
              >No&#46; Solicitud&#58;</span
            >
            <span *ngIf="typeDoc === 'doc-expedient'"
              >No&#46; Expediente&#58;</span
            >
            <span *ngIf="typeDoc === 'good'">No&#46; Bien&#58;</span>
            <span>{{ newDocForm.get('noExpedient').value }}</span>
          </p>
        </div>
        <div class="col-md-6">
          <form-field
            [control]="newDocForm.get('contributor')"
            label="Contribuyente">
            <input
              type="text"
              class="form-control"
              formControlName="contributor" />
          </form-field>
        </div>
      </div>
      <div class="row pt-4">
        <div class="col-md-6">
          <p for="">
            Delegaci&oacute;n Regional&#58;
            <span>{{ newDocForm.get('regDelega').value }}</span>
          </p>
        </div>
        <div class="col-md-6">
          <form-field
            [control]="newDocForm.get('noOfi')"
            label="No&#46; Oficina">
            <input type="text" class="form-control" formControlName="noOfi" />
          </form-field>
        </div>
      </div>
      <div class="row pt-4">
        <div class="col-md-6">
          <p for="">
            Estado&#58; <span>{{ newDocForm.get('state').value }}</span>
          </p>
        </div>
        <div class="col-md-6">
          <p for="">
            Transferente&#58; <span>{{ newDocForm.get('tranfe').value }}</span>
          </p>
        </div>
      </div>
      <div class="row pt-4">
        <div class="col-md-6">
          <form-field [control]="newDocForm.get('sender')" label="Remitente">
            <input type="text" class="form-control" formControlName="sender" />
          </form-field>
        </div>
        <div class="col-md-6">
          <form-field
            [control]="newDocForm.get('senderCharge')"
            label="Cargo Remitente">
            <input
              type="text"
              class="form-control"
              formControlName="senderCharge" />
          </form-field>
        </div>
      </div>
      <div class="row pt-4">
        <div class="col-md-6">
          <form-field
            [control]="newDocForm.get('responsible')"
            label="Responsable">
            <input
              type="text"
              class="form-control"
              formControlName="responsible" />
          </form-field>
        </div>
        <div class="col-md-6">
          <form-field
            [control]="newDocForm.get('observations')"
            label="Comentarios">
            <textarea class="form-control" formControlName="observations">
            </textarea>
          </form-field>
        </div>
      </div>

      <div
        class="ms-n2 mb-2 pointer"
        (click)="toggleSearch = !toggleSearch"
        [attr.aria-expanded]="!toggleSearch"
        aria-controls="collapseAdditional">
        <i
          class="bx bx-chevron-down bx-md float-icon-md"
          [ngClass]="{
            'rotate-down': toggleSearch,
            'rotate-up': !toggleSearch
          }"></i>
        <h6 class="d-inline">Informaci&oacute;n Adicional</h6>
      </div>
      <div
        *ngIf="newDocForm.contains('returnOpinionFolio')"
        class="row mt-5"
        id="collapseAdditional"
        [isAnimated]="true"
        [collapse]="!toggleSearch">
        <div *ngIf="newDocForm.contains('returnOpinionFolio')" class="col-md-3">
          <div class="mb-3 pl-4 pr-4">
            <form-field
              [control]="newDocForm.get('returnOpinionFolio')"
              label="Folio Dictamen DevoluciÃ³n">
              <input
                type="text"
                class="form-control"
                formControlName="returnOpinionFolio" />
            </form-field>
          </div>
        </div>
      </div>
    </form>
  </div>
  <div footer>
    <div class="d-flex justify-content-center">
      <div class="m-3">
        <confirm-button
          [disabled]="newDocForm.invalid"
          [loading]="loading"
          (confirm)="confirm()">
        </confirm-button>
      </div>
      <div class="m-3">
        <button type="button" class="btn btn-danger active" (click)="close()">
          Cancelar
        </button>
      </div>
    </div>
  </div>
</app-modal>
