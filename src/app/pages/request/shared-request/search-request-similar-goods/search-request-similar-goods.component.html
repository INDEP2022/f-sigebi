<app-search-requests (onSearch)="getFormSeach($event)"></app-search-requests>
<div class="row mb-3 mt-3">
  <!-- <div class="row mt-3">
    <div class="col-sm-12 col-md-12 col-lg-6">
      <div class="form-material">
        <search-bar [filterParams]="params"></search-bar>
      </div>
    </div>
  </div> -->
  <div class="d-flex mb-3 mt-3">
    <div class="mr-auto p-2" *ngIf="selected">
      <button [disabled]="!loadGoods" class="btn btn-primary btn-sm active" (click)="selectGood()">
        Seleccionar <i class="fa fa-file"></i>
      </button>
    </div>
    <div class="mr-auto p-2" *ngIf="!selected">
      <button class="btn btn-primary btn-sm active" (click)="newExpedient()">
        Nuevo Expediente <i class="fa fa-file"></i>
      </button>
    </div>
    <div class="p-2">
      <app-columns-select [leftList]="true" [(settings)]="settings">
      </app-columns-select>
    </div>
  </div>

  <div [class]="loading ? 'table-loading' : ''">
    <ng2-smart-table
      [attr.class]="'table-bordered table-responsive'"
      [settings]="settings"
      [source]="data"
      (userRowSelect)="onUserRowSelect($event)"
      (custom)="onCustom($event)">
    </ng2-smart-table>
    <div class="table-padding"></div>
  </div>
  <app-pagination [filterParams]="params" [totalItems]="totalItems">
  </app-pagination>
</div>

<div
  *ngIf="requestInfo?.affair != 13"
  class="ms-n2 mb-2 pointer"
  (click)="showDetails = !showDetails"
  [attr.aria-expanded]="!showDetails"
  aria-controls="collapseSearch">
  <i
    class="bx bx-chevron-down bx-md float-icon-md"
    [ngClass]="{ 'rotate-down': showDetails, 'rotate-up': !showDetails }"></i>
  <h6 class="d-inline">Bienes Similares Seleccionados</h6>
</div>
<div
  *ngIf="requestInfo?.affair != 13"
  class="row mt-5"
  id="collapseSearch"
  [isAnimated]="true"
  [collapse]="!showDetails">
  <div class="d-flex justify-content-end mb-3 mt-3">
    <app-columns-select [leftList]="true" [(settings)]="settings2">
    </app-columns-select>
  </div>
  <div [class]="loading ? 'table-loading' : ''">
    <ng2-smart-table
      [attr.class]="'table-bordered table-responsive'"
      [settings]="settings2"
      [source]="data2">
    </ng2-smart-table>
  </div>
  <app-pagination [params]="params2" [totalItems]="totalItems2">
  </app-pagination>
</div>

<!--<h5 class="title">
  <p>
    <a class="text-color" (click)="showDetails = true" *ngIf="!showDetails">
      <i class="fa fa-angle-right mr-1" aria-hidden="true"></i>Bienes Similares Seleccionados</a
    >
  </p>
  <p>
    <a class="text-color" (click)="showDetails = false" *ngIf="showDetails">
      <i class="fa fa-angle-down mr-1" aria-hidden="true"></i>Bienes Similares Seleccionados</a
    >
  </p>
</h5>-->
<!--
<div class="row mb-3 mt-3" *ngIf="showDetails">
  <div class="d-flex justify-content-end mb-3 mt-3"> 
    <app-columns-select
      [(settings)]="settings">
    </app-columns-select>
  </div>
  <ng-scrollbar [track]="'horizontal'" [autoHeightDisabled]="false">
    <div [class]="loading ? 'table-loading' : ''">
      <ng2-smart-table
        [attr.class]="'table-bordered'"
        [settings]="settings"
        [source]="data"
        (userRowSelect)="onUserRowSelect($event)"
        (custom)="onCustom($event)">
      </ng2-smart-table>
    </div>
  </ng-scrollbar>
  <app-pagination [params]="params" [totalItems]="totalItems"> </app-pagination>
</div>-->
